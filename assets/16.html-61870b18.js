import{_ as m,X as d,Y as h,a1 as b,Z as s,$ as n,a0 as o,a2 as a,a3 as i,D as p}from"./framework-bc96d6c5.js";const v="/aurora-blog/assets/heap1-90b8fb96.png",y="/aurora-blog/assets/heap2-6909fea5.png",g="/aurora-blog/assets/image-20230218152121751-059e223d.png",w="/aurora-blog/assets/image-20230218152202446-9f7d83de.png",f="/aurora-blog/assets/image-20230218152236653-ad2b02dd.png",x="/aurora-blog/assets/image-20230218152308750-5a1ea63b.png",_="/aurora-blog/assets/image-20230218152330083-3cd11064.png",z="/aurora-blog/assets/image-20230218152351032-ada2b92a.png",T="/aurora-blog/assets/image-20230218153547697-2da6d729.png",M="/aurora-blog/assets/image-20230218153620122-b986284a.png",O="/aurora-blog/assets/image-20230218153735264-13a7d25a.png",H="/aurora-blog/assets/image-20230218153759473-09b6f520.png",L="/aurora-blog/assets/image-20230218153822334-2ac896a1.png",j="/aurora-blog/assets/image-20230218153848240-d0434afd.png",A="/aurora-blog/assets/image-20230218153913409-6ccb5fca.png",I="/aurora-blog/assets/image-20230218153937642-28e3dded.png",C="/aurora-blog/assets/image-20230218154001647-9f75a2c4.png",V="/aurora-blog/assets/image-20230218154023965-2652af87.png",q="/aurora-blog/assets/image-20230218160035525-022d8a1d.png",D={},P=s("p",null,"「堆 heap」",-1),S=s("ul",null,[s("li",null,[n("「大根堆 Max Heap」, 任意结点的值 "),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mo",null,"≥")]),s("annotation",{encoding:"application/x-tex"},"\\ge")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.7719em","vertical-align":"-0.136em"}}),s("span",{class:"mrel"},"≥")])])]),n(" 其子结点的值")]),s("li",null,[n("「小根堆 Min Heap」, 任意结点的值 "),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mo",null,"≤")]),s("annotation",{encoding:"application/x-tex"},"\\le")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.7719em","vertical-align":"-0.136em"}}),s("span",{class:"mrel"},"≤")])])]),n(" 其子结点的值")])],-1),N=i('<p><img src="'+v+'" alt=""></p><ul><li>由于堆是完全二叉树，所以最后一层结点全部靠左填充，其他层都被填满；</li><li>完全二叉树的根结点的对应的「堆顶」，底层靠右元素对应的「堆底」；</li><li>「大根堆」中堆顶元素值最大</li><li>「小根堆」中堆顶元素值最小</li></ul><div class="hint-container info"><p class="hint-container-title">相关信息</p><p>不管是什么堆，都是根据对应的「优先顺序」要在每次操作之后对堆进行调整以保持规定的优先顺序。</p></div><h2 id="堆的常用操作" tabindex="-1"><a class="header-anchor" href="#堆的常用操作" aria-hidden="true">#</a> 堆的常用操作</h2><p>「优先队列 Priority Queue」定义为具有队列优先级的队列，这与堆的操作逻辑一致，所以可将「优先队列」等价于「堆」，下表为常用操作：(以java为例)</p>',5),B=s("table",null,[s("thead",null,[s("tr",null,[s("th",{style:{"text-align":"center"}},"方法"),s("th",{style:{"text-align":"center"}},"描述"),s("th",{style:{"text-align":"center"}},"时间复杂度")])]),s("tbody",null,[s("tr",null,[s("td",{style:{"text-align":"center"}},[s("code",null,"add()")]),s("td",{style:{"text-align":"center"}},"元素入堆"),s("td",{style:{"text-align":"center"}},[s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mi",null,"O"),s("mo",{stretchy:"false"},"("),s("mi",null,"l"),s("mi",null,"o"),s("mi",null,"g"),s("mtext",null," "),s("mi",null,"n"),s("mo",{stretchy:"false"},")")]),s("annotation",{encoding:"application/x-tex"},"O(log \\ n)")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),s("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"O"),s("span",{class:"mopen"},"("),s("span",{class:"mord mathnormal",style:{"margin-right":"0.01968em"}},"l"),s("span",{class:"mord mathnormal"},"o"),s("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"g"),s("span",{class:"mspace"}," "),s("span",{class:"mord mathnormal"},"n"),s("span",{class:"mclose"},")")])])])])]),s("tr",null,[s("td",{style:{"text-align":"center"}},[s("code",null,"poll()")]),s("td",{style:{"text-align":"center"}},"弹出堆顶元素"),s("td",{style:{"text-align":"center"}},[s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mi",null,"O"),s("mo",{stretchy:"false"},"("),s("mi",null,"l"),s("mi",null,"o"),s("mi",null,"g"),s("mtext",null," "),s("mi",null,"n"),s("mo",{stretchy:"false"},")")]),s("annotation",{encoding:"application/x-tex"},"O(log \\ n)")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),s("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"O"),s("span",{class:"mopen"},"("),s("span",{class:"mord mathnormal",style:{"margin-right":"0.01968em"}},"l"),s("span",{class:"mord mathnormal"},"o"),s("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"g"),s("span",{class:"mspace"}," "),s("span",{class:"mord mathnormal"},"n"),s("span",{class:"mclose"},")")])])])])]),s("tr",null,[s("td",{style:{"text-align":"center"}},[s("code",null,"peek()")]),s("td",{style:{"text-align":"center"}},"查看堆顶元素(不弹出)"),s("td",{style:{"text-align":"center"}},[s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mi",null,"O"),s("mo",{stretchy:"false"},"("),s("mn",null,"1"),s("mo",{stretchy:"false"},")")]),s("annotation",{encoding:"application/x-tex"},"O(1)")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),s("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"O"),s("span",{class:"mopen"},"("),s("span",{class:"mord"},"1"),s("span",{class:"mclose"},")")])])])])]),s("tr",null,[s("td",{style:{"text-align":"center"}},[s("code",null,"size()")]),s("td",{style:{"text-align":"center"}},"堆中元素数量"),s("td",{style:{"text-align":"center"}},[s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mi",null,"O"),s("mo",{stretchy:"false"},"("),s("mn",null,"1"),s("mo",{stretchy:"false"},")")]),s("annotation",{encoding:"application/x-tex"},"O(1)")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),s("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"O"),s("span",{class:"mopen"},"("),s("span",{class:"mord"},"1"),s("span",{class:"mclose"},")")])])])])]),s("tr",null,[s("td",{style:{"text-align":"center"}},[s("code",null,"isEmpty()")]),s("td",{style:{"text-align":"center"}},"判断堆是否为空"),s("td",{style:{"text-align":"center"}},[s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mi",null,"O"),s("mo",{stretchy:"false"},"("),s("mn",null,"1"),s("mo",{stretchy:"false"},")")]),s("annotation",{encoding:"application/x-tex"},"O(1)")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),s("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"O"),s("span",{class:"mopen"},"("),s("span",{class:"mord"},"1"),s("span",{class:"mclose"},")")])])])])])])],-1),E=s("h3",{id:"标准库中的优先队列",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#标准库中的优先队列","aria-hidden":"true"},"#"),n(" 标准库中的优先队列")],-1),Q=s("thead",null,[s("tr",null,[s("th",{style:{"text-align":"center"}}),s("th",{style:{"text-align":"center"}},"小根堆"),s("th",{style:{"text-align":"center"}},"大根堆")])],-1),R={style:{"text-align":"center"}},U={href:"https://rustwiki.org/zh-CN/std/collections/struct.BinaryHeap.html",target:"_blank",rel:"noopener noreferrer"},X=s("td",{style:{"text-align":"center"}},[s("code",null,"BinaryHeap<Reverse<T>>")],-1),Y=s("td",{style:{"text-align":"center"}},[s("code",null,"BinaryHeap<T>")],-1),Z={style:{"text-align":"center"}},$={href:"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/PriorityQueue.html",target:"_blank",rel:"noopener noreferrer"},F=s("td",{style:{"text-align":"center"}},[s("code",null,"PriorityQueue<T>")],-1),G=s("td",{style:{"text-align":"center"}},[s("code",null,"PriorityQueue<T>((a, b) -> b - a)")],-1),J={style:{"text-align":"center"}},K={href:"https://cplusplus.com/reference/queue/priority_queue/",target:"_blank",rel:"noopener noreferrer"},W=s("td",{style:{"text-align":"center"}},[s("code",null,"priority_queue<T,vector<T>,greater<T>>")],-1),ss=s("td",{style:{"text-align":"center"}},[s("code",null,"priority_queue<T,vector<T>,less<T>>")],-1),ns=s("div",{class:"language-rust line-numbers-mode","data-ext":"rs"},[s("pre",{class:"language-rust"},[s("code",null,[s("span",{class:"token comment"},"// 小根堆"),n(`
`),s("span",{class:"token keyword"},"let"),n(),s("span",{class:"token keyword"},"mut"),n(" min_heap "),s("span",{class:"token operator"},"="),n(),s("span",{class:"token class-name"},"BinaryHeap"),s("span",{class:"token punctuation"},"::"),s("span",{class:"token operator"},"<"),s("span",{class:"token class-name"},"Reverse"),s("span",{class:"token operator"},"<"),s("span",{class:"token keyword"},"isize"),s("span",{class:"token operator"},">>"),s("span",{class:"token punctuation"},"::"),s("span",{class:"token function"},"from"),s("span",{class:"token punctuation"},"("),n(`
  								`),s("span",{class:"token macro property"},"vec!"),s("span",{class:"token punctuation"},"["),s("span",{class:"token class-name"},"Reverse"),s("span",{class:"token punctuation"},"("),s("span",{class:"token number"},"1"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},","),n(),s("span",{class:"token class-name"},"Reverse"),s("span",{class:"token punctuation"},"("),s("span",{class:"token number"},"1"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},","),n(),s("span",{class:"token class-name"},"Reverse"),s("span",{class:"token punctuation"},"("),s("span",{class:"token number"},"3"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},"]"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`

`),s("span",{class:"token comment"},"// 大根堆"),n(`
`),s("span",{class:"token keyword"},"let"),n(),s("span",{class:"token keyword"},"mut"),n(" min_heap "),s("span",{class:"token operator"},"="),n(),s("span",{class:"token class-name"},"BinaryHeap"),s("span",{class:"token punctuation"},"::"),s("span",{class:"token operator"},"<"),s("span",{class:"token keyword"},"isize"),s("span",{class:"token operator"},">"),s("span",{class:"token punctuation"},"::"),s("span",{class:"token function"},"new"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`

min_heap`),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"push"),s("span",{class:"token punctuation"},"("),s("span",{class:"token number"},"10"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n("                    "),s("span",{class:"token comment"},"// 元素入推"),n(`
`),s("span",{class:"token keyword"},"let"),n(" heap_top "),s("span",{class:"token operator"},"="),n(" min_heap"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"peek"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n("       "),s("span",{class:"token comment"},"// 查看堆顶元素 (不弹出堆顶元素)"),n(`
min_heap`),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"pop"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n("                       "),s("span",{class:"token comment"},"// 直接弹出堆顶元素"),n(`
`),s("span",{class:"token keyword"},"let"),n(" size "),s("span",{class:"token operator"},"="),n(" min_heap"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"len"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n("            "),s("span",{class:"token comment"},"// 堆大小 (堆中元素个数)"),n(`
`),s("span",{class:"token keyword"},"let"),n(" is_empty "),s("span",{class:"token operator"},"="),n(" min_heap"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"is_empty"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n("   "),s("span",{class:"token comment"},"// 判断堆是否为空"),n(`
`)])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),as=s("div",{class:"language-java line-numbers-mode","data-ext":"java"},[s("pre",{class:"language-java"},[s("code",null,[s("span",{class:"token comment"},"// 初始化小根堆"),n(`
`),s("span",{class:"token class-name"},"PriorityQueue"),s("span",{class:"token generics"},[s("span",{class:"token punctuation"},"<"),s("span",{class:"token class-name"},"Integer"),s("span",{class:"token punctuation"},">")]),n(" minHeap "),s("span",{class:"token operator"},"="),n(),s("span",{class:"token keyword"},"new"),n(),s("span",{class:"token class-name"},"PriorityQueue"),s("span",{class:"token generics"},[s("span",{class:"token punctuation"},"<"),s("span",{class:"token punctuation"},">")]),s("span",{class:"token punctuation"},"("),s("span",{class:"token class-name"},"Arrays"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"asList"),s("span",{class:"token punctuation"},"("),s("span",{class:"token number"},"1"),s("span",{class:"token punctuation"},","),n(),s("span",{class:"token number"},"3"),s("span",{class:"token punctuation"},","),n(),s("span",{class:"token number"},"2"),s("span",{class:"token punctuation"},","),n(),s("span",{class:"token number"},"5"),s("span",{class:"token punctuation"},","),n(),s("span",{class:"token number"},"4"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`

`),s("span",{class:"token comment"},"// 初始化大根堆（使用 lambda 表达式修改 Comparator 即可）"),n(`
`),s("span",{class:"token class-name"},"PriorityQueue"),s("span",{class:"token generics"},[s("span",{class:"token punctuation"},"<"),s("span",{class:"token class-name"},"Integer"),s("span",{class:"token punctuation"},">")]),n(" maxHeap "),s("span",{class:"token operator"},"="),n(),s("span",{class:"token keyword"},"new"),n(),s("span",{class:"token class-name"},"PriorityQueue"),s("span",{class:"token generics"},[s("span",{class:"token punctuation"},"<"),s("span",{class:"token punctuation"},">")]),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},"("),n("a"),s("span",{class:"token punctuation"},","),n(" b"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token operator"},"->"),n(" b "),s("span",{class:"token operator"},"-"),n(" a"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`

maxHeap`),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"add"),s("span",{class:"token punctuation"},"("),s("span",{class:"token number"},"10"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n("    									"),s("span",{class:"token comment"},"// 元素入堆"),n(`
`),s("span",{class:"token class-name"},"Integer"),n(" heapTop "),s("span",{class:"token operator"},"="),n(" maxHeap"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"peek"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n("     "),s("span",{class:"token comment"},"// 查看堆顶元素 (不弹出堆顶元素)"),n(`
`),s("span",{class:"token class-name"},"Integer"),n(" heapTop "),s("span",{class:"token operator"},"="),n(" maxHeap"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"poll"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n("     "),s("span",{class:"token comment"},"// 直接弹出堆顶元素"),n(`
`),s("span",{class:"token keyword"},"int"),n(" size "),s("span",{class:"token operator"},"="),n(" maxHeap"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"size"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n("            "),s("span",{class:"token comment"},"// 堆大小 (堆中元素个数)"),n(`
`),s("span",{class:"token keyword"},"boolean"),n(" isEmpty "),s("span",{class:"token operator"},"="),n(" maxHeap"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"isEmpty"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n("  "),s("span",{class:"token comment"},"// 判断堆是否为空"),n(`
`)])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),ts=s("div",{class:"language-cpp line-numbers-mode","data-ext":"cpp"},[s("pre",{class:"language-cpp"},[s("code",null,[n("vector"),s("span",{class:"token operator"},"<"),s("span",{class:"token keyword"},"int"),s("span",{class:"token operator"},">"),n(" v "),s("span",{class:"token operator"},"="),n(),s("span",{class:"token punctuation"},"{"),s("span",{class:"token number"},"1"),s("span",{class:"token punctuation"},","),n(),s("span",{class:"token number"},"2"),s("span",{class:"token punctuation"},","),n(),s("span",{class:"token number"},"3"),s("span",{class:"token punctuation"},","),n(),s("span",{class:"token number"},"4"),s("span",{class:"token punctuation"},","),n(),s("span",{class:"token number"},"5"),s("span",{class:"token punctuation"},"}"),s("span",{class:"token punctuation"},";"),n(`
`),s("span",{class:"token comment"},"// 小根堆"),n(`
priority_queue`),s("span",{class:"token operator"},"<"),s("span",{class:"token keyword"},"int"),s("span",{class:"token punctuation"},","),n(" vector"),s("span",{class:"token operator"},"<"),s("span",{class:"token keyword"},"int"),s("span",{class:"token operator"},">"),s("span",{class:"token punctuation"},","),n(" greater"),s("span",{class:"token operator"},"<"),s("span",{class:"token keyword"},"int"),s("span",{class:"token operator"},">>"),n(),s("span",{class:"token function"},"min_heap"),s("span",{class:"token punctuation"},"("),n("v"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"begin"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},","),n("v"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"end"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`

`),s("span",{class:"token comment"},"// 大根堆"),n(`
priority_queue`),s("span",{class:"token operator"},"<"),s("span",{class:"token keyword"},"int"),s("span",{class:"token punctuation"},","),n(" vector"),s("span",{class:"token operator"},"<"),s("span",{class:"token keyword"},"int"),s("span",{class:"token operator"},">"),s("span",{class:"token punctuation"},","),n(" less"),s("span",{class:"token operator"},"<"),s("span",{class:"token keyword"},"int"),s("span",{class:"token operator"},">>"),n(" max_heap"),s("span",{class:"token punctuation"},";"),n(`

max_heap`),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"push"),s("span",{class:"token punctuation"},"("),s("span",{class:"token number"},"10"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n("                     "),s("span",{class:"token comment"},"// 元素入堆"),n(`
`),s("span",{class:"token keyword"},"int"),n(" heap_top "),s("span",{class:"token operator"},"="),n(" max_heap"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"top"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n("         "),s("span",{class:"token comment"},"// 查看堆顶元素 (不弹出堆顶元素)"),n(`
max_heap`),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"pop"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n("                        "),s("span",{class:"token comment"},"// 弹出堆顶元素"),n(`
`),s("span",{class:"token keyword"},"int"),n(" size "),s("span",{class:"token operator"},"="),n(" max_heap"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"size"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n("            "),s("span",{class:"token comment"},"// 堆大小 (堆中元素个数)"),n(`
`),s("span",{class:"token keyword"},"bool"),n(" is_empty "),s("span",{class:"token operator"},"="),n(" max_heap"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"empty"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n("      "),s("span",{class:"token comment"},"// 判断是否为空"),n(`
`)])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),es=i('<h2 id="堆的实现" tabindex="-1"><a class="header-anchor" href="#堆的实现" aria-hidden="true">#</a> 堆的实现</h2><h3 id="_1-堆的存储与表示" tabindex="-1"><a class="header-anchor" href="#_1-堆的存储与表示" aria-hidden="true">#</a> 1.堆的存储与表示</h3><p>既然「堆」是一颗「完全二叉树」，那么只需实现完全二叉树即可，但是堆在进行操作之后需要进行调整，而如果使用二叉链表型的二叉树，这会使得调整操作极其复杂；而数组在存储完全二叉树时表现很好，其会将所有的空结点都存储在数组的末尾。所以采用「数组」存储「堆」.</p><p>使用数组表示二叉树时：</p><ul><li>数组元素的值代表结点的值；</li><li><strong>索引值</strong>代表在二叉树中的位置 (存储顺序为完全二叉树的层序遍历)；</li></ul><p>在层序遍历下通过索引值可以非常容易的找到某个结点的左右子结点：</p>',6),ls=s("p",null,[n("例如：给定某结点的索引 "),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mi",null,"i")]),s("annotation",{encoding:"application/x-tex"},"i")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.6595em"}}),s("span",{class:"mord mathnormal"},"i")])])]),n(" ，其左子结点的索引为 "),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mn",null,"2"),s("mi",null,"i"),s("mo",null,"+"),s("mn",null,"1")]),s("annotation",{encoding:"application/x-tex"},"2i+1")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.7429em","vertical-align":"-0.0833em"}}),s("span",{class:"mord"},"2"),s("span",{class:"mord mathnormal"},"i"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mbin"},"+"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.6444em"}}),s("span",{class:"mord"},"1")])])]),n("，右子结点的索引为 "),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mn",null,"2"),s("mi",null,"i"),s("mo",null,"+"),s("mn",null,"2")]),s("annotation",{encoding:"application/x-tex"},"2i + 2")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.7429em","vertical-align":"-0.0833em"}}),s("span",{class:"mord"},"2"),s("span",{class:"mord mathnormal"},"i"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mbin"},"+"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.6444em"}}),s("span",{class:"mord"},"2")])])]),n(" ，父结点的索引为 "),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mo",{stretchy:"false"},"⌊"),s("mfrac",null,[s("mrow",null,[s("mi",null,"i"),s("mo",null,"−"),s("mn",null,"1")]),s("mn",null,"2")]),s("mo",{stretchy:"false"},"⌋")]),s("annotation",{encoding:"application/x-tex"},"⌊\\frac{i-1}{2}⌋")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1.2007em","vertical-align":"-0.345em"}}),s("span",{class:"mopen"},"⌊"),s("span",{class:"mord"},[s("span",{class:"mopen nulldelimiter"}),s("span",{class:"mfrac"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.8557em"}},[s("span",{style:{top:"-2.655em"}},[s("span",{class:"pstrut",style:{height:"3em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mtight"},[s("span",{class:"mord mtight"},"2")])])]),s("span",{style:{top:"-3.23em"}},[s("span",{class:"pstrut",style:{height:"3em"}}),s("span",{class:"frac-line",style:{"border-bottom-width":"0.04em"}})]),s("span",{style:{top:"-3.394em"}},[s("span",{class:"pstrut",style:{height:"3em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mtight"},[s("span",{class:"mord mathnormal mtight"},"i"),s("span",{class:"mbin mtight"},"−"),s("span",{class:"mord mtight"},"1")])])])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.345em"}},[s("span")])])])]),s("span",{class:"mclose nulldelimiter"})]),s("span",{class:"mclose"},"⌋")])])]),n(" ，当索引越界时，代表空结点或结点不存在。")],-1),os=s("p",null,"下图为一大根堆及其存储形式：",-1),cs=s("p",null,[s("img",{src:y,alt:"heap2"})],-1),ps=s("div",{class:"hint-container info"},[s("p",{class:"hint-container-title"},"相关信息"),s("p",null,[n("上面索引下标是从 "),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mn",null,"0")]),s("annotation",{encoding:"application/x-tex"},"0")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.6444em"}}),s("span",{class:"mord"},"0")])])]),n(" 开始，也可以从 "),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mn",null,"1")]),s("annotation",{encoding:"application/x-tex"},"1")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.6444em"}}),s("span",{class:"mord"},"1")])])]),n(" 开始，那么对应的索引 "),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mi",null,"i")]),s("annotation",{encoding:"application/x-tex"},"i")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.6595em"}}),s("span",{class:"mord mathnormal"},"i")])])]),n(" 的左子结点的索引就是 "),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mn",null,"2"),s("mi",null,"i")]),s("annotation",{encoding:"application/x-tex"},"2i")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.6595em"}}),s("span",{class:"mord"},"2"),s("span",{class:"mord mathnormal"},"i")])])]),n(" ，右子结点的索引就是 "),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mn",null,"2"),s("mi",null,"i"),s("mo",null,"+"),s("mn",null,"1")]),s("annotation",{encoding:"application/x-tex"},"2i+1")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.7429em","vertical-align":"-0.0833em"}}),s("span",{class:"mord"},"2"),s("span",{class:"mord mathnormal"},"i"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mbin"},"+"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.6444em"}}),s("span",{class:"mord"},"1")])])]),n(" ，父结点的索引就是 "),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mo",{stretchy:"false"},"⌊"),s("mfrac",null,[s("mi",null,"i"),s("mn",null,"2")]),s("mo",{stretchy:"false"},"⌋")]),s("annotation",{encoding:"application/x-tex"},"⌊\\frac{i}{2}⌋")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1.2007em","vertical-align":"-0.345em"}}),s("span",{class:"mopen"},"⌊"),s("span",{class:"mord"},[s("span",{class:"mopen nulldelimiter"}),s("span",{class:"mfrac"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.8557em"}},[s("span",{style:{top:"-2.655em"}},[s("span",{class:"pstrut",style:{height:"3em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mtight"},[s("span",{class:"mord mtight"},"2")])])]),s("span",{style:{top:"-3.23em"}},[s("span",{class:"pstrut",style:{height:"3em"}}),s("span",{class:"frac-line",style:{"border-bottom-width":"0.04em"}})]),s("span",{style:{top:"-3.394em"}},[s("span",{class:"pstrut",style:{height:"3em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mtight"},[s("span",{class:"mord mathnormal mtight"},"i")])])])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.345em"}},[s("span")])])])]),s("span",{class:"mclose nulldelimiter"})]),s("span",{class:"mclose"},"⌋")])])]),n(" 。")])],-1),is=s("div",{class:"language-rust line-numbers-mode","data-ext":"rs"},[s("pre",{class:"language-rust"},[s("code",null,[s("span",{class:"token keyword"},"pub"),n(),s("span",{class:"token keyword"},"struct"),n(),s("span",{class:"token type-definition class-name"},"Heap"),s("span",{class:"token operator"},"<"),s("span",{class:"token class-name"},"T"),s("span",{class:"token punctuation"},":"),n(),s("span",{class:"token class-name"},"Default"),s("span",{class:"token operator"},">"),s("span",{class:"token punctuation"},"{"),n(`
  count`),s("span",{class:"token punctuation"},":"),n(),s("span",{class:"token keyword"},"usize"),s("span",{class:"token punctuation"},","),n("                    "),s("span",{class:"token comment"},"// 堆中元素个数  "),n(`
  items`),s("span",{class:"token punctuation"},":"),n(),s("span",{class:"token class-name"},"Vec"),s("span",{class:"token operator"},"<"),s("span",{class:"token class-name"},"T"),s("span",{class:"token operator"},">"),s("span",{class:"token punctuation"},","),n("                   "),s("span",{class:"token comment"},"// 存储堆中元素的 Vec"),n(`
  comparator`),s("span",{class:"token punctuation"},":"),n(),s("span",{class:"token keyword"},"fn"),s("span",{class:"token punctuation"},"("),s("span",{class:"token operator"},"&"),s("span",{class:"token class-name"},"T"),s("span",{class:"token punctuation"},","),n(),s("span",{class:"token operator"},"&"),s("span",{class:"token class-name"},"T"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"->"),n(),s("span",{class:"token keyword"},"bool"),s("span",{class:"token punctuation"},","),n("  "),s("span",{class:"token comment"},"// cmp 函数，自定义优先级"),n(`
`),s("span",{class:"token punctuation"},"}"),n(`
`),s("span",{class:"token keyword"},"impl"),s("span",{class:"token operator"},"<"),s("span",{class:"token class-name"},"T"),s("span",{class:"token punctuation"},":"),n(),s("span",{class:"token class-name"},"Default"),s("span",{class:"token operator"},">"),n(),s("span",{class:"token class-name"},"Heap"),s("span",{class:"token operator"},"<"),s("span",{class:"token class-name"},"T"),s("span",{class:"token operator"},">"),n(),s("span",{class:"token punctuation"},"{"),n(`
  `),s("span",{class:"token comment"},"/// 创建一个空堆"),n(`
  `),s("span",{class:"token keyword"},"pub"),n(),s("span",{class:"token keyword"},"fn"),n(),s("span",{class:"token function-definition function"},"new"),s("span",{class:"token punctuation"},"("),n("comparator"),s("span",{class:"token punctuation"},":"),n(),s("span",{class:"token keyword"},"fn"),s("span",{class:"token punctuation"},"("),s("span",{class:"token operator"},"&"),s("span",{class:"token class-name"},"T"),s("span",{class:"token punctuation"},","),n(),s("span",{class:"token operator"},"&"),s("span",{class:"token class-name"},"T"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"->"),n(),s("span",{class:"token keyword"},"bool"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"->"),n(),s("span",{class:"token keyword"},"Self"),n(),s("span",{class:"token punctuation"},"{"),n(`
      `),s("span",{class:"token keyword"},"Self"),n(),s("span",{class:"token punctuation"},"{"),n(" count"),s("span",{class:"token punctuation"},":"),n(),s("span",{class:"token number"},"0"),s("span",{class:"token punctuation"},","),n(" items"),s("span",{class:"token punctuation"},":"),n(),s("span",{class:"token macro property"},"vec!"),s("span",{class:"token punctuation"},"["),s("span",{class:"token class-name"},"T"),s("span",{class:"token punctuation"},"::"),s("span",{class:"token function"},"default"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},"]"),s("span",{class:"token punctuation"},","),n(" comparator "),s("span",{class:"token punctuation"},"}"),n(`
  `),s("span",{class:"token punctuation"},"}"),n(`
  `),s("span",{class:"token comment"},"/// 父结点索引"),n(`
  `),s("span",{class:"token keyword"},"fn"),n(),s("span",{class:"token function-definition function"},"parent_idx"),s("span",{class:"token punctuation"},"("),s("span",{class:"token operator"},"&"),s("span",{class:"token keyword"},"self"),s("span",{class:"token punctuation"},","),n(" idx"),s("span",{class:"token punctuation"},":"),n(),s("span",{class:"token keyword"},"usize"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"->"),n(),s("span",{class:"token keyword"},"usize"),n(),s("span",{class:"token punctuation"},"{"),n(`
    idx `),s("span",{class:"token operator"},"/"),n(),s("span",{class:"token number"},"2"),n(`
  `),s("span",{class:"token punctuation"},"}"),n(`
  `),s("span",{class:"token comment"},"/// 左子结点索引 "),n(`
  `),s("span",{class:"token keyword"},"fn"),n(),s("span",{class:"token function-definition function"},"left_child_idx"),s("span",{class:"token punctuation"},"("),s("span",{class:"token operator"},"&"),s("span",{class:"token keyword"},"self"),s("span",{class:"token punctuation"},","),n(" idx"),s("span",{class:"token punctuation"},":"),n(),s("span",{class:"token keyword"},"usize"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"->"),n(),s("span",{class:"token keyword"},"usize"),n(),s("span",{class:"token punctuation"},"{"),n(`
    idx `),s("span",{class:"token operator"},"*"),n(),s("span",{class:"token number"},"2"),n(`
  `),s("span",{class:"token punctuation"},"}"),n(`
  `),s("span",{class:"token comment"},"/// 右子结点索引"),n(`
  `),s("span",{class:"token keyword"},"fn"),n(),s("span",{class:"token function-definition function"},"right_child_idx"),s("span",{class:"token punctuation"},"("),s("span",{class:"token operator"},"&"),s("span",{class:"token keyword"},"self"),s("span",{class:"token punctuation"},","),n(" idx"),s("span",{class:"token punctuation"},":"),n(),s("span",{class:"token keyword"},"usize"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"->"),n(),s("span",{class:"token keyword"},"usize"),n(),s("span",{class:"token punctuation"},"{"),n(`
    `),s("span",{class:"token keyword"},"self"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"left_child_idx"),s("span",{class:"token punctuation"},"("),n("idx"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token operator"},"+"),n(),s("span",{class:"token number"},"1"),n(`
  `),s("span",{class:"token punctuation"},"}"),n(`
`),s("span",{class:"token punctuation"},"}"),n(`
`),s("span",{class:"token keyword"},"impl"),s("span",{class:"token operator"},"<"),s("span",{class:"token class-name"},"T"),s("span",{class:"token punctuation"},":"),n(),s("span",{class:"token class-name"},"Default"),n(),s("span",{class:"token operator"},"+"),n(),s("span",{class:"token class-name"},"Ord"),s("span",{class:"token operator"},">"),n("  "),s("span",{class:"token class-name"},"Heap"),s("span",{class:"token operator"},"<"),s("span",{class:"token class-name"},"T"),s("span",{class:"token operator"},">"),n(),s("span",{class:"token punctuation"},"{"),n(`
  `),s("span",{class:"token comment"},"/// 创建小根堆"),n(`
  `),s("span",{class:"token keyword"},"pub"),n(),s("span",{class:"token keyword"},"fn"),n(),s("span",{class:"token function-definition function"},"new_min"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"->"),n(),s("span",{class:"token class-name"},"Heap"),s("span",{class:"token operator"},"<"),s("span",{class:"token class-name"},"T"),s("span",{class:"token operator"},">"),n(),s("span",{class:"token punctuation"},"{"),n(`
      `),s("span",{class:"token class-name"},"Heap"),s("span",{class:"token punctuation"},"::"),s("span",{class:"token function"},"new"),s("span",{class:"token punctuation"},"("),s("span",{class:"token closure-params"},[s("span",{class:"token closure-punctuation punctuation"},"|"),n("a"),s("span",{class:"token punctuation"},","),n(" b"),s("span",{class:"token closure-punctuation punctuation"},"|")]),n(" a "),s("span",{class:"token operator"},"<"),n(" b"),s("span",{class:"token punctuation"},")"),n(`
  `),s("span",{class:"token punctuation"},"}"),n(`
  `),s("span",{class:"token comment"},"/// 创建大根堆"),n(`
  `),s("span",{class:"token keyword"},"pub"),n(),s("span",{class:"token keyword"},"fn"),n(),s("span",{class:"token function-definition function"},"new_max"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"->"),n(),s("span",{class:"token class-name"},"Heap"),s("span",{class:"token operator"},"<"),s("span",{class:"token class-name"},"T"),s("span",{class:"token operator"},">"),n(),s("span",{class:"token punctuation"},"{"),n(`
      `),s("span",{class:"token class-name"},"Heap"),s("span",{class:"token punctuation"},"::"),s("span",{class:"token function"},"new"),s("span",{class:"token punctuation"},"("),s("span",{class:"token closure-params"},[s("span",{class:"token closure-punctuation punctuation"},"|"),n("a"),s("span",{class:"token punctuation"},","),n(" b"),s("span",{class:"token closure-punctuation punctuation"},"|")]),n(" a "),s("span",{class:"token operator"},">"),n(" b"),s("span",{class:"token punctuation"},")"),n(`
  `),s("span",{class:"token punctuation"},"}"),n(`
`),s("span",{class:"token punctuation"},"}"),n(`
`)])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),us=s("div",{class:"language-java line-numbers-mode","data-ext":"java"},[s("pre",{class:"language-java"},[s("code",null,[s("span",{class:"token keyword"},"public"),n(),s("span",{class:"token keyword"},"class"),n(),s("span",{class:"token class-name"},"Heap"),s("span",{class:"token generics"},[s("span",{class:"token punctuation"},"<"),s("span",{class:"token class-name"},"T"),s("span",{class:"token punctuation"},">")]),s("span",{class:"token punctuation"},"{"),n(`
  `),s("span",{class:"token keyword"},"private"),n(),s("span",{class:"token keyword"},"int"),n(" count"),s("span",{class:"token punctuation"},";"),n("                              "),s("span",{class:"token comment"},"// 堆中元素数量"),n(`
  `),s("span",{class:"token keyword"},"private"),n(),s("span",{class:"token class-name"},"Vector"),s("span",{class:"token generics"},[s("span",{class:"token punctuation"},"<"),s("span",{class:"token class-name"},"T"),s("span",{class:"token punctuation"},">")]),n(" items"),s("span",{class:"token punctuation"},";"),n("                        "),s("span",{class:"token comment"},"// 一维数组存储结构"),n(`
  `),s("span",{class:"token keyword"},"private"),n(),s("span",{class:"token keyword"},"final"),n(),s("span",{class:"token class-name"},"Comparator"),s("span",{class:"token generics"},[s("span",{class:"token punctuation"},"<"),s("span",{class:"token operator"},"?"),n(),s("span",{class:"token keyword"},"super"),n(),s("span",{class:"token class-name"},"T"),s("span",{class:"token punctuation"},">")]),n(" comparator"),s("span",{class:"token punctuation"},";"),n(),s("span",{class:"token comment"},"// 比较器"),n(`

  `),s("span",{class:"token keyword"},"public"),n(),s("span",{class:"token class-name"},"Heap"),s("span",{class:"token punctuation"},"("),s("span",{class:"token class-name"},"Comparator"),s("span",{class:"token generics"},[s("span",{class:"token punctuation"},"<"),s("span",{class:"token operator"},"?"),n(),s("span",{class:"token keyword"},"super"),n(),s("span",{class:"token class-name"},"T"),s("span",{class:"token punctuation"},">")]),n(" comparator"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
    `),s("span",{class:"token keyword"},"this"),s("span",{class:"token punctuation"},"."),n("count "),s("span",{class:"token operator"},"="),n(),s("span",{class:"token number"},"0"),s("span",{class:"token punctuation"},";"),n(`
    `),s("span",{class:"token keyword"},"this"),s("span",{class:"token punctuation"},"."),n("items "),s("span",{class:"token operator"},"="),n(),s("span",{class:"token keyword"},"new"),n(),s("span",{class:"token class-name"},"Vector"),s("span",{class:"token generics"},[s("span",{class:"token punctuation"},"<"),s("span",{class:"token punctuation"},">")]),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
    `),s("span",{class:"token keyword"},"this"),s("span",{class:"token punctuation"},"."),n("comparator "),s("span",{class:"token operator"},"="),n(" comparator"),s("span",{class:"token punctuation"},";"),n(`
  `),s("span",{class:"token punctuation"},"}"),n(`

  `),s("span",{class:"token doc-comment comment"},[n(`/**
   * `),s("span",{class:"token keyword"},"@param"),n(),s("span",{class:"token parameter"},"idx"),n(` 结点索引
   * `),s("span",{class:"token keyword"},"@return"),n(` 左子结点的索引
   */`)]),n(`
  `),s("span",{class:"token keyword"},"private"),n(),s("span",{class:"token keyword"},"int"),n(),s("span",{class:"token function"},"leftChildIdx"),s("span",{class:"token punctuation"},"("),s("span",{class:"token keyword"},"int"),n(" idx"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
    `),s("span",{class:"token keyword"},"return"),n(" idx "),s("span",{class:"token operator"},"*"),n(),s("span",{class:"token number"},"2"),n(),s("span",{class:"token operator"},"+"),n(),s("span",{class:"token number"},"1"),s("span",{class:"token punctuation"},";"),n(`
  `),s("span",{class:"token punctuation"},"}"),n(`

  `),s("span",{class:"token doc-comment comment"},[n(`/**
   * `),s("span",{class:"token keyword"},"@param"),n(),s("span",{class:"token parameter"},"idx"),n(` 结点索引
   * `),s("span",{class:"token keyword"},"@return"),n(` 右子结点的索引
   */`)]),n(`
  `),s("span",{class:"token keyword"},"private"),n(),s("span",{class:"token keyword"},"int"),n(),s("span",{class:"token function"},"rightChildIdx"),s("span",{class:"token punctuation"},"("),s("span",{class:"token keyword"},"int"),n(" idx"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
    `),s("span",{class:"token keyword"},"return"),n(" idx "),s("span",{class:"token operator"},"*"),n(),s("span",{class:"token number"},"2"),n(),s("span",{class:"token operator"},"+"),n(),s("span",{class:"token number"},"2"),s("span",{class:"token punctuation"},";"),n(`
  `),s("span",{class:"token punctuation"},"}"),n(`

  `),s("span",{class:"token doc-comment comment"},[n(`/**
   * `),s("span",{class:"token keyword"},"@param"),n(),s("span",{class:"token parameter"},"idx"),n(` 结点索引
   * `),s("span",{class:"token keyword"},"@return"),n(` 父结点索引
   */`)]),n(`
  `),s("span",{class:"token keyword"},"private"),n(),s("span",{class:"token keyword"},"int"),n(),s("span",{class:"token function"},"parentIdx"),s("span",{class:"token punctuation"},"("),s("span",{class:"token keyword"},"int"),n(" idx"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
    `),s("span",{class:"token keyword"},"return"),n(),s("span",{class:"token punctuation"},"("),n("idx "),s("span",{class:"token operator"},"-"),n(),s("span",{class:"token number"},"1"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token operator"},"/"),n(),s("span",{class:"token number"},"2"),s("span",{class:"token punctuation"},";"),n(`
  `),s("span",{class:"token punctuation"},"}"),n(`
  `),s("span",{class:"token doc-comment comment"},[n(`/**
   * 交换两索引对象的元素
   * `),s("span",{class:"token keyword"},"@param"),n(),s("span",{class:"token parameter"},"idx1"),n(` 索引1
   * `),s("span",{class:"token keyword"},"@param"),n(),s("span",{class:"token parameter"},"idx2"),n(` 索引2
   */`)]),n(`
  `),s("span",{class:"token keyword"},"private"),n(),s("span",{class:"token keyword"},"void"),n(),s("span",{class:"token function"},"swap"),s("span",{class:"token punctuation"},"("),s("span",{class:"token keyword"},"int"),n(" idx1"),s("span",{class:"token punctuation"},","),n(),s("span",{class:"token keyword"},"int"),n(" idx2"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
    `),s("span",{class:"token keyword"},"var"),n(" tmp "),s("span",{class:"token operator"},"="),n(" items"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"get"),s("span",{class:"token punctuation"},"("),n("idx1"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
    items`),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"set"),s("span",{class:"token punctuation"},"("),n("idx1"),s("span",{class:"token punctuation"},","),n("items"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"get"),s("span",{class:"token punctuation"},"("),n("idx2"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
    items`),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"set"),s("span",{class:"token punctuation"},"("),n("idx2"),s("span",{class:"token punctuation"},","),n(" tmp"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
  `),s("span",{class:"token punctuation"},"}"),n(`
`),s("span",{class:"token punctuation"},"}"),n(`
`)])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),rs=s("div",{class:"language-cpp line-numbers-mode","data-ext":"cpp"},[s("pre",{class:"language-cpp"},[s("code",null,[s("span",{class:"token keyword"},"template"),n(),s("span",{class:"token operator"},"<"),s("span",{class:"token keyword"},"typename"),n(),s("span",{class:"token class-name"},"T"),s("span",{class:"token operator"},">"),n(`
`),s("span",{class:"token keyword"},"class"),n(),s("span",{class:"token class-name"},"Heap"),s("span",{class:"token punctuation"},"{"),n(`
`),s("span",{class:"token keyword"},"private"),s("span",{class:"token operator"},":"),n(`
  `),s("span",{class:"token keyword"},"int"),n(" count"),s("span",{class:"token punctuation"},";"),n("                  "),s("span",{class:"token comment"},"// 堆中元素个数"),n(`
  vector`),s("span",{class:"token operator"},"<"),n("T"),s("span",{class:"token operator"},">"),n(" items"),s("span",{class:"token punctuation"},";"),n("            "),s("span",{class:"token comment"},"// 存储堆的一维数组"),n(`
  function`),s("span",{class:"token operator"},"<"),s("span",{class:"token keyword"},"bool"),s("span",{class:"token punctuation"},"("),n("T"),s("span",{class:"token punctuation"},","),n(" T"),s("span",{class:"token punctuation"},")"),s("span",{class:"token operator"},">"),n(" cmp"),s("span",{class:"token punctuation"},";"),n("   "),s("span",{class:"token comment"},"// 比较器"),n(`

  `),s("span",{class:"token comment"},"/* 左子结点索引 */"),n(`
  `),s("span",{class:"token keyword"},"inline"),n(),s("span",{class:"token keyword"},"int"),n(),s("span",{class:"token function"},"left_child_idx"),s("span",{class:"token punctuation"},"("),s("span",{class:"token keyword"},"int"),n(" idx"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
    `),s("span",{class:"token keyword"},"return"),n(" idx "),s("span",{class:"token operator"},"*"),n(),s("span",{class:"token number"},"2"),n(),s("span",{class:"token operator"},"+"),n(),s("span",{class:"token number"},"1"),s("span",{class:"token punctuation"},";"),n(`
  `),s("span",{class:"token punctuation"},"}"),n(`

  `),s("span",{class:"token comment"},"/* 右子结点索引 */"),n(`
  `),s("span",{class:"token keyword"},"inline"),n(),s("span",{class:"token keyword"},"int"),n(),s("span",{class:"token function"},"right_child_idx"),s("span",{class:"token punctuation"},"("),s("span",{class:"token keyword"},"int"),n(" idx"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
    `),s("span",{class:"token keyword"},"return"),n(" idx "),s("span",{class:"token operator"},"*"),n(),s("span",{class:"token number"},"2"),n(),s("span",{class:"token operator"},"+"),n(),s("span",{class:"token number"},"2"),s("span",{class:"token punctuation"},";"),n(`
  `),s("span",{class:"token punctuation"},"}"),n(`

  `),s("span",{class:"token comment"},"/* 父结点索引 */"),n(`
  `),s("span",{class:"token keyword"},"inline"),n(),s("span",{class:"token keyword"},"int"),n(),s("span",{class:"token function"},"parent_idx"),s("span",{class:"token punctuation"},"("),s("span",{class:"token keyword"},"int"),n(" idx"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
    `),s("span",{class:"token keyword"},"return"),n(),s("span",{class:"token punctuation"},"("),n("idx "),s("span",{class:"token operator"},"-"),n(),s("span",{class:"token number"},"1"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token operator"},"/"),n(),s("span",{class:"token number"},"2"),s("span",{class:"token punctuation"},";"),n(`
  `),s("span",{class:"token punctuation"},"}"),n(`
`),s("span",{class:"token keyword"},"public"),s("span",{class:"token operator"},":"),n(`
  `),s("span",{class:"token keyword"},"explicit"),n(),s("span",{class:"token function"},"Heap"),s("span",{class:"token punctuation"},"("),n("function"),s("span",{class:"token operator"},"<"),s("span",{class:"token keyword"},"bool"),s("span",{class:"token punctuation"},"("),n("T"),s("span",{class:"token punctuation"},","),n(" T"),s("span",{class:"token punctuation"},")"),s("span",{class:"token operator"},">"),n(" c"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token operator"},":"),n(),s("span",{class:"token function"},"count"),s("span",{class:"token punctuation"},"("),s("span",{class:"token number"},"0"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},","),n(),s("span",{class:"token function"},"cmp"),s("span",{class:"token punctuation"},"("),n("std"),s("span",{class:"token double-colon punctuation"},"::"),s("span",{class:"token function"},"move"),s("span",{class:"token punctuation"},"("),n("c"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),s("span",{class:"token punctuation"},"}"),n(`
`),s("span",{class:"token punctuation"},"}"),n(`
`)])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),ks=s("h3",{id:"_2-访问堆顶元素",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#_2-访问堆顶元素","aria-hidden":"true"},"#"),n(" 2.访问堆顶元素")],-1),ms=s("div",{class:"language-rust line-numbers-mode","data-ext":"rs"},[s("pre",{class:"language-rust"},[s("code",null,[s("span",{class:"token keyword"},"impl"),s("span",{class:"token operator"},"<"),s("span",{class:"token class-name"},"T"),s("span",{class:"token punctuation"},":"),n(),s("span",{class:"token class-name"},"Default"),s("span",{class:"token operator"},">"),n(),s("span",{class:"token class-name"},"Heap"),s("span",{class:"token operator"},"<"),s("span",{class:"token class-name"},"T"),s("span",{class:"token operator"},">"),n(),s("span",{class:"token punctuation"},"{"),n(`
  `),s("span",{class:"token comment"},"/// 查看堆顶元素"),n(`
  `),s("span",{class:"token keyword"},"pub"),n(),s("span",{class:"token keyword"},"fn"),n(),s("span",{class:"token function-definition function"},"peek"),s("span",{class:"token punctuation"},"("),s("span",{class:"token operator"},"&"),s("span",{class:"token keyword"},"self"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"->"),n(),s("span",{class:"token class-name"},"Option"),s("span",{class:"token operator"},"<"),s("span",{class:"token operator"},"&"),s("span",{class:"token class-name"},"T"),s("span",{class:"token operator"},">"),n(),s("span",{class:"token punctuation"},"{"),n(`
    `),s("span",{class:"token keyword"},"self"),s("span",{class:"token punctuation"},"."),n("items"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"get"),s("span",{class:"token punctuation"},"("),s("span",{class:"token number"},"1"),s("span",{class:"token punctuation"},")"),n(`
  `),s("span",{class:"token punctuation"},"}"),n(`
`),s("span",{class:"token punctuation"},"}"),n(`
`)])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),ds=s("div",{class:"language-java line-numbers-mode","data-ext":"java"},[s("pre",{class:"language-java"},[s("code",null,[s("span",{class:"token doc-comment comment"},[n(`/**
 * `),s("span",{class:"token keyword"},"@return"),n(` 堆顶元素
 */`)]),n(`
`),s("span",{class:"token keyword"},"public"),n(),s("span",{class:"token class-name"},"Optional"),s("span",{class:"token generics"},[s("span",{class:"token punctuation"},"<"),s("span",{class:"token class-name"},"T"),s("span",{class:"token punctuation"},">")]),n(),s("span",{class:"token function"},"peek"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
  `),s("span",{class:"token keyword"},"if"),n(),s("span",{class:"token punctuation"},"("),n("items"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"size"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token operator"},"=="),n(),s("span",{class:"token number"},"0"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
    `),s("span",{class:"token keyword"},"return"),n(),s("span",{class:"token class-name"},"Optional"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"empty"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
  `),s("span",{class:"token punctuation"},"}"),s("span",{class:"token keyword"},"else"),n(),s("span",{class:"token punctuation"},"{"),n(`
    `),s("span",{class:"token keyword"},"return"),n(),s("span",{class:"token class-name"},"Optional"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"ofNullable"),s("span",{class:"token punctuation"},"("),s("span",{class:"token keyword"},"this"),s("span",{class:"token punctuation"},"."),n("items"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"get"),s("span",{class:"token punctuation"},"("),s("span",{class:"token number"},"0"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
  `),s("span",{class:"token punctuation"},"}"),n(`
`),s("span",{class:"token punctuation"},"}"),n(`
`)])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),hs=s("div",{class:"language-cpp line-numbers-mode","data-ext":"cpp"},[s("pre",{class:"language-cpp"},[s("code",null,[s("span",{class:"token comment"},"/* 查看堆顶元素 */"),n(`
T `),s("span",{class:"token function"},"peek"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
  `),s("span",{class:"token keyword"},"if"),n(),s("span",{class:"token punctuation"},"("),s("span",{class:"token keyword"},"this"),s("span",{class:"token operator"},"->"),n("items"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"empty"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token keyword"},"return"),n(),s("span",{class:"token number"},"0"),s("span",{class:"token punctuation"},";"),n(`
  `),s("span",{class:"token keyword"},"else"),n(),s("span",{class:"token keyword"},"return"),n(" items"),s("span",{class:"token punctuation"},"["),s("span",{class:"token number"},"0"),s("span",{class:"token punctuation"},"]"),s("span",{class:"token punctuation"},";"),n(`
`),s("span",{class:"token punctuation"},"}"),n(`
`)])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),bs=i('<h3 id="_3-元素入堆" tabindex="-1"><a class="header-anchor" href="#_3-元素入堆" aria-hidden="true">#</a> 3.元素入堆</h3><p>给定元素 <code>value</code> ，先将其添加到堆底。添加后，由于 <code>value</code> 的优先级可能高于堆中其它元素，此时堆的成立条件可能已经被破坏，<strong>因此需要修复从插入结点到根结点这条路径上的各个结点</strong>，该操作被称为「堆化 Heapify」。</p><p>考虑从入堆结点开始，<strong>从底至顶执行堆化</strong>。具体地，比较插入结点与其父结点的值，若插入结点的优先级更高则将它们交换；并循环以上操作，从底至顶地修复堆中的各个结点；直至越过根结点时结束，或当遇到无需交换的结点时提前结束。</p><p>步骤：</p><ol><li>加入末尾</li><li>从底至上堆化</li></ol><p>下图为在大根堆插入一个元素后堆化的过程：</p>',6),vs=s("p",null,[s("img",{src:g,alt:""})],-1),ys=s("p",null,[s("img",{src:w,alt:"image-20230218152202446"})],-1),gs=s("p",null,[s("img",{src:f,alt:"image-20230218152236653"})],-1),ws=s("p",null,[s("img",{src:x,alt:"image-20230218152308750"})],-1),fs=s("p",null,[s("img",{src:_,alt:"image-20230218152330083"})],-1),xs=s("p",null,[s("img",{src:z,alt:"image-20230218152351032"})],-1),_s=s("div",{class:"language-rust line-numbers-mode","data-ext":"rs"},[s("pre",{class:"language-rust"},[s("code",null,[s("span",{class:"token keyword"},"impl"),s("span",{class:"token operator"},"<"),s("span",{class:"token class-name"},"T"),s("span",{class:"token punctuation"},":"),n(),s("span",{class:"token class-name"},"Default"),s("span",{class:"token operator"},">"),n(),s("span",{class:"token class-name"},"Heap"),s("span",{class:"token operator"},"<"),s("span",{class:"token class-name"},"T"),s("span",{class:"token operator"},">"),n(),s("span",{class:"token punctuation"},"{"),n(`
  `),s("span",{class:"token comment"},"/// 添加一个结点 O(logn)"),n(`
  `),s("span",{class:"token keyword"},"pub"),n(),s("span",{class:"token keyword"},"fn"),n(),s("span",{class:"token function-definition function"},"push"),s("span",{class:"token punctuation"},"("),s("span",{class:"token operator"},"&"),s("span",{class:"token keyword"},"mut"),n(),s("span",{class:"token keyword"},"self"),s("span",{class:"token punctuation"},","),n(" value"),s("span",{class:"token punctuation"},":"),n(),s("span",{class:"token class-name"},"T"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
    `),s("span",{class:"token keyword"},"self"),s("span",{class:"token punctuation"},"."),n("count "),s("span",{class:"token operator"},"+="),n(),s("span",{class:"token number"},"1"),s("span",{class:"token punctuation"},";"),n(`
    `),s("span",{class:"token comment"},"// 1.先加到末尾"),n(`
    `),s("span",{class:"token keyword"},"self"),s("span",{class:"token punctuation"},"."),n("items"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"push"),s("span",{class:"token punctuation"},"("),n("value"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
    `),s("span",{class:"token keyword"},"let"),n(),s("span",{class:"token keyword"},"mut"),n(" idx "),s("span",{class:"token operator"},"="),n(),s("span",{class:"token keyword"},"self"),s("span",{class:"token punctuation"},"."),n("count"),s("span",{class:"token punctuation"},";"),n(`
    `),s("span",{class:"token comment"},"// 2.然后从底向上调整"),n(`
    `),s("span",{class:"token keyword"},"self"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"up"),s("span",{class:"token punctuation"},"("),s("span",{class:"token operator"},"&"),s("span",{class:"token keyword"},"mut"),n(" idx"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
  `),s("span",{class:"token punctuation"},"}"),n(`

  `),s("span",{class:"token comment"},"/// up 操作"),n(`
  `),s("span",{class:"token keyword"},"fn"),n(),s("span",{class:"token function-definition function"},"up"),s("span",{class:"token punctuation"},"("),s("span",{class:"token operator"},"&"),s("span",{class:"token keyword"},"mut"),n(),s("span",{class:"token keyword"},"self"),s("span",{class:"token punctuation"},","),n(" idx"),s("span",{class:"token punctuation"},":"),n(),s("span",{class:"token operator"},"&"),s("span",{class:"token keyword"},"mut"),n(),s("span",{class:"token keyword"},"usize"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
    `),s("span",{class:"token comment"},"// 判断结点是否有父结点"),n(`
    `),s("span",{class:"token keyword"},"while"),n(),s("span",{class:"token keyword"},"self"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"parent_idx"),s("span",{class:"token punctuation"},"("),s("span",{class:"token operator"},"*"),n("idx"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token operator"},">"),n(),s("span",{class:"token number"},"0"),n(),s("span",{class:"token punctuation"},"{"),n(`
        `),s("span",{class:"token keyword"},"let"),n(" _idx "),s("span",{class:"token operator"},"="),n(),s("span",{class:"token operator"},"*"),n("idx"),s("span",{class:"token punctuation"},";"),n(`
        `),s("span",{class:"token keyword"},"let"),n(" pdx "),s("span",{class:"token operator"},"="),n(),s("span",{class:"token keyword"},"self"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"parent_idx"),s("span",{class:"token punctuation"},"("),n("_idx"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
        `),s("span",{class:"token comment"},"// 根据堆的优先顺序进行调整"),n(`
        `),s("span",{class:"token keyword"},"if"),n(),s("span",{class:"token punctuation"},"("),s("span",{class:"token keyword"},"self"),s("span",{class:"token punctuation"},"."),n("comparator"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},"("),s("span",{class:"token operator"},"&"),s("span",{class:"token keyword"},"self"),s("span",{class:"token punctuation"},"."),n("items"),s("span",{class:"token punctuation"},"["),n("_idx"),s("span",{class:"token punctuation"},"]"),s("span",{class:"token punctuation"},","),n(),s("span",{class:"token operator"},"&"),s("span",{class:"token keyword"},"self"),s("span",{class:"token punctuation"},"."),n("items"),s("span",{class:"token punctuation"},"["),n("pdx"),s("span",{class:"token punctuation"},"]"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
          `),s("span",{class:"token keyword"},"self"),s("span",{class:"token punctuation"},"."),n("items"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"swap"),s("span",{class:"token punctuation"},"("),n("_idx"),s("span",{class:"token punctuation"},","),n(" pdx"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
        `),s("span",{class:"token punctuation"},"}"),n(`
        `),s("span",{class:"token operator"},"*"),n("idx "),s("span",{class:"token operator"},"="),n(" pdx"),s("span",{class:"token punctuation"},";"),n(`
      `),s("span",{class:"token punctuation"},"}"),n(`
  `),s("span",{class:"token punctuation"},"}"),n(`
`),s("span",{class:"token punctuation"},"}"),n(`
`)])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),zs=s("div",{class:"language-java line-numbers-mode","data-ext":"java"},[s("pre",{class:"language-java"},[s("code",null,[s("span",{class:"token doc-comment comment"},[n(`/**
 * 堆化 (对优先级较高的元素进行上调)
 * `),s("span",{class:"token keyword"},"@param"),n(),s("span",{class:"token parameter"},"idx"),n(` 结点索引
 */`)]),n(`
`),s("span",{class:"token keyword"},"private"),n(),s("span",{class:"token keyword"},"void"),n(),s("span",{class:"token function"},"up"),s("span",{class:"token punctuation"},"("),s("span",{class:"token keyword"},"int"),n(" idx"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
  `),s("span",{class:"token comment"},"// 判断是否存在父结点"),n(`
  `),s("span",{class:"token keyword"},"while"),n(),s("span",{class:"token punctuation"},"("),s("span",{class:"token function"},"parentIdx"),s("span",{class:"token punctuation"},"("),n("idx"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token operator"},">="),n(),s("span",{class:"token number"},"0"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
    `),s("span",{class:"token keyword"},"int"),n(" pdx "),s("span",{class:"token operator"},"="),n(),s("span",{class:"token function"},"parentIdx"),s("span",{class:"token punctuation"},"("),n("idx"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
    `),s("span",{class:"token keyword"},"if"),n(),s("span",{class:"token punctuation"},"("),n("idx "),s("span",{class:"token operator"},"=="),n(" pdx"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token keyword"},"return"),s("span",{class:"token punctuation"},";"),n("   "),s("span",{class:"token comment"},"// 特判索引 0"),n(`
    `),s("span",{class:"token comment"},"// 比较子结点和父结点的优先级"),n(`
    `),s("span",{class:"token keyword"},"boolean"),n(" isUp "),s("span",{class:"token operator"},"="),n(" comparator"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"compare"),s("span",{class:"token punctuation"},"("),n("items"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"get"),s("span",{class:"token punctuation"},"("),n("idx"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},","),n(" items"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"get"),s("span",{class:"token punctuation"},"("),n("pdx"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token operator"},"<"),n(),s("span",{class:"token number"},"0"),s("span",{class:"token punctuation"},";"),n(`
    `),s("span",{class:"token comment"},"// 子结点优先级更高"),n(`
    `),s("span",{class:"token keyword"},"if"),n(),s("span",{class:"token punctuation"},"("),n("isUp"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
      `),s("span",{class:"token function"},"swap"),s("span",{class:"token punctuation"},"("),n("idx"),s("span",{class:"token punctuation"},","),n(" pdx"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
    `),s("span",{class:"token punctuation"},"}"),n(`
    idx `),s("span",{class:"token operator"},"="),n(" pdx"),s("span",{class:"token punctuation"},";"),n(`
  `),s("span",{class:"token punctuation"},"}"),n(`
`),s("span",{class:"token punctuation"},"}"),n(`

`),s("span",{class:"token doc-comment comment"},[n(`/**
 * 元素入堆
 * `),s("span",{class:"token keyword"},"@param"),n(),s("span",{class:"token parameter"},"value"),n(` 元素值
 */`)]),n(`
`),s("span",{class:"token keyword"},"public"),n(),s("span",{class:"token keyword"},"void"),n(),s("span",{class:"token function"},"push"),s("span",{class:"token punctuation"},"("),s("span",{class:"token class-name"},"T"),n(" value"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
  items`),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"add"),s("span",{class:"token punctuation"},"("),n("value"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
  count `),s("span",{class:"token operator"},"+="),n(),s("span",{class:"token number"},"1"),s("span",{class:"token punctuation"},";"),n(`
  `),s("span",{class:"token keyword"},"int"),n(" idx "),s("span",{class:"token operator"},"="),n(" items"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"size"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token operator"},"-"),n(),s("span",{class:"token number"},"1"),s("span",{class:"token punctuation"},";"),n(`
  `),s("span",{class:"token function"},"up"),s("span",{class:"token punctuation"},"("),n("idx"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
`),s("span",{class:"token punctuation"},"}"),n(`
`)])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),Ts=s("div",{class:"language-cpp line-numbers-mode","data-ext":"cpp"},[s("pre",{class:"language-cpp"},[s("code",null,[s("span",{class:"token comment"},"/* 堆化 (将优先级更高的结点上移) */"),n(`
`),s("span",{class:"token keyword"},"void"),n(),s("span",{class:"token function"},"up"),s("span",{class:"token punctuation"},"("),s("span",{class:"token keyword"},"int"),n(" idx"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
  `),s("span",{class:"token keyword"},"while"),n(),s("span",{class:"token punctuation"},"("),s("span",{class:"token function"},"parent_idx"),s("span",{class:"token punctuation"},"("),n("idx"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token operator"},">="),n(),s("span",{class:"token number"},"0"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
    `),s("span",{class:"token keyword"},"int"),n(" pdx "),s("span",{class:"token operator"},"="),n(),s("span",{class:"token function"},"parent_idx"),s("span",{class:"token punctuation"},"("),n("idx"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
    `),s("span",{class:"token keyword"},"if"),n(),s("span",{class:"token punctuation"},"("),n("idx "),s("span",{class:"token operator"},"=="),n(" pdx"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token keyword"},"return"),s("span",{class:"token punctuation"},";"),n(`
    `),s("span",{class:"token keyword"},"if"),n(),s("span",{class:"token punctuation"},"("),s("span",{class:"token function"},"cmp"),s("span",{class:"token punctuation"},"("),n("items"),s("span",{class:"token punctuation"},"["),n("idx"),s("span",{class:"token punctuation"},"]"),s("span",{class:"token punctuation"},","),n(" items"),s("span",{class:"token punctuation"},"["),n("pdx"),s("span",{class:"token punctuation"},"]"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
      `),s("span",{class:"token function"},"swap"),s("span",{class:"token punctuation"},"("),n("items"),s("span",{class:"token punctuation"},"["),n("idx"),s("span",{class:"token punctuation"},"]"),s("span",{class:"token punctuation"},","),n(" items"),s("span",{class:"token punctuation"},"["),n("pdx"),s("span",{class:"token punctuation"},"]"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
    `),s("span",{class:"token punctuation"},"}"),n(`
    idx `),s("span",{class:"token operator"},"="),n(" pdx"),s("span",{class:"token punctuation"},";"),n(`
  `),s("span",{class:"token punctuation"},"}"),n(`
`),s("span",{class:"token punctuation"},"}"),n(`
`),s("span",{class:"token comment"},"/* 元素入堆 */"),n(`
`),s("span",{class:"token keyword"},"void"),n(),s("span",{class:"token function"},"push"),s("span",{class:"token punctuation"},"("),n("T value"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
  `),s("span",{class:"token keyword"},"this"),s("span",{class:"token operator"},"->"),n("items"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"emplace_back"),s("span",{class:"token punctuation"},"("),n("value"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
  `),s("span",{class:"token keyword"},"this"),s("span",{class:"token operator"},"->"),n("count "),s("span",{class:"token operator"},"++"),s("span",{class:"token punctuation"},";"),n(`
  `),s("span",{class:"token keyword"},"int"),n(" idx "),s("span",{class:"token operator"},"="),n(" items"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"size"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token operator"},"-"),n(),s("span",{class:"token number"},"1"),s("span",{class:"token punctuation"},";"),n(`
  `),s("span",{class:"token function"},"up"),s("span",{class:"token punctuation"},"("),n("idx"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
`),s("span",{class:"token punctuation"},"}"),n(`
`)])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),Ms=i('<h3 id="_4-堆顶元素出堆" tabindex="-1"><a class="header-anchor" href="#_4-堆顶元素出堆" aria-hidden="true">#</a> 4.堆顶元素出堆</h3><p>堆顶元素是二叉树根结点，即列表首元素，如果我们直接将首元素从列表中删除，则二叉树中所有结点都会随之发生移位（索引发生变化），这样后续使用堆化修复就很麻烦了。为了尽量减少元素索引变动，采取以下操作步骤：</p><ol><li>交换堆顶元素与堆底元素（即交换根结点与最右叶结点）；</li><li>交换完成后，将堆底从列表中删除（注意，因为已经交换，实际上删除的是原来的堆顶元素）；</li><li>从根结点开始，<strong>从顶至底执行堆化</strong>；</li></ol><p><strong>从顶至底堆化的操作方向与从底至顶堆化相反</strong>，比较根结点的值与其两个子结点的值，将优先级更高的子结点与根结点执行交换，并循环以上操作，直到越过叶结点时结束，或当遇到无需交换的结点时提前结束。</p><p>下图为大根堆删除堆顶的全过程：</p>',5),Os=s("p",null,[s("img",{src:T,alt:"image-20230218153547697"})],-1),Hs=s("p",null,[s("img",{src:M,alt:"image-20230218153620122"})],-1),Ls=s("p",null,[s("img",{src:O,alt:"image-20230218153735264"})],-1),js=s("p",null,[s("img",{src:H,alt:"image-20230218153759473"})],-1),As=s("p",null,[s("img",{src:L,alt:"image-20230218153822334"})],-1),Is=s("p",null,[s("img",{src:j,alt:"image-20230218153848240"})],-1),Cs=s("p",null,[s("img",{src:A,alt:"image-20230218153913409"})],-1),Vs=s("p",null,[s("img",{src:I,alt:"image-20230218153937642"})],-1),qs=s("p",null,[s("img",{src:C,alt:"image-20230218154001647"})],-1),Ds=s("p",null,[s("img",{src:V,alt:"image-20230218154023965"})],-1),Ps=s("div",{class:"language-rust line-numbers-mode","data-ext":"rs"},[s("pre",{class:"language-rust"},[s("code",null,[s("span",{class:"token keyword"},"impl"),s("span",{class:"token operator"},"<"),s("span",{class:"token class-name"},"T"),s("span",{class:"token punctuation"},":"),n(),s("span",{class:"token class-name"},"Default"),s("span",{class:"token operator"},">"),n(),s("span",{class:"token class-name"},"Heap"),s("span",{class:"token operator"},"<"),s("span",{class:"token class-name"},"T"),s("span",{class:"token operator"},">"),n(),s("span",{class:"token punctuation"},"{"),n(`
  `),s("span",{class:"token comment"},"/// down 操作"),n(`
  `),s("span",{class:"token keyword"},"fn"),n(),s("span",{class:"token function-definition function"},"down"),s("span",{class:"token punctuation"},"("),s("span",{class:"token operator"},"&"),s("span",{class:"token keyword"},"mut"),n(),s("span",{class:"token keyword"},"self"),s("span",{class:"token punctuation"},","),n(),s("span",{class:"token keyword"},"mut"),n(" idx"),s("span",{class:"token punctuation"},":"),s("span",{class:"token keyword"},"usize"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
    `),s("span",{class:"token comment"},"// 当该结点存在子结点时"),n(`
    `),s("span",{class:"token keyword"},"while"),n(),s("span",{class:"token keyword"},"self"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"children_present"),s("span",{class:"token punctuation"},"("),n("idx"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
      `),s("span",{class:"token comment"},"// 得出左右子结点中优先级更高的结点"),n(`
      `),s("span",{class:"token keyword"},"let"),n(" cdx "),s("span",{class:"token operator"},"="),n(),s("span",{class:"token keyword"},"self"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"smallest_child_idx"),s("span",{class:"token punctuation"},"("),n("idx"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
      `),s("span",{class:"token comment"},"// 子结点的优先级高于该结点的优先级"),n(`
      `),s("span",{class:"token keyword"},"if"),n(),s("span",{class:"token operator"},"!"),s("span",{class:"token punctuation"},"("),s("span",{class:"token keyword"},"self"),s("span",{class:"token punctuation"},"."),n("comparator"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},"("),s("span",{class:"token operator"},"&"),s("span",{class:"token keyword"},"self"),s("span",{class:"token punctuation"},"."),n("items"),s("span",{class:"token punctuation"},"["),n("idx"),s("span",{class:"token punctuation"},"]"),s("span",{class:"token punctuation"},","),n(),s("span",{class:"token operator"},"&"),s("span",{class:"token keyword"},"self"),s("span",{class:"token punctuation"},"."),n("items"),s("span",{class:"token punctuation"},"["),n("cdx"),s("span",{class:"token punctuation"},"]"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
        `),s("span",{class:"token keyword"},"self"),s("span",{class:"token punctuation"},"."),n("items"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"swap"),s("span",{class:"token punctuation"},"("),n("idx"),s("span",{class:"token punctuation"},","),n(" cdx"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
      `),s("span",{class:"token punctuation"},"}"),n(`
      idx `),s("span",{class:"token operator"},"="),n(" cdx"),s("span",{class:"token punctuation"},";"),n(`
    `),s("span",{class:"token punctuation"},"}"),n(`
  `),s("span",{class:"token punctuation"},"}"),n(`

  `),s("span",{class:"token comment"},"/// 弹出堆顶元素并返回弹出堆顶元素 O(logn)"),n(`
  `),s("span",{class:"token keyword"},"pub"),n(),s("span",{class:"token keyword"},"fn"),n(),s("span",{class:"token function-definition function"},"pop"),s("span",{class:"token punctuation"},"("),s("span",{class:"token operator"},"&"),s("span",{class:"token keyword"},"mut"),n(),s("span",{class:"token keyword"},"self"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"->"),n(),s("span",{class:"token class-name"},"Option"),s("span",{class:"token operator"},"<"),s("span",{class:"token class-name"},"T"),s("span",{class:"token operator"},">"),n(),s("span",{class:"token punctuation"},"{"),n(`
    `),s("span",{class:"token keyword"},"let"),n(),s("span",{class:"token keyword"},"mut"),n(" tt"),s("span",{class:"token punctuation"},":"),n(),s("span",{class:"token class-name"},"Option"),s("span",{class:"token operator"},"<"),s("span",{class:"token class-name"},"T"),s("span",{class:"token operator"},">"),n(),s("span",{class:"token operator"},"="),n(),s("span",{class:"token class-name"},"None"),s("span",{class:"token punctuation"},";"),n(`
    `),s("span",{class:"token keyword"},"if"),n(),s("span",{class:"token keyword"},"let"),n(),s("span",{class:"token class-name"},"Some"),s("span",{class:"token punctuation"},"("),n("top"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token operator"},"="),n(),s("span",{class:"token keyword"},"self"),s("span",{class:"token punctuation"},"."),n("items"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"get"),s("span",{class:"token punctuation"},"("),s("span",{class:"token number"},"1"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
      `),s("span",{class:"token comment"},"// 删除堆顶元素 "),n(`
      `),s("span",{class:"token comment"},"// swap_remove 会在删除该元素后将 vec 中的最后一个元素填补到这个空位"),n(`
      tt `),s("span",{class:"token operator"},"="),n(),s("span",{class:"token class-name"},"Some"),s("span",{class:"token punctuation"},"("),s("span",{class:"token keyword"},"self"),s("span",{class:"token punctuation"},"."),n("items"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"swap_remove"),s("span",{class:"token punctuation"},"("),s("span",{class:"token number"},"1"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
      `),s("span",{class:"token keyword"},"self"),s("span",{class:"token punctuation"},"."),n("count "),s("span",{class:"token operator"},"-="),n(),s("span",{class:"token number"},"1"),s("span",{class:"token punctuation"},";"),n(`
      `),s("span",{class:"token comment"},"// 调整堆"),n(`
      `),s("span",{class:"token keyword"},"if"),n(),s("span",{class:"token keyword"},"self"),s("span",{class:"token punctuation"},"."),n("count "),s("span",{class:"token operator"},">"),n(),s("span",{class:"token number"},"0"),n(),s("span",{class:"token punctuation"},"{"),n(`
        `),s("span",{class:"token keyword"},"let"),n(),s("span",{class:"token keyword"},"mut"),n(" idx "),s("span",{class:"token operator"},"="),n(),s("span",{class:"token number"},"1"),s("span",{class:"token punctuation"},";"),n(`
        `),s("span",{class:"token keyword"},"self"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"down"),s("span",{class:"token punctuation"},"("),n("idx"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
      `),s("span",{class:"token punctuation"},"}"),n(`
    `),s("span",{class:"token punctuation"},"}"),n(`
    tt
  `),s("span",{class:"token punctuation"},"}"),n(`
`),s("span",{class:"token punctuation"},"}"),n(`
`)])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),Ss=s("div",{class:"language-java line-numbers-mode","data-ext":"java"},[s("pre",{class:"language-java"},[s("code",null,[s("span",{class:"token doc-comment comment"},[n(`/**
 * `),s("span",{class:"token keyword"},"@param"),n(),s("span",{class:"token parameter"},"idx"),n(` 索引
 * `),s("span",{class:"token keyword"},"@return"),n(` 返回左右子结点中优先级较高的结点的索引
 */`)]),n(`
`),s("span",{class:"token keyword"},"private"),n(),s("span",{class:"token keyword"},"int"),n(),s("span",{class:"token function"},"smallestChild"),s("span",{class:"token punctuation"},"("),s("span",{class:"token keyword"},"int"),n(" idx"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
  `),s("span",{class:"token comment"},"// 当右子结点索引越界时直接返回左子索引结点"),n(`
  `),s("span",{class:"token keyword"},"if"),n(),s("span",{class:"token punctuation"},"("),s("span",{class:"token function"},"rightChildIdx"),s("span",{class:"token punctuation"},"("),n("idx"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token operator"},">="),n(" count"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
    `),s("span",{class:"token keyword"},"return"),n(),s("span",{class:"token function"},"leftChildIdx"),s("span",{class:"token punctuation"},"("),n("idx"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
  `),s("span",{class:"token punctuation"},"}"),s("span",{class:"token keyword"},"else"),n(),s("span",{class:"token punctuation"},"{"),n(`
    `),s("span",{class:"token keyword"},"int"),n(" ldx "),s("span",{class:"token operator"},"="),n(),s("span",{class:"token function"},"leftChildIdx"),s("span",{class:"token punctuation"},"("),n("idx"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
    `),s("span",{class:"token keyword"},"int"),n(" rdx "),s("span",{class:"token operator"},"="),n(),s("span",{class:"token function"},"rightChildIdx"),s("span",{class:"token punctuation"},"("),n("idx"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
    `),s("span",{class:"token keyword"},"boolean"),n(" flag "),s("span",{class:"token operator"},"="),n(" comparator"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"compare"),s("span",{class:"token punctuation"},"("),n("items"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"get"),s("span",{class:"token punctuation"},"("),n("ldx"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},","),n(" items"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"get"),s("span",{class:"token punctuation"},"("),n("rdx"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token operator"},"<"),n(),s("span",{class:"token number"},"0"),s("span",{class:"token punctuation"},";"),n(`
    `),s("span",{class:"token keyword"},"return"),n(" flag "),s("span",{class:"token operator"},"?"),n(" ldx "),s("span",{class:"token operator"},":"),n(" rdx"),s("span",{class:"token punctuation"},";"),n(`
  `),s("span",{class:"token punctuation"},"}"),n(`
`),s("span",{class:"token punctuation"},"}"),n(`


`),s("span",{class:"token doc-comment comment"},[n(`/**
 * 反向堆化 (对优先级较低的元素进行下调)
 * `),s("span",{class:"token keyword"},"@param"),n(),s("span",{class:"token parameter"},"idx"),n(` 索引
 */`)]),n(`
`),s("span",{class:"token keyword"},"private"),n(),s("span",{class:"token keyword"},"void"),n(),s("span",{class:"token function"},"down"),s("span",{class:"token punctuation"},"("),s("span",{class:"token keyword"},"int"),n(" idx"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
  `),s("span",{class:"token keyword"},"while"),n(),s("span",{class:"token punctuation"},"("),s("span",{class:"token function"},"leftChildIdx"),s("span",{class:"token punctuation"},"("),n("idx"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token operator"},"<"),n(" count"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
      `),s("span",{class:"token keyword"},"int"),n(" childIdx "),s("span",{class:"token operator"},"="),n(),s("span",{class:"token function"},"smallestChild"),s("span",{class:"token punctuation"},"("),n("idx"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
      `),s("span",{class:"token keyword"},"boolean"),n(" isDown "),s("span",{class:"token operator"},"="),n(" comparator"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"compare"),s("span",{class:"token punctuation"},"("),n("items"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"get"),s("span",{class:"token punctuation"},"("),n("idx"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},","),n("items"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"get"),s("span",{class:"token punctuation"},"("),n("childIdx"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token operator"},"<"),n(),s("span",{class:"token number"},"0"),s("span",{class:"token punctuation"},";"),n(`
      `),s("span",{class:"token keyword"},"if"),n(),s("span",{class:"token punctuation"},"("),s("span",{class:"token operator"},"!"),n("isDown"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
        `),s("span",{class:"token function"},"swap"),s("span",{class:"token punctuation"},"("),n("idx"),s("span",{class:"token punctuation"},","),n(" childIdx"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
      `),s("span",{class:"token punctuation"},"}"),n(`
      idx `),s("span",{class:"token operator"},"="),n(" childIdx"),s("span",{class:"token punctuation"},";"),n(`
  `),s("span",{class:"token punctuation"},"}"),n(`
`),s("span",{class:"token punctuation"},"}"),n(`

`),s("span",{class:"token doc-comment comment"},[n(`/**
 * 弹出堆顶元素
 * `),s("span",{class:"token keyword"},"@return"),n(` 返回弹出的堆顶元素
 */`)]),n(`
`),s("span",{class:"token keyword"},"public"),n(),s("span",{class:"token class-name"},"Optional"),s("span",{class:"token generics"},[s("span",{class:"token punctuation"},"<"),s("span",{class:"token class-name"},"T"),s("span",{class:"token punctuation"},">")]),n(),s("span",{class:"token function"},"pop"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
  `),s("span",{class:"token class-name"},"Optional"),s("span",{class:"token generics"},[s("span",{class:"token punctuation"},"<"),s("span",{class:"token class-name"},"T"),s("span",{class:"token punctuation"},">")]),n(" ans "),s("span",{class:"token operator"},"="),n(),s("span",{class:"token function"},"peek"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
  `),s("span",{class:"token comment"},"// 1. 使用最后一个元素覆盖堆顶元素"),n(`
  items`),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"set"),s("span",{class:"token punctuation"},"("),s("span",{class:"token number"},"0"),s("span",{class:"token punctuation"},","),n(" items"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"get"),s("span",{class:"token punctuation"},"("),n("items"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"size"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token operator"},"-"),n(),s("span",{class:"token number"},"1"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
  items`),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"remove"),s("span",{class:"token punctuation"},"("),n("items"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"size"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token operator"},"-"),n(),s("span",{class:"token number"},"1"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
  count `),s("span",{class:"token operator"},"-="),n(),s("span",{class:"token number"},"1"),s("span",{class:"token punctuation"},";"),n(`
  `),s("span",{class:"token comment"},"// 2. 反向堆化"),n(`
  `),s("span",{class:"token function"},"down"),s("span",{class:"token punctuation"},"("),s("span",{class:"token number"},"0"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
  `),s("span",{class:"token keyword"},"return"),n(" ans"),s("span",{class:"token punctuation"},";"),n(`
`),s("span",{class:"token punctuation"},"}"),n(`
`)])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),Ns=s("div",{class:"language-cpp line-numbers-mode","data-ext":"cpp"},[s("pre",{class:"language-cpp"},[s("code",null,[s("span",{class:"token comment"},"/* 反向堆化 (将优先级更低的结点下移) */"),n(`
`),s("span",{class:"token keyword"},"void"),n(),s("span",{class:"token function"},"down"),s("span",{class:"token punctuation"},"("),s("span",{class:"token keyword"},"int"),n(" idx"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
  `),s("span",{class:"token comment"},"// 判断结点是否有子结点点"),n(`
  `),s("span",{class:"token keyword"},"auto"),n(" present_child "),s("span",{class:"token operator"},"="),n(),s("span",{class:"token punctuation"},"["),s("span",{class:"token operator"},"="),s("span",{class:"token punctuation"},"]"),s("span",{class:"token punctuation"},"("),s("span",{class:"token keyword"},"int"),n(" idx"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
    `),s("span",{class:"token keyword"},"return"),n(),s("span",{class:"token function"},"left_child_idx"),s("span",{class:"token punctuation"},"("),n("idx"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token operator"},"<="),n(" count"),s("span",{class:"token punctuation"},";"),n(`
  `),s("span",{class:"token punctuation"},"}"),s("span",{class:"token punctuation"},";"),n(`
  `),s("span",{class:"token comment"},"// 获取左右子结点中优先级较高的子结点"),n(`
  `),s("span",{class:"token keyword"},"auto"),n(" smallest_child_idx "),s("span",{class:"token operator"},"="),n(),s("span",{class:"token punctuation"},"["),s("span",{class:"token operator"},"="),s("span",{class:"token punctuation"},"]"),s("span",{class:"token punctuation"},"("),s("span",{class:"token keyword"},"int"),n(" idx"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
   `),s("span",{class:"token keyword"},"if"),n(),s("span",{class:"token punctuation"},"("),s("span",{class:"token function"},"right_child_idx"),s("span",{class:"token punctuation"},"("),n("idx"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token operator"},">="),n(" count"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
     `),s("span",{class:"token keyword"},"return"),n(),s("span",{class:"token function"},"left_child_idx"),s("span",{class:"token punctuation"},"("),n("idx"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
   `),s("span",{class:"token punctuation"},"}"),n(),s("span",{class:"token keyword"},"else"),n(),s("span",{class:"token punctuation"},"{"),n(`
     `),s("span",{class:"token keyword"},"int"),n(" ldx "),s("span",{class:"token operator"},"="),n(),s("span",{class:"token function"},"left_child_idx"),s("span",{class:"token punctuation"},"("),n("idx"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
     `),s("span",{class:"token keyword"},"int"),n(" rdx "),s("span",{class:"token operator"},"="),n(),s("span",{class:"token function"},"right_child_idx"),s("span",{class:"token punctuation"},"("),n("idx"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
     `),s("span",{class:"token keyword"},"if"),n(),s("span",{class:"token punctuation"},"("),s("span",{class:"token function"},"cmp"),s("span",{class:"token punctuation"},"("),n("items"),s("span",{class:"token punctuation"},"["),n("ldx"),s("span",{class:"token punctuation"},"]"),s("span",{class:"token punctuation"},","),n(" items"),s("span",{class:"token punctuation"},"["),n("rdx"),s("span",{class:"token punctuation"},"]"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
       `),s("span",{class:"token keyword"},"return"),n(" ldx"),s("span",{class:"token punctuation"},";"),n(`
     `),s("span",{class:"token punctuation"},"}"),s("span",{class:"token keyword"},"else"),n(),s("span",{class:"token punctuation"},"{"),n(`
       `),s("span",{class:"token keyword"},"return"),n(" rdx"),s("span",{class:"token punctuation"},";"),n(`
     `),s("span",{class:"token punctuation"},"}"),n(`
   `),s("span",{class:"token punctuation"},"}"),n(`
  `),s("span",{class:"token punctuation"},"}"),s("span",{class:"token punctuation"},";"),n(`
  `),s("span",{class:"token keyword"},"while"),n(),s("span",{class:"token punctuation"},"("),s("span",{class:"token function"},"present_child"),s("span",{class:"token punctuation"},"("),n("idx"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
    `),s("span",{class:"token keyword"},"int"),n(" cdx "),s("span",{class:"token operator"},"="),n(),s("span",{class:"token function"},"smallest_child_idx"),s("span",{class:"token punctuation"},"("),n("idx"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
    `),s("span",{class:"token keyword"},"if"),n(),s("span",{class:"token punctuation"},"("),s("span",{class:"token operator"},"!"),s("span",{class:"token function"},"cmp"),s("span",{class:"token punctuation"},"("),n("items"),s("span",{class:"token punctuation"},"["),n("idx"),s("span",{class:"token punctuation"},"]"),s("span",{class:"token punctuation"},","),n(" items"),s("span",{class:"token punctuation"},"["),n("cdx"),s("span",{class:"token punctuation"},"]"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
      `),s("span",{class:"token function"},"swap"),s("span",{class:"token punctuation"},"("),n("items"),s("span",{class:"token punctuation"},"["),n("idx"),s("span",{class:"token punctuation"},"]"),s("span",{class:"token punctuation"},","),n(" items"),s("span",{class:"token punctuation"},"["),n("cdx"),s("span",{class:"token punctuation"},"]"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
    `),s("span",{class:"token punctuation"},"}"),n(`
    idx `),s("span",{class:"token operator"},"="),n(" cdx"),s("span",{class:"token punctuation"},";"),n(`
  `),s("span",{class:"token punctuation"},"}"),n(`
`),s("span",{class:"token punctuation"},"}"),n(`

`),s("span",{class:"token comment"},"/* 弹出堆顶元素并返回 */"),n(`
T `),s("span",{class:"token function"},"pop"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
  T ans `),s("span",{class:"token operator"},"="),n(),s("span",{class:"token function"},"peek"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
  items`),s("span",{class:"token punctuation"},"["),s("span",{class:"token number"},"0"),s("span",{class:"token punctuation"},"]"),n(),s("span",{class:"token operator"},"="),n(" items"),s("span",{class:"token punctuation"},"["),n("items"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"size"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token operator"},"-"),n(),s("span",{class:"token number"},"1"),s("span",{class:"token punctuation"},"]"),s("span",{class:"token punctuation"},";"),n(`
  items`),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"pop_back"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
  `),s("span",{class:"token keyword"},"this"),s("span",{class:"token operator"},"->"),n("count "),s("span",{class:"token operator"},"--"),s("span",{class:"token punctuation"},";"),n(`
  `),s("span",{class:"token function"},"down"),s("span",{class:"token punctuation"},"("),s("span",{class:"token number"},"0"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
  `),s("span",{class:"token keyword"},"return"),n(" ans"),s("span",{class:"token punctuation"},";"),n(`
`),s("span",{class:"token punctuation"},"}"),n(`
`)])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),Bs=s("h3",{id:"_5-优化建堆",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#_5-优化建堆","aria-hidden":"true"},"#"),n(" 5.优化建堆")],-1),Es=s("p",null,[n("如果直接输入一个列表并将其建堆，考虑使用「元素入堆」方法，将列表元素依次入堆。元素入堆的时间复杂度为 "),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mi",null,"O"),s("mo",{stretchy:"false"},"("),s("mi",null,"l"),s("mi",null,"o"),s("mi",null,"g"),s("mtext",null,"⁡"),s("mi",null,"n"),s("mo",{stretchy:"false"},")")]),s("annotation",{encoding:"application/x-tex"},"O(log⁡n)")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),s("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"O"),s("span",{class:"mopen"},"("),s("span",{class:"mord mathnormal",style:{"margin-right":"0.01968em"}},"l"),s("span",{class:"mord mathnormal"},"o"),s("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"g"),s("span",{class:"mord"},"⁡"),s("span",{class:"mord mathnormal"},"n"),s("span",{class:"mclose"},")")])])]),n(" ，而平均长度为 "),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mi",null,"n"),s("mi",{mathvariant:"normal"},"/"),s("mn",null,"2")]),s("annotation",{encoding:"application/x-tex"},"n/2")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),s("span",{class:"mord mathnormal"},"n"),s("span",{class:"mord"},"/2")])])]),n(" ，因此该方法的总体时间复杂度为 "),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mi",null,"O"),s("mo",{stretchy:"false"},"("),s("mi",null,"n"),s("mi",null,"l"),s("mi",null,"o"),s("mi",null,"g"),s("mtext",null,"⁡"),s("mi",null,"n"),s("mo",{stretchy:"false"},")")]),s("annotation",{encoding:"application/x-tex"},"O(nlog⁡n)")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),s("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"O"),s("span",{class:"mopen"},"("),s("span",{class:"mord mathnormal"},"n"),s("span",{class:"mord mathnormal",style:{"margin-right":"0.01968em"}},"l"),s("span",{class:"mord mathnormal"},"o"),s("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"g"),s("span",{class:"mord"},"⁡"),s("span",{class:"mord mathnormal"},"n"),s("span",{class:"mclose"},")")])])]),n(" 。")],-1),Qs=s("p",null,[n("然而，存在一种更加高效的建堆方法。设结点数量为 "),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mi",null,"n")]),s("annotation",{encoding:"application/x-tex"},"n")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.4306em"}}),s("span",{class:"mord mathnormal"},"n")])])]),n(" ，先将列表所有元素原封不动添加进堆，"),s("strong",null,"然后迭代地对各个结点执行「从顶至底堆化」"),n("。当然，"),s("strong",null,"无需对叶结点执行堆化"),n("，因为其没有子结点。")],-1),Rs=s("div",{class:"language-rust line-numbers-mode","data-ext":"rs"},[s("pre",{class:"language-rust"},[s("code",null,[s("span",{class:"token keyword"},"impl"),s("span",{class:"token operator"},"<"),s("span",{class:"token class-name"},"T"),s("span",{class:"token punctuation"},":"),n(),s("span",{class:"token class-name"},"Default"),s("span",{class:"token operator"},">"),n(),s("span",{class:"token class-name"},"Heap"),s("span",{class:"token operator"},"<"),s("span",{class:"token class-name"},"T"),s("span",{class:"token operator"},">"),n(),s("span",{class:"token punctuation"},"{"),n(`
  `),s("span",{class:"token comment"},"/// 从 vec 中构建 heap , O(n)"),n(`
  `),s("span",{class:"token keyword"},"pub"),n(),s("span",{class:"token keyword"},"fn"),n(),s("span",{class:"token function-definition function"},"from"),s("span",{class:"token punctuation"},"("),n("items"),s("span",{class:"token punctuation"},":"),n(),s("span",{class:"token class-name"},"Vec"),s("span",{class:"token operator"},"<"),s("span",{class:"token class-name"},"T"),s("span",{class:"token operator"},">"),s("span",{class:"token punctuation"},","),n(" comparator"),s("span",{class:"token punctuation"},":"),n(),s("span",{class:"token keyword"},"fn"),s("span",{class:"token punctuation"},"("),s("span",{class:"token operator"},"&"),s("span",{class:"token class-name"},"T"),s("span",{class:"token punctuation"},","),n(),s("span",{class:"token operator"},"&"),s("span",{class:"token class-name"},"T"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"->"),n(),s("span",{class:"token keyword"},"bool"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"->"),n(),s("span",{class:"token keyword"},"Self"),n(),s("span",{class:"token punctuation"},"{"),n(`
    `),s("span",{class:"token keyword"},"let"),n(),s("span",{class:"token keyword"},"mut"),n(" count "),s("span",{class:"token operator"},"="),n(" items"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"len"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token operator"},"-"),n(),s("span",{class:"token number"},"1"),s("span",{class:"token punctuation"},";"),n(` 
    `),s("span",{class:"token keyword"},"let"),n(),s("span",{class:"token keyword"},"mut"),n(" h "),s("span",{class:"token operator"},"="),n(),s("span",{class:"token class-name"},"Heap"),n(),s("span",{class:"token punctuation"},"{"),n(` 
      count`),s("span",{class:"token punctuation"},","),n(`
      items`),s("span",{class:"token punctuation"},","),n(` 
      comparator
    `),s("span",{class:"token punctuation"},"}"),s("span",{class:"token punctuation"},";"),n(`
    `),s("span",{class:"token keyword"},"let"),n(),s("span",{class:"token keyword"},"mut"),n(" i "),s("span",{class:"token operator"},"="),n(" count "),s("span",{class:"token operator"},"/"),n(),s("span",{class:"token number"},"2"),s("span",{class:"token punctuation"},";"),n("  "),s("span",{class:"token comment"},"// count / 2 是最后一个元素父结点的索引"),n(`
    `),s("span",{class:"token keyword"},"while"),n(" i "),s("span",{class:"token operator"},">"),n(),s("span",{class:"token number"},"0"),n(),s("span",{class:"token punctuation"},"{"),n(`
      h`),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"down"),s("span",{class:"token punctuation"},"("),n("i"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
      i `),s("span",{class:"token operator"},"-="),n(),s("span",{class:"token number"},"1"),s("span",{class:"token punctuation"},";"),n(`
    `),s("span",{class:"token punctuation"},"}"),n(`
    h
  `),s("span",{class:"token punctuation"},"}"),n(`
`),s("span",{class:"token punctuation"},"}"),n(`
`)])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),Us=s("div",{class:"language-java line-numbers-mode","data-ext":"java"},[s("pre",{class:"language-java"},[s("code",null,[s("span",{class:"token doc-comment comment"},[n(`/**
 * 优化建堆方式
 * `),s("span",{class:"token keyword"},"@param"),n(),s("span",{class:"token parameter"},"v"),n(` 要放入堆中的元素集合
 * `),s("span",{class:"token keyword"},"@param"),n(),s("span",{class:"token parameter"},"comparator"),n(` 比较器
 */`)]),n(`
`),s("span",{class:"token keyword"},"public"),n(),s("span",{class:"token class-name"},"Heap"),s("span",{class:"token punctuation"},"("),s("span",{class:"token class-name"},"Vector"),s("span",{class:"token generics"},[s("span",{class:"token punctuation"},"<"),s("span",{class:"token class-name"},"T"),s("span",{class:"token punctuation"},">")]),n(" v"),s("span",{class:"token punctuation"},","),n(),s("span",{class:"token class-name"},"Comparator"),s("span",{class:"token generics"},[s("span",{class:"token punctuation"},"<"),s("span",{class:"token operator"},"?"),n(),s("span",{class:"token keyword"},"super"),n(),s("span",{class:"token class-name"},"T"),s("span",{class:"token punctuation"},">")]),n(" comparator"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
  `),s("span",{class:"token keyword"},"this"),s("span",{class:"token punctuation"},"."),n("items "),s("span",{class:"token operator"},"="),n(),s("span",{class:"token keyword"},"new"),n(),s("span",{class:"token class-name"},"Vector"),s("span",{class:"token generics"},[s("span",{class:"token punctuation"},"<"),s("span",{class:"token punctuation"},">")]),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
  items`),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"addAll"),s("span",{class:"token punctuation"},"("),n("v"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
  `),s("span",{class:"token keyword"},"this"),s("span",{class:"token punctuation"},"."),n("comparator "),s("span",{class:"token operator"},"="),n(" comparator"),s("span",{class:"token punctuation"},";"),n(`
  `),s("span",{class:"token keyword"},"this"),s("span",{class:"token punctuation"},"."),n("count "),s("span",{class:"token operator"},"="),n(" items"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"size"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token operator"},"-"),n(),s("span",{class:"token number"},"1"),s("span",{class:"token punctuation"},";"),n(`
  `),s("span",{class:"token keyword"},"for"),n(),s("span",{class:"token punctuation"},"("),s("span",{class:"token keyword"},"int"),n(" i "),s("span",{class:"token operator"},"="),n(),s("span",{class:"token function"},"parentIdx"),s("span",{class:"token punctuation"},"("),s("span",{class:"token keyword"},"this"),s("span",{class:"token punctuation"},"."),n("count"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(" i "),s("span",{class:"token operator"},">="),n(),s("span",{class:"token number"},"0"),n(),s("span",{class:"token punctuation"},";"),n(" i"),s("span",{class:"token operator"},"--"),n(),s("span",{class:"token punctuation"},")"),n(`
    `),s("span",{class:"token function"},"down"),s("span",{class:"token punctuation"},"("),n("i"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
`),s("span",{class:"token punctuation"},"}"),n(`
`)])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),Xs=s("div",{class:"language-cpp line-numbers-mode","data-ext":"cpp"},[s("pre",{class:"language-cpp"},[s("code",null,[s("span",{class:"token comment"},"/* 优化建堆方式 */"),n(`
`),s("span",{class:"token function"},"Heap"),s("span",{class:"token punctuation"},"("),n("vector"),s("span",{class:"token operator"},"<"),n("T"),s("span",{class:"token operator"},">"),n(" v"),s("span",{class:"token punctuation"},","),n(" function"),s("span",{class:"token operator"},"<"),s("span",{class:"token keyword"},"bool"),s("span",{class:"token punctuation"},"("),n("T"),s("span",{class:"token punctuation"},","),n(" T"),s("span",{class:"token punctuation"},")"),s("span",{class:"token operator"},">"),n(" c"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
  `),s("span",{class:"token keyword"},"this"),s("span",{class:"token operator"},"->"),n("items "),s("span",{class:"token operator"},"="),n(" v"),s("span",{class:"token punctuation"},";"),n(`
  `),s("span",{class:"token keyword"},"this"),s("span",{class:"token operator"},"->"),n("cmp "),s("span",{class:"token operator"},"="),n(" c"),s("span",{class:"token punctuation"},";"),n(`
  `),s("span",{class:"token keyword"},"this"),s("span",{class:"token operator"},"->"),n("count "),s("span",{class:"token operator"},"="),n(" v"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"size"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token operator"},"-"),n(),s("span",{class:"token number"},"1"),s("span",{class:"token punctuation"},";"),n(`
  `),s("span",{class:"token keyword"},"for"),n(),s("span",{class:"token punctuation"},"("),s("span",{class:"token keyword"},"int"),n(" i "),s("span",{class:"token operator"},"="),n(),s("span",{class:"token function"},"parent_idx"),s("span",{class:"token punctuation"},"("),n("count"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},";"),n(" i "),s("span",{class:"token operator"},">="),n(),s("span",{class:"token number"},"0"),n(),s("span",{class:"token punctuation"},";"),n(" i"),s("span",{class:"token operator"},"--"),s("span",{class:"token punctuation"},")"),n(`
    `),s("span",{class:"token function"},"down"),s("span",{class:"token punctuation"},"("),n("i"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
`),s("span",{class:"token punctuation"},"}"),n(`
`)])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),Ys=s("p",null,"时间复杂度推算：",-1),Zs=s("ul",null,[s("li",null,[n("完全二叉树中，设结点总数为 "),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mi",null,"n")]),s("annotation",{encoding:"application/x-tex"},"n")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.4306em"}}),s("span",{class:"mord mathnormal"},"n")])])]),n(" ，则叶结点数量为 "),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mo",{stretchy:"false"},"⌊"),s("mfrac",null,[s("mrow",null,[s("mi",null,"n"),s("mo",null,"+"),s("mn",null,"1")]),s("mn",null,"2")]),s("mo",{stretchy:"false"},"⌋")]),s("annotation",{encoding:"application/x-tex"},"⌊\\frac{n+1}{2}⌋")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1.1901em","vertical-align":"-0.345em"}}),s("span",{class:"mopen"},"⌊"),s("span",{class:"mord"},[s("span",{class:"mopen nulldelimiter"}),s("span",{class:"mfrac"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.8451em"}},[s("span",{style:{top:"-2.655em"}},[s("span",{class:"pstrut",style:{height:"3em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mtight"},[s("span",{class:"mord mtight"},"2")])])]),s("span",{style:{top:"-3.23em"}},[s("span",{class:"pstrut",style:{height:"3em"}}),s("span",{class:"frac-line",style:{"border-bottom-width":"0.04em"}})]),s("span",{style:{top:"-3.394em"}},[s("span",{class:"pstrut",style:{height:"3em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mtight"},[s("span",{class:"mord mathnormal mtight"},"n"),s("span",{class:"mbin mtight"},"+"),s("span",{class:"mord mtight"},"1")])])])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.345em"}},[s("span")])])])]),s("span",{class:"mclose nulldelimiter"})]),s("span",{class:"mclose"},"⌋")])])]),n(" 。因此在排除叶结点后，需要堆化结点数量为 "),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mo",{stretchy:"false"},"⌊"),s("mfrac",null,[s("mrow",null,[s("mi",null,"n"),s("mo",null,"−"),s("mn",null,"1")]),s("mn",null,"2")]),s("mo",{stretchy:"false"},"⌋")]),s("annotation",{encoding:"application/x-tex"},"⌊\\frac{n-1}{2}⌋")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1.1901em","vertical-align":"-0.345em"}}),s("span",{class:"mopen"},"⌊"),s("span",{class:"mord"},[s("span",{class:"mopen nulldelimiter"}),s("span",{class:"mfrac"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.8451em"}},[s("span",{style:{top:"-2.655em"}},[s("span",{class:"pstrut",style:{height:"3em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mtight"},[s("span",{class:"mord mtight"},"2")])])]),s("span",{style:{top:"-3.23em"}},[s("span",{class:"pstrut",style:{height:"3em"}}),s("span",{class:"frac-line",style:{"border-bottom-width":"0.04em"}})]),s("span",{style:{top:"-3.394em"}},[s("span",{class:"pstrut",style:{height:"3em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mtight"},[s("span",{class:"mord mathnormal mtight"},"n"),s("span",{class:"mbin mtight"},"−"),s("span",{class:"mord mtight"},"1")])])])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.345em"}},[s("span")])])])]),s("span",{class:"mclose nulldelimiter"})]),s("span",{class:"mclose"},"⌋")])])]),n(" ，即为 "),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mi",null,"O"),s("mo",{stretchy:"false"},"("),s("mi",null,"n"),s("mo",{stretchy:"false"},")")]),s("annotation",{encoding:"application/x-tex"},"O(n)")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),s("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"O"),s("span",{class:"mopen"},"("),s("span",{class:"mord mathnormal"},"n"),s("span",{class:"mclose"},")")])])]),n(" ；")]),s("li",null,[n("从顶至底堆化中，每个结点最多堆化至叶结点，因此最大迭代次数为二叉树高度 "),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mi",null,"O"),s("mo",{stretchy:"false"},"("),s("mi",null,"l"),s("mi",null,"o"),s("mi",null,"g"),s("mtext",null,"⁡"),s("mi",null,"n"),s("mo",{stretchy:"false"},")")]),s("annotation",{encoding:"application/x-tex"},"O(log⁡n)")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),s("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"O"),s("span",{class:"mopen"},"("),s("span",{class:"mord mathnormal",style:{"margin-right":"0.01968em"}},"l"),s("span",{class:"mord mathnormal"},"o"),s("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"g"),s("span",{class:"mord"},"⁡"),s("span",{class:"mord mathnormal"},"n"),s("span",{class:"mclose"},")")])])]),n("；")])],-1),$s=s("p",null,[n("将上述两者相乘，可得时间复杂度为 "),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mi",null,"O"),s("mo",{stretchy:"false"},"("),s("mi",null,"n"),s("mi",null,"l"),s("mi",null,"o"),s("mi",null,"g"),s("mtext",null,"⁡"),s("mi",null,"n"),s("mo",{stretchy:"false"},")")]),s("annotation",{encoding:"application/x-tex"},"O(nlog⁡n)")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),s("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"O"),s("span",{class:"mopen"},"("),s("span",{class:"mord mathnormal"},"n"),s("span",{class:"mord mathnormal",style:{"margin-right":"0.01968em"}},"l"),s("span",{class:"mord mathnormal"},"o"),s("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"g"),s("span",{class:"mord"},"⁡"),s("span",{class:"mord mathnormal"},"n"),s("span",{class:"mclose"},")")])])]),n(" 。然而，该估算结果仍不够准确，因为没有考虑到 "),s("strong",null,"二叉树底层结点远多于顶层结点"),n(" 。下面来展开计算。为了减小计算难度，我们假设树是一个「完美二叉树」，该假设不会影响计算结果的正确性。设二叉树（即堆）结点数量为 "),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mi",null,"n")]),s("annotation",{encoding:"application/x-tex"},"n")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.4306em"}}),s("span",{class:"mord mathnormal"},"n")])])]),n(" ，树高度为 "),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mi",null,"h")]),s("annotation",{encoding:"application/x-tex"},"h")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.6944em"}}),s("span",{class:"mord mathnormal"},"h")])])]),n(" 。上文提到，"),s("strong",null,"结点堆化最大迭代次数等于该结点到叶结点的距离，而这正是“结点高度”"),n("。因此，我们将各层的“结点数量 × 结点高度”求和，即可得到所有结点的堆化的迭代次数总和。")],-1),Fs=s("p",{class:"katex-block"},[s("span",{class:"katex-display"},[s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[s("semantics",null,[s("mrow",null,[s("mi",null,"T"),s("mo",{stretchy:"false"},"("),s("mi",null,"h"),s("mo",{stretchy:"false"},")"),s("mo",null,"="),s("msup",null,[s("mn",null,"2"),s("mn",null,"0")]),s("mo",null,"×"),s("mi",null,"h"),s("mo",null,"+"),s("msup",null,[s("mn",null,"2"),s("mn",null,"1")]),s("mo",null,"×"),s("mo",{stretchy:"false"},"("),s("mi",null,"h"),s("mo",null,"−"),s("mn",null,"1"),s("mo",{stretchy:"false"},")"),s("mo",null,"+"),s("msup",null,[s("mn",null,"2"),s("mn",null,"2")]),s("mo",null,"×"),s("mo",{stretchy:"false"},"("),s("mi",null,"h"),s("mo",null,"−"),s("mn",null,"2"),s("mo",{stretchy:"false"},")"),s("mo",null,"+"),s("mo",null,"⋯"),s("mo",null,"+"),s("msup",null,[s("mn",null,"2"),s("mrow",null,[s("mo",{stretchy:"false"},"("),s("mi",null,"h"),s("mo",null,"−"),s("mn",null,"1"),s("mo",{stretchy:"false"},")")])]),s("mo",null,"×"),s("mn",null,"1")]),s("annotation",{encoding:"application/x-tex"}," T(h)=2^{0} \\times h+2^{1}\\times(h-1)+2^{2}\\times(h-2)+\\cdots+2^{(h-1)} \\times 1 ")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),s("span",{class:"mord mathnormal",style:{"margin-right":"0.13889em"}},"T"),s("span",{class:"mopen"},"("),s("span",{class:"mord mathnormal"},"h"),s("span",{class:"mclose"},")"),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),s("span",{class:"mrel"},"="),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.9474em","vertical-align":"-0.0833em"}}),s("span",{class:"mord"},[s("span",{class:"mord"},"2"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.8641em"}},[s("span",{style:{top:"-3.113em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mtight"},[s("span",{class:"mord mtight"},"0")])])])])])])])]),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mbin"},"×"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.7778em","vertical-align":"-0.0833em"}}),s("span",{class:"mord mathnormal"},"h"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mbin"},"+"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.9474em","vertical-align":"-0.0833em"}}),s("span",{class:"mord"},[s("span",{class:"mord"},"2"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.8641em"}},[s("span",{style:{top:"-3.113em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mtight"},[s("span",{class:"mord mtight"},"1")])])])])])])])]),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mbin"},"×"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),s("span",{class:"mopen"},"("),s("span",{class:"mord mathnormal"},"h"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mbin"},"−"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),s("span",{class:"mord"},"1"),s("span",{class:"mclose"},")"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mbin"},"+"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.9474em","vertical-align":"-0.0833em"}}),s("span",{class:"mord"},[s("span",{class:"mord"},"2"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.8641em"}},[s("span",{style:{top:"-3.113em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mtight"},[s("span",{class:"mord mtight"},"2")])])])])])])])]),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mbin"},"×"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),s("span",{class:"mopen"},"("),s("span",{class:"mord mathnormal"},"h"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mbin"},"−"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),s("span",{class:"mord"},"2"),s("span",{class:"mclose"},")"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mbin"},"+"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.6667em","vertical-align":"-0.0833em"}}),s("span",{class:"minner"},"⋯"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mbin"},"+"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1.0213em","vertical-align":"-0.0833em"}}),s("span",{class:"mord"},[s("span",{class:"mord"},"2"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.938em"}},[s("span",{style:{top:"-3.113em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mtight"},[s("span",{class:"mopen mtight"},"("),s("span",{class:"mord mathnormal mtight"},"h"),s("span",{class:"mbin mtight"},"−"),s("span",{class:"mord mtight"},"1"),s("span",{class:"mclose mtight"},")")])])])])])])])]),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mbin"},"×"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.6444em"}}),s("span",{class:"mord"},"1")])])])])],-1),Gs=s("p",null,[s("img",{src:q,alt:"image-20230218160035525"})],-1),Js=s("p",{class:"katex-block"},[s("span",{class:"katex-display"},[s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[s("semantics",null,[s("mtable",{rowspacing:"0.25em",columnalign:"right left right left",columnspacing:"0em 1em 0em"},[s("mtr",null,[s("mtd",null,[s("mstyle",{scriptlevel:"0",displaystyle:"true"},[s("mrow",null,[s("mi",null,"T"),s("mo",{stretchy:"false"},"("),s("mi",null,"h"),s("mo",{stretchy:"false"},")")])])]),s("mtd",null,[s("mstyle",{scriptlevel:"0",displaystyle:"true"},[s("mrow",null,[s("mrow"),s("mo",null,"="),s("msup",null,[s("mn",null,"2"),s("mn",null,"0")]),s("mo",null,"×"),s("mi",null,"h"),s("mo",null,"+"),s("msup",null,[s("mn",null,"2"),s("mn",null,"1")]),s("mo",null,"×"),s("mo",{stretchy:"false"},"("),s("mi",null,"h"),s("mo",null,"−"),s("mn",null,"1"),s("mo",{stretchy:"false"},")"),s("mo",null,"+"),s("msup",null,[s("mn",null,"2"),s("mn",null,"2")]),s("mo",null,"×"),s("mo",{stretchy:"false"},"("),s("mi",null,"h"),s("mo",null,"−"),s("mn",null,"2"),s("mo",{stretchy:"false"},")"),s("mo",null,"+"),s("mo",null,"⋯"),s("mo",null,"+"),s("msup",null,[s("mn",null,"2"),s("mrow",null,[s("mi",null,"h"),s("mo",null,"−"),s("mn",null,"1")])]),s("mo",null,"×"),s("mn",null,"1")])])]),s("mtd",null,[s("mstyle",{scriptlevel:"0",displaystyle:"true"},[s("mrow")])]),s("mtd",null,[s("mstyle",{scriptlevel:"0",displaystyle:"true"},[s("mrow",null,[s("mrow"),s("mo",{stretchy:"false"},"("),s("mn",null,"1"),s("mo",{stretchy:"false"},")")])])])]),s("mtr",null,[s("mtd",null,[s("mstyle",{scriptlevel:"0",displaystyle:"true"},[s("mrow",null,[s("mn",null,"2"),s("mi",null,"T"),s("mo",{stretchy:"false"},"("),s("mi",null,"h"),s("mo",{stretchy:"false"},")")])])]),s("mtd",null,[s("mstyle",{scriptlevel:"0",displaystyle:"true"},[s("mrow",null,[s("mrow"),s("mo",null,"="),s("msup",null,[s("mn",null,"2"),s("mn",null,"1")]),s("mo",null,"×"),s("mi",null,"h"),s("mo",null,"+"),s("msup",null,[s("mn",null,"2"),s("mn",null,"2")]),s("mo",null,"×"),s("mo",{stretchy:"false"},"("),s("mi",null,"h"),s("mo",null,"−"),s("mn",null,"1"),s("mo",{stretchy:"false"},")"),s("mo",null,"+"),s("msup",null,[s("mn",null,"2"),s("mn",null,"3")]),s("mo",null,"×"),s("mo",{stretchy:"false"},"("),s("mi",null,"h"),s("mo",null,"−"),s("mn",null,"2"),s("mo",{stretchy:"false"},")"),s("mo",null,"+"),s("mo",null,"⋯"),s("mo",null,"+"),s("msup",null,[s("mn",null,"2"),s("mi",null,"h")]),s("mo",null,"×"),s("mn",null,"1")])])]),s("mtd",null,[s("mstyle",{scriptlevel:"0",displaystyle:"true"},[s("mrow")])]),s("mtd",null,[s("mstyle",{scriptlevel:"0",displaystyle:"true"},[s("mrow",null,[s("mrow"),s("mo",{stretchy:"false"},"("),s("mn",null,"2"),s("mo",{stretchy:"false"},")")])])])])]),s("annotation",{encoding:"application/x-tex"}," \\begin{aligned} T(h) & =2^{0} \\times h+2^{1}\\times (h-1)+2^{2}\\times (h-2)+\\cdots+2^{h-1} \\times 1 && (1)\\\\ 2 T(h) & =2^{1} \\times h+2^{2}\\times(h-1)+2^{3}\\times (h-2)+\\cdots+2^{h} \\times 1 && (2) \\end{aligned} ")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"3.1182em","vertical-align":"-1.3091em"}}),s("span",{class:"mord"},[s("span",{class:"mtable"},[s("span",{class:"col-align-r"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"1.8091em"}},[s("span",{style:{top:"-3.91em"}},[s("span",{class:"pstrut",style:{height:"3em"}}),s("span",{class:"mord"},[s("span",{class:"mord mathnormal",style:{"margin-right":"0.13889em"}},"T"),s("span",{class:"mopen"},"("),s("span",{class:"mord mathnormal"},"h"),s("span",{class:"mclose"},")")])]),s("span",{style:{top:"-2.3509em"}},[s("span",{class:"pstrut",style:{height:"3em"}}),s("span",{class:"mord"},[s("span",{class:"mord"},"2"),s("span",{class:"mord mathnormal",style:{"margin-right":"0.13889em"}},"T"),s("span",{class:"mopen"},"("),s("span",{class:"mord mathnormal"},"h"),s("span",{class:"mclose"},")")])])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"1.3091em"}},[s("span")])])])]),s("span",{class:"col-align-l"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"1.8091em"}},[s("span",{style:{top:"-3.91em"}},[s("span",{class:"pstrut",style:{height:"3em"}}),s("span",{class:"mord"},[s("span",{class:"mord"}),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),s("span",{class:"mrel"},"="),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),s("span",{class:"mord"},[s("span",{class:"mord"},"2"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.8641em"}},[s("span",{style:{top:"-3.113em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mtight"},[s("span",{class:"mord mtight"},"0")])])])])])])])]),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mbin"},"×"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mord mathnormal"},"h"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mbin"},"+"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mord"},[s("span",{class:"mord"},"2"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.8641em"}},[s("span",{style:{top:"-3.113em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mtight"},[s("span",{class:"mord mtight"},"1")])])])])])])])]),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mbin"},"×"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mopen"},"("),s("span",{class:"mord mathnormal"},"h"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mbin"},"−"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mord"},"1"),s("span",{class:"mclose"},")"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mbin"},"+"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mord"},[s("span",{class:"mord"},"2"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.8641em"}},[s("span",{style:{top:"-3.113em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mtight"},[s("span",{class:"mord mtight"},"2")])])])])])])])]),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mbin"},"×"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mopen"},"("),s("span",{class:"mord mathnormal"},"h"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mbin"},"−"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mord"},"2"),s("span",{class:"mclose"},")"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mbin"},"+"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"minner"},"⋯"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mbin"},"+"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mord"},[s("span",{class:"mord"},"2"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.8991em"}},[s("span",{style:{top:"-3.113em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mtight"},[s("span",{class:"mord mathnormal mtight"},"h"),s("span",{class:"mbin mtight"},"−"),s("span",{class:"mord mtight"},"1")])])])])])])])]),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mbin"},"×"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mord"},"1")])]),s("span",{style:{top:"-2.3509em"}},[s("span",{class:"pstrut",style:{height:"3em"}}),s("span",{class:"mord"},[s("span",{class:"mord"}),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),s("span",{class:"mrel"},"="),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),s("span",{class:"mord"},[s("span",{class:"mord"},"2"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.8641em"}},[s("span",{style:{top:"-3.113em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mtight"},[s("span",{class:"mord mtight"},"1")])])])])])])])]),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mbin"},"×"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mord mathnormal"},"h"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mbin"},"+"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mord"},[s("span",{class:"mord"},"2"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.8641em"}},[s("span",{style:{top:"-3.113em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mtight"},[s("span",{class:"mord mtight"},"2")])])])])])])])]),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mbin"},"×"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mopen"},"("),s("span",{class:"mord mathnormal"},"h"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mbin"},"−"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mord"},"1"),s("span",{class:"mclose"},")"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mbin"},"+"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mord"},[s("span",{class:"mord"},"2"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.8641em"}},[s("span",{style:{top:"-3.113em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mtight"},[s("span",{class:"mord mtight"},"3")])])])])])])])]),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mbin"},"×"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mopen"},"("),s("span",{class:"mord mathnormal"},"h"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mbin"},"−"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mord"},"2"),s("span",{class:"mclose"},")"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mbin"},"+"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"minner"},"⋯"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mbin"},"+"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mord"},[s("span",{class:"mord"},"2"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.8991em"}},[s("span",{style:{top:"-3.113em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mtight"},[s("span",{class:"mord mathnormal mtight"},"h")])])])])])])])]),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mbin"},"×"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mord"},"1")])])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"1.3091em"}},[s("span")])])])]),s("span",{class:"arraycolsep",style:{width:"1em"}}),s("span",{class:"col-align-r"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"1.8091em"}},[s("span",{style:{top:"-3.8091em"}},[s("span",{class:"pstrut",style:{height:"2.8991em"}}),s("span",{class:"mord"})]),s("span",{style:{top:"-2.25em"}},[s("span",{class:"pstrut",style:{height:"2.8991em"}}),s("span",{class:"mord"})])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"1.3091em"}},[s("span")])])])]),s("span",{class:"col-align-l"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"1.8091em"}},[s("span",{style:{top:"-3.91em"}},[s("span",{class:"pstrut",style:{height:"3em"}}),s("span",{class:"mord"},[s("span",{class:"mord"}),s("span",{class:"mopen"},"("),s("span",{class:"mord"},"1"),s("span",{class:"mclose"},")")])]),s("span",{style:{top:"-2.3509em"}},[s("span",{class:"pstrut",style:{height:"3em"}}),s("span",{class:"mord"},[s("span",{class:"mord"}),s("span",{class:"mopen"},"("),s("span",{class:"mord"},"2"),s("span",{class:"mclose"},")")])])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"1.3091em"}},[s("span")])])])])])])])])])])],-1),Ks=s("p",null,[n("使用错位相减,让 "),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mo",{stretchy:"false"},"("),s("mn",null,"2"),s("mo",{stretchy:"false"},")"),s("mo",null,"−"),s("mo",{stretchy:"false"},"("),s("mn",null,"1"),s("mo",{stretchy:"false"},")")]),s("annotation",{encoding:"application/x-tex"},"(2) - (1)")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),s("span",{class:"mopen"},"("),s("span",{class:"mord"},"2"),s("span",{class:"mclose"},")"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mbin"},"−"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),s("span",{class:"mopen"},"("),s("span",{class:"mord"},"1"),s("span",{class:"mclose"},")")])])]),n(" ,得到：")],-1),Ws=s("p",{class:"katex-block"},[s("span",{class:"katex-display"},[s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[s("semantics",null,[s("mrow",null,[s("mn",null,"2"),s("mi",null,"T"),s("mo",{stretchy:"false"},"("),s("mi",null,"h"),s("mo",{stretchy:"false"},")"),s("mo",null,"−"),s("mi",null,"T"),s("mo",{stretchy:"false"},"("),s("mi",null,"h"),s("mo",{stretchy:"false"},")"),s("mo",null,"="),s("mi",null,"T"),s("mo",{stretchy:"false"},"("),s("mi",null,"h"),s("mo",{stretchy:"false"},")"),s("mo",null,"="),s("mo",null,"−"),s("msup",null,[s("mn",null,"2"),s("mn",null,"0")]),s("mo",null,"×"),s("mi",null,"h"),s("mo",null,"+"),s("msup",null,[s("mn",null,"2"),s("mn",null,"1")]),s("mo",null,"+"),s("msup",null,[s("mn",null,"2"),s("mn",null,"2")]),s("mo",null,"+"),s("mo",null,"⋯"),s("mo",null,"+"),s("msup",null,[s("mn",null,"2"),s("mrow",null,[s("mi",null,"h"),s("mo",null,"−"),s("mn",null,"1")])]),s("mo",null,"+"),s("msup",null,[s("mn",null,"2"),s("mi",null,"h")])]),s("annotation",{encoding:"application/x-tex"}," 2T(h)-T(h)=T(h)=-2^{0} \\times h+2^{1}+2^{2}+\\cdots+2^{h-1}+2^{h} ")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),s("span",{class:"mord"},"2"),s("span",{class:"mord mathnormal",style:{"margin-right":"0.13889em"}},"T"),s("span",{class:"mopen"},"("),s("span",{class:"mord mathnormal"},"h"),s("span",{class:"mclose"},")"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mbin"},"−"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),s("span",{class:"mord mathnormal",style:{"margin-right":"0.13889em"}},"T"),s("span",{class:"mopen"},"("),s("span",{class:"mord mathnormal"},"h"),s("span",{class:"mclose"},")"),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),s("span",{class:"mrel"},"="),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),s("span",{class:"mord mathnormal",style:{"margin-right":"0.13889em"}},"T"),s("span",{class:"mopen"},"("),s("span",{class:"mord mathnormal"},"h"),s("span",{class:"mclose"},")"),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),s("span",{class:"mrel"},"="),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.9474em","vertical-align":"-0.0833em"}}),s("span",{class:"mord"},"−"),s("span",{class:"mord"},[s("span",{class:"mord"},"2"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.8641em"}},[s("span",{style:{top:"-3.113em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mtight"},[s("span",{class:"mord mtight"},"0")])])])])])])])]),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mbin"},"×"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.7778em","vertical-align":"-0.0833em"}}),s("span",{class:"mord mathnormal"},"h"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mbin"},"+"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.9474em","vertical-align":"-0.0833em"}}),s("span",{class:"mord"},[s("span",{class:"mord"},"2"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.8641em"}},[s("span",{style:{top:"-3.113em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mtight"},[s("span",{class:"mord mtight"},"1")])])])])])])])]),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mbin"},"+"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.9474em","vertical-align":"-0.0833em"}}),s("span",{class:"mord"},[s("span",{class:"mord"},"2"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.8641em"}},[s("span",{style:{top:"-3.113em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mtight"},[s("span",{class:"mord mtight"},"2")])])])])])])])]),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mbin"},"+"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.6667em","vertical-align":"-0.0833em"}}),s("span",{class:"minner"},"⋯"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mbin"},"+"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.9824em","vertical-align":"-0.0833em"}}),s("span",{class:"mord"},[s("span",{class:"mord"},"2"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.8991em"}},[s("span",{style:{top:"-3.113em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mtight"},[s("span",{class:"mord mathnormal mtight"},"h"),s("span",{class:"mbin mtight"},"−"),s("span",{class:"mord mtight"},"1")])])])])])])])]),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mbin"},"+"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.8991em"}}),s("span",{class:"mord"},[s("span",{class:"mord"},"2"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.8991em"}},[s("span",{style:{top:"-3.113em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mtight"},[s("span",{class:"mord mathnormal mtight"},"h")])])])])])])])])])])])])],-1),sn=s("p",null,[n("观察上式，"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mi",null,"T"),s("mo",{stretchy:"false"},"("),s("mi",null,"h"),s("mo",{stretchy:"false"},")")]),s("annotation",{encoding:"application/x-tex"},"T(h)")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),s("span",{class:"mord mathnormal",style:{"margin-right":"0.13889em"}},"T"),s("span",{class:"mopen"},"("),s("span",{class:"mord mathnormal"},"h"),s("span",{class:"mclose"},")")])])]),n(" 是一个等比数列，可直接使用求和公式，得到时间复杂度为")],-1),nn=s("p",{class:"katex-block"},[s("span",{class:"katex-display"},[s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[s("semantics",null,[s("mtable",{rowspacing:"0.25em",columnalign:"right left",columnspacing:"0em"},[s("mtr",null,[s("mtd",null,[s("mstyle",{scriptlevel:"0",displaystyle:"true"},[s("mrow",null,[s("mi",null,"T"),s("mo",{stretchy:"false"},"("),s("mi",null,"h"),s("mo",{stretchy:"false"},")")])])]),s("mtd",null,[s("mstyle",{scriptlevel:"0",displaystyle:"true"},[s("mrow",null,[s("mrow"),s("mo",null,"="),s("mn",null,"2"),s("mfrac",null,[s("mrow",null,[s("mn",null,"1"),s("mo",null,"−"),s("msup",null,[s("mn",null,"2"),s("mi",null,"h")])]),s("mrow",null,[s("mn",null,"1"),s("mo",null,"−"),s("mn",null,"2")])]),s("mo",null,"−"),s("mi",null,"h")])])])]),s("mtr",null,[s("mtd",null,[s("mstyle",{scriptlevel:"0",displaystyle:"true"},[s("mrow")])]),s("mtd",null,[s("mstyle",{scriptlevel:"0",displaystyle:"true"},[s("mrow",null,[s("mrow"),s("mo",null,"="),s("msup",null,[s("mn",null,"2"),s("mrow",null,[s("mi",null,"h"),s("mo",null,"+"),s("mn",null,"1")])]),s("mo",null,"−"),s("mi",null,"h")])])])]),s("mtr",null,[s("mtd",null,[s("mstyle",{scriptlevel:"0",displaystyle:"true"},[s("mrow")])]),s("mtd",null,[s("mstyle",{scriptlevel:"0",displaystyle:"true"},[s("mrow",null,[s("mrow"),s("mo",null,"="),s("mi",null,"O"),s("mrow",null,[s("mo",{fence:"true"},"("),s("msup",null,[s("mn",null,"2"),s("mi",null,"h")]),s("mo",{fence:"true"},")")])])])])])]),s("annotation",{encoding:"application/x-tex"}," \\begin{aligned} T(h) & =2 \\frac{1-2^{h}}{1-2}-h \\\\ & =2^{h+1}-h \\\\ & =O\\left(2^{h}\\right) \\end{aligned} ")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"5.7137em","vertical-align":"-2.6068em"}}),s("span",{class:"mord"},[s("span",{class:"mtable"},[s("span",{class:"col-align-r"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"3.1068em"}},[s("span",{style:{top:"-5.1068em"}},[s("span",{class:"pstrut",style:{height:"3.5261em"}}),s("span",{class:"mord"},[s("span",{class:"mord mathnormal",style:{"margin-right":"0.13889em"}},"T"),s("span",{class:"mopen"},"("),s("span",{class:"mord mathnormal"},"h"),s("span",{class:"mclose"},")")])]),s("span",{style:{top:"-3.1384em"}},[s("span",{class:"pstrut",style:{height:"3.5261em"}}),s("span",{class:"mord"})]),s("span",{style:{top:"-1.5793em"}},[s("span",{class:"pstrut",style:{height:"3.5261em"}}),s("span",{class:"mord"})])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"2.6068em"}},[s("span")])])])]),s("span",{class:"col-align-l"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"3.1068em"}},[s("span",{style:{top:"-5.1068em"}},[s("span",{class:"pstrut",style:{height:"3.5261em"}}),s("span",{class:"mord"},[s("span",{class:"mord"}),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),s("span",{class:"mrel"},"="),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),s("span",{class:"mord"},"2"),s("span",{class:"mord"},[s("span",{class:"mopen nulldelimiter"}),s("span",{class:"mfrac"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"1.5261em"}},[s("span",{style:{top:"-2.314em"}},[s("span",{class:"pstrut",style:{height:"3em"}}),s("span",{class:"mord"},[s("span",{class:"mord"},"1"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mbin"},"−"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mord"},"2")])]),s("span",{style:{top:"-3.23em"}},[s("span",{class:"pstrut",style:{height:"3em"}}),s("span",{class:"frac-line",style:{"border-bottom-width":"0.04em"}})]),s("span",{style:{top:"-3.677em"}},[s("span",{class:"pstrut",style:{height:"3em"}}),s("span",{class:"mord"},[s("span",{class:"mord"},"1"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mbin"},"−"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mord"},[s("span",{class:"mord"},"2"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.8491em"}},[s("span",{style:{top:"-3.063em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mtight"},[s("span",{class:"mord mathnormal mtight"},"h")])])])])])])])])])])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.7693em"}},[s("span")])])])]),s("span",{class:"mclose nulldelimiter"})]),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mbin"},"−"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mord mathnormal"},"h")])]),s("span",{style:{top:"-3.1384em"}},[s("span",{class:"pstrut",style:{height:"3.5261em"}}),s("span",{class:"mord"},[s("span",{class:"mord"}),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),s("span",{class:"mrel"},"="),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),s("span",{class:"mord"},[s("span",{class:"mord"},"2"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.8991em"}},[s("span",{style:{top:"-3.113em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mtight"},[s("span",{class:"mord mathnormal mtight"},"h"),s("span",{class:"mbin mtight"},"+"),s("span",{class:"mord mtight"},"1")])])])])])])])]),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mbin"},"−"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mord mathnormal"},"h")])]),s("span",{style:{top:"-1.5793em"}},[s("span",{class:"pstrut",style:{height:"3.5261em"}}),s("span",{class:"mord"},[s("span",{class:"mord"}),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),s("span",{class:"mrel"},"="),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),s("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"O"),s("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),s("span",{class:"minner"},[s("span",{class:"mopen delimcenter",style:{top:"0em"}},[s("span",{class:"delimsizing size1"},"(")]),s("span",{class:"mord"},[s("span",{class:"mord"},"2"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.8991em"}},[s("span",{style:{top:"-3.113em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mtight"},[s("span",{class:"mord mathnormal mtight"},"h")])])])])])])])]),s("span",{class:"mclose delimcenter",style:{top:"0em"}},[s("span",{class:"delimsizing size1"},")")])])])])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"2.6068em"}},[s("span")])])])])])])])])])])],-1),an=s("p",null,[n("进一步地，高度为 "),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mi",null,"h")]),s("annotation",{encoding:"application/x-tex"},"h")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.6944em"}}),s("span",{class:"mord mathnormal"},"h")])])]),n(" 的完美二叉树的结点数量为 "),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mi",null,"n"),s("mo",null,"="),s("msup",null,[s("mn",null,"2"),s("mrow",null,[s("mi",null,"h"),s("mo",null,"+"),s("mn",null,"1")])]),s("mo",null,"−"),s("mn",null,"1")]),s("annotation",{encoding:"application/x-tex"},"n=2^{h+1}−1")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.4306em"}}),s("span",{class:"mord mathnormal"},"n"),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),s("span",{class:"mrel"},"="),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.9324em","vertical-align":"-0.0833em"}}),s("span",{class:"mord"},[s("span",{class:"mord"},"2"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.8491em"}},[s("span",{style:{top:"-3.063em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mtight"},[s("span",{class:"mord mathnormal mtight"},"h"),s("span",{class:"mbin mtight"},"+"),s("span",{class:"mord mtight"},"1")])])])])])])])]),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mbin"},"−"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.6444em"}}),s("span",{class:"mord"},"1")])])]),n(" ，易得复杂度为 "),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mi",null,"O"),s("mo",{stretchy:"false"},"("),s("msup",null,[s("mn",null,"2"),s("mi",null,"h")]),s("mo",{stretchy:"false"},")"),s("mo",null,"="),s("mi",null,"O"),s("mo",{stretchy:"false"},"("),s("mi",null,"n"),s("mo",{stretchy:"false"},")")]),s("annotation",{encoding:"application/x-tex"},"O(2^h)=O(n)")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1.0991em","vertical-align":"-0.25em"}}),s("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"O"),s("span",{class:"mopen"},"("),s("span",{class:"mord"},[s("span",{class:"mord"},"2"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.8491em"}},[s("span",{style:{top:"-3.063em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mathnormal mtight"},"h")])])])])])])]),s("span",{class:"mclose"},")"),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),s("span",{class:"mrel"},"="),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),s("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"O"),s("span",{class:"mopen"},"("),s("span",{class:"mord mathnormal"},"n"),s("span",{class:"mclose"},")")])])]),n("。以上推算表明，"),s("strong",null,[n("输入列表并建堆的时间复杂度为 "),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mi",null,"O"),s("mo",{stretchy:"false"},"("),s("mi",null,"n"),s("mo",{stretchy:"false"},")")]),s("annotation",{encoding:"application/x-tex"},"O(n)")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),s("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"O"),s("span",{class:"mopen"},"("),s("span",{class:"mord mathnormal"},"n"),s("span",{class:"mclose"},")")])])]),n(" ，非常高效")]),n("。")],-1),tn=s("h2",{id:"整体代码实现",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#整体代码实现","aria-hidden":"true"},"#"),n(" 整体代码实现")],-1),en=s("div",{class:"language-rust line-numbers-mode","data-ext":"rs"},[s("pre",{class:"language-rust"},[s("code",null,[s("span",{class:"token attribute attr-name"},"#![allow(unused)]"),n(`
`),s("span",{class:"token comment"},"/// 堆"),n(`
`),s("span",{class:"token keyword"},"pub"),n(),s("span",{class:"token keyword"},"struct"),n(),s("span",{class:"token type-definition class-name"},"Heap"),s("span",{class:"token operator"},"<"),s("span",{class:"token class-name"},"T"),s("span",{class:"token punctuation"},":"),n(),s("span",{class:"token class-name"},"Default"),s("span",{class:"token operator"},">"),s("span",{class:"token punctuation"},"{"),n(`
  count`),s("span",{class:"token punctuation"},":"),n(),s("span",{class:"token keyword"},"usize"),s("span",{class:"token punctuation"},","),n("                    "),s("span",{class:"token comment"},"// 堆中元素个数  "),n(`
  items`),s("span",{class:"token punctuation"},":"),n(),s("span",{class:"token class-name"},"Vec"),s("span",{class:"token operator"},"<"),s("span",{class:"token class-name"},"T"),s("span",{class:"token operator"},">"),s("span",{class:"token punctuation"},","),n("                   "),s("span",{class:"token comment"},"// 存储堆中元素的 Vec"),n(`
  comparator`),s("span",{class:"token punctuation"},":"),n(),s("span",{class:"token keyword"},"fn"),s("span",{class:"token punctuation"},"("),s("span",{class:"token operator"},"&"),s("span",{class:"token class-name"},"T"),s("span",{class:"token punctuation"},","),n(),s("span",{class:"token operator"},"&"),s("span",{class:"token class-name"},"T"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"->"),n(),s("span",{class:"token keyword"},"bool"),s("span",{class:"token punctuation"},","),n("  "),s("span",{class:"token comment"},"// cmp 函数，自定义优先级"),n(`
`),s("span",{class:"token punctuation"},"}"),n(`
`),s("span",{class:"token keyword"},"impl"),s("span",{class:"token operator"},"<"),s("span",{class:"token class-name"},"T"),s("span",{class:"token punctuation"},":"),n(),s("span",{class:"token class-name"},"Default"),s("span",{class:"token operator"},">"),n(),s("span",{class:"token class-name"},"Heap"),s("span",{class:"token operator"},"<"),s("span",{class:"token class-name"},"T"),s("span",{class:"token operator"},">"),n(),s("span",{class:"token punctuation"},"{"),n(`
  `),s("span",{class:"token comment"},"/// 创建一个空堆"),n(`
  `),s("span",{class:"token keyword"},"pub"),n(),s("span",{class:"token keyword"},"fn"),n(),s("span",{class:"token function-definition function"},"new"),s("span",{class:"token punctuation"},"("),n("comparator"),s("span",{class:"token punctuation"},":"),n(),s("span",{class:"token keyword"},"fn"),s("span",{class:"token punctuation"},"("),s("span",{class:"token operator"},"&"),s("span",{class:"token class-name"},"T"),s("span",{class:"token punctuation"},","),n(),s("span",{class:"token operator"},"&"),s("span",{class:"token class-name"},"T"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"->"),n(),s("span",{class:"token keyword"},"bool"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"->"),n(),s("span",{class:"token keyword"},"Self"),n(),s("span",{class:"token punctuation"},"{"),n(`
      `),s("span",{class:"token keyword"},"Self"),n(),s("span",{class:"token punctuation"},"{"),n(" count"),s("span",{class:"token punctuation"},":"),n(),s("span",{class:"token number"},"0"),s("span",{class:"token punctuation"},","),n(" items"),s("span",{class:"token punctuation"},":"),n(),s("span",{class:"token macro property"},"vec!"),s("span",{class:"token punctuation"},"["),s("span",{class:"token class-name"},"T"),s("span",{class:"token punctuation"},"::"),s("span",{class:"token function"},"default"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},"]"),s("span",{class:"token punctuation"},","),n(" comparator "),s("span",{class:"token punctuation"},"}"),n(`
  `),s("span",{class:"token punctuation"},"}"),n(`
  `),s("span",{class:"token comment"},"/// 从 vec 中构建 heap , O(n)"),n(`
  `),s("span",{class:"token keyword"},"pub"),n(),s("span",{class:"token keyword"},"fn"),n(),s("span",{class:"token function-definition function"},"from"),s("span",{class:"token punctuation"},"("),n("items"),s("span",{class:"token punctuation"},":"),n(),s("span",{class:"token class-name"},"Vec"),s("span",{class:"token operator"},"<"),s("span",{class:"token class-name"},"T"),s("span",{class:"token operator"},">"),s("span",{class:"token punctuation"},","),n(" comparator"),s("span",{class:"token punctuation"},":"),n(),s("span",{class:"token keyword"},"fn"),s("span",{class:"token punctuation"},"("),s("span",{class:"token operator"},"&"),s("span",{class:"token class-name"},"T"),s("span",{class:"token punctuation"},","),n(),s("span",{class:"token operator"},"&"),s("span",{class:"token class-name"},"T"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"->"),n(),s("span",{class:"token keyword"},"bool"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"->"),n(),s("span",{class:"token keyword"},"Self"),n(),s("span",{class:"token punctuation"},"{"),n(`
    `),s("span",{class:"token keyword"},"let"),n(),s("span",{class:"token keyword"},"mut"),n(" count "),s("span",{class:"token operator"},"="),n(" items"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"len"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token operator"},"-"),n(),s("span",{class:"token number"},"1"),s("span",{class:"token punctuation"},";"),n(` 
    `),s("span",{class:"token keyword"},"let"),n(),s("span",{class:"token keyword"},"mut"),n(" h "),s("span",{class:"token operator"},"="),n(),s("span",{class:"token class-name"},"Heap"),n(),s("span",{class:"token punctuation"},"{"),n(` 
      count`),s("span",{class:"token punctuation"},","),n(`
      items`),s("span",{class:"token punctuation"},","),n(` 
      comparator
    `),s("span",{class:"token punctuation"},"}"),s("span",{class:"token punctuation"},";"),n(`
    `),s("span",{class:"token keyword"},"let"),n(),s("span",{class:"token keyword"},"mut"),n(" i "),s("span",{class:"token operator"},"="),n(" count "),s("span",{class:"token operator"},"/"),n(),s("span",{class:"token number"},"2"),s("span",{class:"token punctuation"},";"),n(`
    `),s("span",{class:"token keyword"},"while"),n(" i "),s("span",{class:"token operator"},">"),n(),s("span",{class:"token number"},"0"),n(),s("span",{class:"token punctuation"},"{"),n(`
      h`),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"down"),s("span",{class:"token punctuation"},"("),n("i"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
      i `),s("span",{class:"token operator"},"-="),n(),s("span",{class:"token number"},"1"),s("span",{class:"token punctuation"},";"),n(`
    `),s("span",{class:"token punctuation"},"}"),n(`
    h
  `),s("span",{class:"token punctuation"},"}"),n(`
  `),s("span",{class:"token comment"},"/// 堆中结点个数"),n(`
  `),s("span",{class:"token keyword"},"pub"),n(),s("span",{class:"token keyword"},"fn"),n(),s("span",{class:"token function-definition function"},"len"),s("span",{class:"token punctuation"},"("),s("span",{class:"token operator"},"&"),s("span",{class:"token keyword"},"self"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"->"),n(),s("span",{class:"token keyword"},"usize"),n(),s("span",{class:"token punctuation"},"{"),n(`
    `),s("span",{class:"token keyword"},"self"),s("span",{class:"token punctuation"},"."),n(`count
  `),s("span",{class:"token punctuation"},"}"),n(`
  `),s("span",{class:"token comment"},"/// 判断结点是否为空"),n(`
  `),s("span",{class:"token keyword"},"pub"),n(),s("span",{class:"token keyword"},"fn"),n(),s("span",{class:"token function-definition function"},"is_empty"),s("span",{class:"token punctuation"},"("),s("span",{class:"token operator"},"&"),s("span",{class:"token keyword"},"self"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"->"),n(),s("span",{class:"token keyword"},"bool"),n(),s("span",{class:"token punctuation"},"{"),n(`
    `),s("span",{class:"token keyword"},"self"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"len"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token operator"},"=="),n(),s("span",{class:"token number"},"0"),n(`
  `),s("span",{class:"token punctuation"},"}"),n(`
  `),s("span",{class:"token comment"},"/// 查看堆顶元素"),n(`
  `),s("span",{class:"token keyword"},"pub"),n(),s("span",{class:"token keyword"},"fn"),n(),s("span",{class:"token function-definition function"},"peek"),s("span",{class:"token punctuation"},"("),s("span",{class:"token operator"},"&"),s("span",{class:"token keyword"},"self"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"->"),n(),s("span",{class:"token class-name"},"Option"),s("span",{class:"token operator"},"<"),s("span",{class:"token operator"},"&"),s("span",{class:"token class-name"},"T"),s("span",{class:"token operator"},">"),n(),s("span",{class:"token punctuation"},"{"),n(`
    `),s("span",{class:"token keyword"},"self"),s("span",{class:"token punctuation"},"."),n("items"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"get"),s("span",{class:"token punctuation"},"("),s("span",{class:"token number"},"1"),s("span",{class:"token punctuation"},")"),n(`
  `),s("span",{class:"token punctuation"},"}"),n(`
  `),s("span",{class:"token comment"},"/// 添加一个结点 O(logn)"),n(`
  `),s("span",{class:"token keyword"},"pub"),n(),s("span",{class:"token keyword"},"fn"),n(),s("span",{class:"token function-definition function"},"push"),s("span",{class:"token punctuation"},"("),s("span",{class:"token operator"},"&"),s("span",{class:"token keyword"},"mut"),n(),s("span",{class:"token keyword"},"self"),s("span",{class:"token punctuation"},","),n(" value"),s("span",{class:"token punctuation"},":"),n(),s("span",{class:"token class-name"},"T"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
    `),s("span",{class:"token keyword"},"self"),s("span",{class:"token punctuation"},"."),n("count "),s("span",{class:"token operator"},"+="),n(),s("span",{class:"token number"},"1"),s("span",{class:"token punctuation"},";"),n(`
    `),s("span",{class:"token comment"},"// 1.先加到末尾"),n(`
    `),s("span",{class:"token keyword"},"self"),s("span",{class:"token punctuation"},"."),n("items"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"push"),s("span",{class:"token punctuation"},"("),n("value"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
    `),s("span",{class:"token keyword"},"let"),n(),s("span",{class:"token keyword"},"mut"),n(" idx "),s("span",{class:"token operator"},"="),n(),s("span",{class:"token keyword"},"self"),s("span",{class:"token punctuation"},"."),n("count"),s("span",{class:"token punctuation"},";"),n(`
    `),s("span",{class:"token comment"},"// 2.然后从底向上调整"),n(`
    `),s("span",{class:"token keyword"},"self"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"up"),s("span",{class:"token punctuation"},"("),s("span",{class:"token operator"},"&"),s("span",{class:"token keyword"},"mut"),n(" idx"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
  `),s("span",{class:"token punctuation"},"}"),n(`
  `),s("span",{class:"token comment"},"/// up 操作"),n(`
  `),s("span",{class:"token keyword"},"fn"),n(),s("span",{class:"token function-definition function"},"up"),s("span",{class:"token punctuation"},"("),s("span",{class:"token operator"},"&"),s("span",{class:"token keyword"},"mut"),n(),s("span",{class:"token keyword"},"self"),s("span",{class:"token punctuation"},","),n(" idx"),s("span",{class:"token punctuation"},":"),n(),s("span",{class:"token operator"},"&"),s("span",{class:"token keyword"},"mut"),n(),s("span",{class:"token keyword"},"usize"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
    `),s("span",{class:"token comment"},"// 判断结点是否有父结点"),n(`
    `),s("span",{class:"token keyword"},"while"),n(),s("span",{class:"token keyword"},"self"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"parent_idx"),s("span",{class:"token punctuation"},"("),s("span",{class:"token operator"},"*"),n("idx"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token operator"},">"),n(),s("span",{class:"token number"},"0"),n(),s("span",{class:"token punctuation"},"{"),n(`
        `),s("span",{class:"token keyword"},"let"),n(" _idx "),s("span",{class:"token operator"},"="),n(),s("span",{class:"token operator"},"*"),n("idx"),s("span",{class:"token punctuation"},";"),n(`
        `),s("span",{class:"token keyword"},"let"),n(" pdx "),s("span",{class:"token operator"},"="),n(),s("span",{class:"token keyword"},"self"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"parent_idx"),s("span",{class:"token punctuation"},"("),n("_idx"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
        `),s("span",{class:"token comment"},"// 根据堆的优先顺序进行调整"),n(`
        `),s("span",{class:"token keyword"},"if"),n(),s("span",{class:"token punctuation"},"("),s("span",{class:"token keyword"},"self"),s("span",{class:"token punctuation"},"."),n("comparator"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},"("),s("span",{class:"token operator"},"&"),s("span",{class:"token keyword"},"self"),s("span",{class:"token punctuation"},"."),n("items"),s("span",{class:"token punctuation"},"["),n("_idx"),s("span",{class:"token punctuation"},"]"),s("span",{class:"token punctuation"},","),n(),s("span",{class:"token operator"},"&"),s("span",{class:"token keyword"},"self"),s("span",{class:"token punctuation"},"."),n("items"),s("span",{class:"token punctuation"},"["),n("pdx"),s("span",{class:"token punctuation"},"]"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
          `),s("span",{class:"token keyword"},"self"),s("span",{class:"token punctuation"},"."),n("items"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"swap"),s("span",{class:"token punctuation"},"("),n("_idx"),s("span",{class:"token punctuation"},","),n(" pdx"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
        `),s("span",{class:"token punctuation"},"}"),n(`
        `),s("span",{class:"token operator"},"*"),n("idx "),s("span",{class:"token operator"},"="),n(" pdx"),s("span",{class:"token punctuation"},";"),n(`
      `),s("span",{class:"token punctuation"},"}"),n(`
  `),s("span",{class:"token punctuation"},"}"),n(`
  `),s("span",{class:"token comment"},"/// 获取左右子结点中优先级更大的结点的索引"),n(`
  `),s("span",{class:"token keyword"},"fn"),n(),s("span",{class:"token function-definition function"},"smallest_child_idx"),s("span",{class:"token punctuation"},"("),s("span",{class:"token operator"},"&"),s("span",{class:"token keyword"},"self"),s("span",{class:"token punctuation"},","),n(" idx"),s("span",{class:"token punctuation"},":"),n(),s("span",{class:"token keyword"},"usize"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"->"),n(),s("span",{class:"token keyword"},"usize"),n(),s("span",{class:"token punctuation"},"{"),n(`
    `),s("span",{class:"token comment"},"// 右子结点越界时，直接返回左子结点"),n(`
    `),s("span",{class:"token keyword"},"if"),n(),s("span",{class:"token keyword"},"self"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"right_child_idx"),s("span",{class:"token punctuation"},"("),n("idx"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token operator"},">"),n(),s("span",{class:"token keyword"},"self"),s("span",{class:"token punctuation"},"."),n("count "),s("span",{class:"token punctuation"},"{"),n(`
      `),s("span",{class:"token keyword"},"self"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"left_child_idx"),s("span",{class:"token punctuation"},"("),n("idx"),s("span",{class:"token punctuation"},")"),n(`
    `),s("span",{class:"token punctuation"},"}"),s("span",{class:"token keyword"},"else"),n(),s("span",{class:"token punctuation"},"{"),n(`
      `),s("span",{class:"token keyword"},"let"),n(" ldx "),s("span",{class:"token operator"},"="),n(),s("span",{class:"token keyword"},"self"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"left_child_idx"),s("span",{class:"token punctuation"},"("),n("idx"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
      `),s("span",{class:"token keyword"},"let"),n(" rdx "),s("span",{class:"token operator"},"="),n(),s("span",{class:"token keyword"},"self"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"right_child_idx"),s("span",{class:"token punctuation"},"("),n("idx"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
      `),s("span",{class:"token comment"},"// 返回优先级更高的子结点"),n(`
      `),s("span",{class:"token keyword"},"if"),n(),s("span",{class:"token punctuation"},"("),s("span",{class:"token keyword"},"self"),s("span",{class:"token punctuation"},"."),n("comparator"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},"("),s("span",{class:"token operator"},"&"),s("span",{class:"token keyword"},"self"),s("span",{class:"token punctuation"},"."),n("items"),s("span",{class:"token punctuation"},"["),n("ldx"),s("span",{class:"token punctuation"},"]"),s("span",{class:"token punctuation"},","),n(),s("span",{class:"token operator"},"&"),s("span",{class:"token keyword"},"self"),s("span",{class:"token punctuation"},"."),n("items"),s("span",{class:"token punctuation"},"["),n("rdx"),s("span",{class:"token punctuation"},"]"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
        ldx
      `),s("span",{class:"token punctuation"},"}"),n(),s("span",{class:"token keyword"},"else"),n(),s("span",{class:"token punctuation"},"{"),n(`
        rdx
      `),s("span",{class:"token punctuation"},"}"),n(`
    `),s("span",{class:"token punctuation"},"}"),n(`
  `),s("span",{class:"token punctuation"},"}"),n(`
  `),s("span",{class:"token comment"},"/// down 操作"),n(`
  `),s("span",{class:"token keyword"},"fn"),n(),s("span",{class:"token function-definition function"},"down"),s("span",{class:"token punctuation"},"("),s("span",{class:"token operator"},"&"),s("span",{class:"token keyword"},"mut"),n(),s("span",{class:"token keyword"},"self"),s("span",{class:"token punctuation"},","),n(),s("span",{class:"token keyword"},"mut"),n(" idx"),s("span",{class:"token punctuation"},":"),s("span",{class:"token keyword"},"usize"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
    `),s("span",{class:"token comment"},"// 当该结点存在子结点时"),n(`
    `),s("span",{class:"token keyword"},"while"),n(),s("span",{class:"token keyword"},"self"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"children_present"),s("span",{class:"token punctuation"},"("),n("idx"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
      `),s("span",{class:"token comment"},"// 得出左右子结点中优先级更高的结点"),n(`
      `),s("span",{class:"token keyword"},"let"),n(" cdx "),s("span",{class:"token operator"},"="),n(),s("span",{class:"token keyword"},"self"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"smallest_child_idx"),s("span",{class:"token punctuation"},"("),n("idx"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
      `),s("span",{class:"token comment"},"// 子结点的优先级高于该结点的优先级"),n(`
      `),s("span",{class:"token keyword"},"if"),n(),s("span",{class:"token operator"},"!"),s("span",{class:"token punctuation"},"("),s("span",{class:"token keyword"},"self"),s("span",{class:"token punctuation"},"."),n("comparator"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},"("),s("span",{class:"token operator"},"&"),s("span",{class:"token keyword"},"self"),s("span",{class:"token punctuation"},"."),n("items"),s("span",{class:"token punctuation"},"["),n("idx"),s("span",{class:"token punctuation"},"]"),s("span",{class:"token punctuation"},","),n(),s("span",{class:"token operator"},"&"),s("span",{class:"token keyword"},"self"),s("span",{class:"token punctuation"},"."),n("items"),s("span",{class:"token punctuation"},"["),n("cdx"),s("span",{class:"token punctuation"},"]"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
        `),s("span",{class:"token keyword"},"self"),s("span",{class:"token punctuation"},"."),n("items"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"swap"),s("span",{class:"token punctuation"},"("),n("idx"),s("span",{class:"token punctuation"},","),n(" cdx"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
      `),s("span",{class:"token punctuation"},"}"),n(`
      idx `),s("span",{class:"token operator"},"="),n(" cdx"),s("span",{class:"token punctuation"},";"),n(`
    `),s("span",{class:"token punctuation"},"}"),n(`
  `),s("span",{class:"token punctuation"},"}"),n(`
  `),s("span",{class:"token comment"},"/// 弹出堆顶元素并返回弹出堆顶元素 O(logn)"),n(`
  `),s("span",{class:"token keyword"},"pub"),n(),s("span",{class:"token keyword"},"fn"),n(),s("span",{class:"token function-definition function"},"pop"),s("span",{class:"token punctuation"},"("),s("span",{class:"token operator"},"&"),s("span",{class:"token keyword"},"mut"),n(),s("span",{class:"token keyword"},"self"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"->"),n(),s("span",{class:"token class-name"},"Option"),s("span",{class:"token operator"},"<"),s("span",{class:"token class-name"},"T"),s("span",{class:"token operator"},">"),n(),s("span",{class:"token punctuation"},"{"),n(`
    `),s("span",{class:"token keyword"},"let"),n(),s("span",{class:"token keyword"},"mut"),n(" tt"),s("span",{class:"token punctuation"},":"),n(),s("span",{class:"token class-name"},"Option"),s("span",{class:"token operator"},"<"),s("span",{class:"token class-name"},"T"),s("span",{class:"token operator"},">"),n(),s("span",{class:"token operator"},"="),n(),s("span",{class:"token class-name"},"None"),s("span",{class:"token punctuation"},";"),n(`
    `),s("span",{class:"token keyword"},"if"),n(),s("span",{class:"token keyword"},"let"),n(),s("span",{class:"token class-name"},"Some"),s("span",{class:"token punctuation"},"("),n("top"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token operator"},"="),n(),s("span",{class:"token keyword"},"self"),s("span",{class:"token punctuation"},"."),n("items"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"get"),s("span",{class:"token punctuation"},"("),s("span",{class:"token number"},"1"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
      `),s("span",{class:"token comment"},"// 删除堆顶元素 "),n(`
      `),s("span",{class:"token comment"},"// swap_remove 会在删除该元素后将 vec 中的最后一个元素填补到这个空位"),n(`
      tt `),s("span",{class:"token operator"},"="),n(),s("span",{class:"token class-name"},"Some"),s("span",{class:"token punctuation"},"("),s("span",{class:"token keyword"},"self"),s("span",{class:"token punctuation"},"."),n("items"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"swap_remove"),s("span",{class:"token punctuation"},"("),s("span",{class:"token number"},"1"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
      `),s("span",{class:"token keyword"},"self"),s("span",{class:"token punctuation"},"."),n("count "),s("span",{class:"token operator"},"-="),n(),s("span",{class:"token number"},"1"),s("span",{class:"token punctuation"},";"),n(`
      `),s("span",{class:"token comment"},"// 调整堆"),n(`
      `),s("span",{class:"token keyword"},"if"),n(),s("span",{class:"token keyword"},"self"),s("span",{class:"token punctuation"},"."),n("count "),s("span",{class:"token operator"},">"),n(),s("span",{class:"token number"},"0"),n(),s("span",{class:"token punctuation"},"{"),n(`
        `),s("span",{class:"token keyword"},"let"),n(),s("span",{class:"token keyword"},"mut"),n(" idx "),s("span",{class:"token operator"},"="),n(),s("span",{class:"token number"},"1"),s("span",{class:"token punctuation"},";"),n(`
        `),s("span",{class:"token keyword"},"self"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"down"),s("span",{class:"token punctuation"},"("),n("idx"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
      `),s("span",{class:"token punctuation"},"}"),n(`
    `),s("span",{class:"token punctuation"},"}"),n(`
    tt
  `),s("span",{class:"token punctuation"},"}"),n(`
  `),s("span",{class:"token comment"},"/// 父结点索引"),n(`
  `),s("span",{class:"token keyword"},"fn"),n(),s("span",{class:"token function-definition function"},"parent_idx"),s("span",{class:"token punctuation"},"("),s("span",{class:"token operator"},"&"),s("span",{class:"token keyword"},"self"),s("span",{class:"token punctuation"},","),n(" idx"),s("span",{class:"token punctuation"},":"),n(),s("span",{class:"token keyword"},"usize"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"->"),n(),s("span",{class:"token keyword"},"usize"),n(),s("span",{class:"token punctuation"},"{"),n(`
    idx `),s("span",{class:"token operator"},"/"),n(),s("span",{class:"token number"},"2"),n(`
  `),s("span",{class:"token punctuation"},"}"),n(`
  `),s("span",{class:"token comment"},"/// 判断该结点是否存在子结点"),n(`
  `),s("span",{class:"token keyword"},"fn"),n(),s("span",{class:"token function-definition function"},"children_present"),s("span",{class:"token punctuation"},"("),s("span",{class:"token operator"},"&"),s("span",{class:"token keyword"},"self"),s("span",{class:"token punctuation"},","),n(" idx"),s("span",{class:"token punctuation"},":"),n(),s("span",{class:"token keyword"},"usize"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"->"),n(),s("span",{class:"token keyword"},"bool"),n(),s("span",{class:"token punctuation"},"{"),n(`
    `),s("span",{class:"token comment"},"// 当左子结点索引都越界时，该结点也一定没有右子结点"),n(`
    `),s("span",{class:"token keyword"},"self"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"left_child_idx"),s("span",{class:"token punctuation"},"("),n("idx"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token operator"},"<="),n(),s("span",{class:"token keyword"},"self"),s("span",{class:"token punctuation"},"."),n(`count
  `),s("span",{class:"token punctuation"},"}"),n(`
  `),s("span",{class:"token comment"},"/// 左子结点索引 "),n(`
  `),s("span",{class:"token keyword"},"fn"),n(),s("span",{class:"token function-definition function"},"left_child_idx"),s("span",{class:"token punctuation"},"("),s("span",{class:"token operator"},"&"),s("span",{class:"token keyword"},"self"),s("span",{class:"token punctuation"},","),n(" idx"),s("span",{class:"token punctuation"},":"),n(),s("span",{class:"token keyword"},"usize"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"->"),n(),s("span",{class:"token keyword"},"usize"),n(),s("span",{class:"token punctuation"},"{"),n(`
    idx `),s("span",{class:"token operator"},"*"),n(),s("span",{class:"token number"},"2"),n(`
  `),s("span",{class:"token punctuation"},"}"),n(`
  `),s("span",{class:"token comment"},"/// 右子结点索引"),n(`
  `),s("span",{class:"token keyword"},"fn"),n(),s("span",{class:"token function-definition function"},"right_child_idx"),s("span",{class:"token punctuation"},"("),s("span",{class:"token operator"},"&"),s("span",{class:"token keyword"},"self"),s("span",{class:"token punctuation"},","),n(" idx"),s("span",{class:"token punctuation"},":"),n(),s("span",{class:"token keyword"},"usize"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"->"),n(),s("span",{class:"token keyword"},"usize"),n(),s("span",{class:"token punctuation"},"{"),n(`
    `),s("span",{class:"token keyword"},"self"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"left_child_idx"),s("span",{class:"token punctuation"},"("),n("idx"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token operator"},"+"),n(),s("span",{class:"token number"},"1"),n(`
  `),s("span",{class:"token punctuation"},"}"),n(`
`),s("span",{class:"token punctuation"},"}"),n(`
`),s("span",{class:"token keyword"},"impl"),s("span",{class:"token operator"},"<"),s("span",{class:"token class-name"},"T"),s("span",{class:"token punctuation"},":"),n(),s("span",{class:"token class-name"},"Default"),n(),s("span",{class:"token operator"},"+"),n(),s("span",{class:"token class-name"},"Ord"),s("span",{class:"token operator"},">"),n("  "),s("span",{class:"token class-name"},"Heap"),s("span",{class:"token operator"},"<"),s("span",{class:"token class-name"},"T"),s("span",{class:"token operator"},">"),n(),s("span",{class:"token punctuation"},"{"),n(`
  `),s("span",{class:"token comment"},"/// 创建小根堆"),n(`
  `),s("span",{class:"token keyword"},"pub"),n(),s("span",{class:"token keyword"},"fn"),n(),s("span",{class:"token function-definition function"},"new_min"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"->"),n(),s("span",{class:"token class-name"},"Heap"),s("span",{class:"token operator"},"<"),s("span",{class:"token class-name"},"T"),s("span",{class:"token operator"},">"),n(),s("span",{class:"token punctuation"},"{"),n(`
      `),s("span",{class:"token class-name"},"Heap"),s("span",{class:"token punctuation"},"::"),s("span",{class:"token function"},"new"),s("span",{class:"token punctuation"},"("),s("span",{class:"token closure-params"},[s("span",{class:"token closure-punctuation punctuation"},"|"),n("a"),s("span",{class:"token punctuation"},","),n(" b"),s("span",{class:"token closure-punctuation punctuation"},"|")]),n(" a "),s("span",{class:"token operator"},"<"),n(" b"),s("span",{class:"token punctuation"},")"),n(`
  `),s("span",{class:"token punctuation"},"}"),n(`
  `),s("span",{class:"token comment"},"/// 创建大根堆"),n(`
  `),s("span",{class:"token keyword"},"pub"),n(),s("span",{class:"token keyword"},"fn"),n(),s("span",{class:"token function-definition function"},"new_max"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"->"),n(),s("span",{class:"token class-name"},"Heap"),s("span",{class:"token operator"},"<"),s("span",{class:"token class-name"},"T"),s("span",{class:"token operator"},">"),n(),s("span",{class:"token punctuation"},"{"),n(`
      `),s("span",{class:"token class-name"},"Heap"),s("span",{class:"token punctuation"},"::"),s("span",{class:"token function"},"new"),s("span",{class:"token punctuation"},"("),s("span",{class:"token closure-params"},[s("span",{class:"token closure-punctuation punctuation"},"|"),n("a"),s("span",{class:"token punctuation"},","),n(" b"),s("span",{class:"token closure-punctuation punctuation"},"|")]),n(" a "),s("span",{class:"token operator"},">"),n(" b"),s("span",{class:"token punctuation"},")"),n(`
  `),s("span",{class:"token punctuation"},"}"),n(`
`),s("span",{class:"token punctuation"},"}"),n(`
`),s("span",{class:"token attribute attr-name"},"#[cfg(test)]"),n(`
`),s("span",{class:"token keyword"},"pub"),n(),s("span",{class:"token keyword"},"mod"),n(),s("span",{class:"token module-declaration namespace"},"test_heap"),n(),s("span",{class:"token punctuation"},"{"),n(`
  `),s("span",{class:"token keyword"},"use"),n(),s("span",{class:"token keyword"},"crate"),s("span",{class:"token punctuation"},"::"),s("span",{class:"token class-name"},"Heap"),s("span",{class:"token punctuation"},";"),n(`
  `),s("span",{class:"token attribute attr-name"},"#[test]"),n(`
  `),s("span",{class:"token keyword"},"fn"),n(),s("span",{class:"token function-definition function"},"heap_options"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
    `),s("span",{class:"token keyword"},"let"),n(),s("span",{class:"token keyword"},"mut"),n(" heap "),s("span",{class:"token operator"},"="),n(),s("span",{class:"token class-name"},"Heap"),s("span",{class:"token punctuation"},"::"),s("span",{class:"token operator"},"<"),s("span",{class:"token keyword"},"isize"),s("span",{class:"token operator"},">"),s("span",{class:"token punctuation"},"::"),s("span",{class:"token function"},"new_min"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
    heap`),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"push"),s("span",{class:"token punctuation"},"("),s("span",{class:"token operator"},"-"),s("span",{class:"token number"},"3"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
    heap`),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"push"),s("span",{class:"token punctuation"},"("),s("span",{class:"token number"},"10"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
    heap`),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"push"),s("span",{class:"token punctuation"},"("),s("span",{class:"token number"},"3"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
    heap`),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"push"),s("span",{class:"token punctuation"},"("),s("span",{class:"token number"},"6"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
    `),s("span",{class:"token macro property"},"assert_eq!"),s("span",{class:"token punctuation"},"("),s("span",{class:"token number"},"4"),s("span",{class:"token punctuation"},","),n(" heap"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"len"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
    `),s("span",{class:"token macro property"},"assert_eq!"),s("span",{class:"token punctuation"},"("),s("span",{class:"token operator"},"-"),s("span",{class:"token number"},"3"),s("span",{class:"token punctuation"},","),n(),s("span",{class:"token operator"},"*"),n("heap"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"peek"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"unwrap"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
    `),s("span",{class:"token macro property"},"assert_eq!"),s("span",{class:"token punctuation"},"("),s("span",{class:"token operator"},"-"),s("span",{class:"token number"},"3"),s("span",{class:"token punctuation"},","),n(" heap"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"pop"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"unwrap"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
    `),s("span",{class:"token macro property"},"assert_eq!"),s("span",{class:"token punctuation"},"("),s("span",{class:"token boolean"},"false"),s("span",{class:"token punctuation"},","),n(" heap"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"is_empty"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
  `),s("span",{class:"token punctuation"},"}"),n(`   
  `),s("span",{class:"token attribute attr-name"},"#[test]"),n(`
  `),s("span",{class:"token keyword"},"fn"),n(),s("span",{class:"token function-definition function"},"test_from_vec"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
    `),s("span",{class:"token keyword"},"let"),n(),s("span",{class:"token keyword"},"mut"),n(" heap "),s("span",{class:"token operator"},"="),n(),s("span",{class:"token class-name"},"Heap"),s("span",{class:"token punctuation"},"::"),s("span",{class:"token function"},"from"),s("span",{class:"token punctuation"},"("),s("span",{class:"token macro property"},"vec!"),s("span",{class:"token punctuation"},"["),s("span",{class:"token number"},"0"),s("span",{class:"token punctuation"},","),n(),s("span",{class:"token number"},"4"),s("span",{class:"token punctuation"},","),n(),s("span",{class:"token number"},"2"),s("span",{class:"token punctuation"},","),n(),s("span",{class:"token number"},"11"),s("span",{class:"token punctuation"},","),n(),s("span",{class:"token number"},"9"),s("span",{class:"token punctuation"},"]"),s("span",{class:"token punctuation"},","),n(),s("span",{class:"token closure-params"},[s("span",{class:"token closure-punctuation punctuation"},"|"),n("a"),s("span",{class:"token punctuation"},","),n(" b"),s("span",{class:"token closure-punctuation punctuation"},"|")]),n(" a "),s("span",{class:"token operator"},">"),n(" b"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
    `),s("span",{class:"token macro property"},"assert_eq!"),s("span",{class:"token punctuation"},"("),s("span",{class:"token number"},"11"),s("span",{class:"token punctuation"},","),n(" heap"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"pop"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"unwrap"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
    `),s("span",{class:"token macro property"},"assert_eq!"),s("span",{class:"token punctuation"},"("),s("span",{class:"token number"},"9"),s("span",{class:"token punctuation"},","),n(" heap"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"pop"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"unwrap"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
    `),s("span",{class:"token macro property"},"assert_eq!"),s("span",{class:"token punctuation"},"("),s("span",{class:"token number"},"4"),s("span",{class:"token punctuation"},","),n(" heap"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"pop"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"unwrap"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
    `),s("span",{class:"token macro property"},"assert_eq!"),s("span",{class:"token punctuation"},"("),s("span",{class:"token number"},"2"),s("span",{class:"token punctuation"},","),n(" heap"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"pop"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"unwrap"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
  `),s("span",{class:"token punctuation"},"}"),n(`
  `),s("span",{class:"token keyword"},"struct"),n(),s("span",{class:"token type-definition class-name"},"Point"),s("span",{class:"token punctuation"},"("),s("span",{class:"token comment"},"/* x: */"),n(),s("span",{class:"token keyword"},"i32"),s("span",{class:"token punctuation"},","),n(),s("span",{class:"token comment"},"/* y: */"),n(),s("span",{class:"token keyword"},"i32"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
  `),s("span",{class:"token keyword"},"impl"),n(),s("span",{class:"token class-name"},"Default"),n(),s("span",{class:"token keyword"},"for"),n(),s("span",{class:"token class-name"},"Point"),n(),s("span",{class:"token punctuation"},"{"),n(`
    `),s("span",{class:"token keyword"},"fn"),n(),s("span",{class:"token function-definition function"},"default"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"->"),n(),s("span",{class:"token keyword"},"Self"),n(),s("span",{class:"token punctuation"},"{"),n(`
      `),s("span",{class:"token keyword"},"Self"),s("span",{class:"token punctuation"},"("),s("span",{class:"token number"},"0"),n(),s("span",{class:"token punctuation"},","),n(),s("span",{class:"token number"},"0"),s("span",{class:"token punctuation"},")"),n(`
    `),s("span",{class:"token punctuation"},"}"),n(`
  `),s("span",{class:"token punctuation"},"}"),n(`
  `),s("span",{class:"token attribute attr-name"},"#[test]"),n(`
  `),s("span",{class:"token keyword"},"fn"),n(),s("span",{class:"token function-definition function"},"test_custom_priority"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
    `),s("span",{class:"token keyword"},"let"),n(),s("span",{class:"token keyword"},"mut"),n(" heap "),s("span",{class:"token operator"},"="),n(),s("span",{class:"token class-name"},"Heap"),s("span",{class:"token punctuation"},"::"),s("span",{class:"token operator"},"<"),s("span",{class:"token class-name"},"Point"),s("span",{class:"token operator"},">"),s("span",{class:"token punctuation"},"::"),s("span",{class:"token function"},"new"),s("span",{class:"token punctuation"},"("),s("span",{class:"token closure-params"},[s("span",{class:"token closure-punctuation punctuation"},"|"),n("a"),s("span",{class:"token punctuation"},","),n(" b"),s("span",{class:"token closure-punctuation punctuation"},"|")]),n(" a"),s("span",{class:"token number"},".0"),n(),s("span",{class:"token operator"},"<"),n(" b"),s("span",{class:"token number"},".0"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
    heap`),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"push"),s("span",{class:"token punctuation"},"("),s("span",{class:"token class-name"},"Point"),s("span",{class:"token punctuation"},"("),s("span",{class:"token operator"},"-"),s("span",{class:"token number"},"2"),s("span",{class:"token punctuation"},","),n(),s("span",{class:"token number"},"1"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
    heap`),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"push"),s("span",{class:"token punctuation"},"("),s("span",{class:"token class-name"},"Point"),s("span",{class:"token punctuation"},"("),s("span",{class:"token number"},"3"),s("span",{class:"token punctuation"},","),n(),s("span",{class:"token number"},"4"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
    heap`),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"push"),s("span",{class:"token punctuation"},"("),s("span",{class:"token class-name"},"Point"),s("span",{class:"token punctuation"},"("),s("span",{class:"token number"},"9"),s("span",{class:"token punctuation"},","),n(),s("span",{class:"token operator"},"-"),s("span",{class:"token number"},"2"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
    heap`),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"push"),s("span",{class:"token punctuation"},"("),s("span",{class:"token class-name"},"Point"),s("span",{class:"token punctuation"},"("),s("span",{class:"token number"},"11"),s("span",{class:"token punctuation"},","),n(),s("span",{class:"token number"},"6"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
    `),s("span",{class:"token macro property"},"assert_eq!"),s("span",{class:"token punctuation"},"("),s("span",{class:"token number"},"4"),s("span",{class:"token punctuation"},","),n(" heap"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"len"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
    `),s("span",{class:"token macro property"},"assert_eq!"),s("span",{class:"token punctuation"},"("),s("span",{class:"token operator"},"-"),s("span",{class:"token number"},"2"),s("span",{class:"token punctuation"},","),n(" heap"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"peek"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"unwrap"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},"."),s("span",{class:"token number"},"0"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
  `),s("span",{class:"token punctuation"},"}"),n(`
`),s("span",{class:"token punctuation"},"}"),n(`
`)])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),ln=s("div",{class:"language-java line-numbers-mode","data-ext":"java"},[s("pre",{class:"language-java"},[s("code",null,[s("span",{class:"token keyword"},"public"),n(),s("span",{class:"token keyword"},"class"),n(),s("span",{class:"token class-name"},"Heap"),s("span",{class:"token generics"},[s("span",{class:"token punctuation"},"<"),s("span",{class:"token class-name"},"T"),s("span",{class:"token punctuation"},">")]),s("span",{class:"token punctuation"},"{"),n(`
  `),s("span",{class:"token keyword"},"private"),n(),s("span",{class:"token keyword"},"int"),n(" count"),s("span",{class:"token punctuation"},";"),n("                              "),s("span",{class:"token comment"},"// 堆中元素数量"),n(`
  `),s("span",{class:"token keyword"},"private"),n(),s("span",{class:"token class-name"},"Vector"),s("span",{class:"token generics"},[s("span",{class:"token punctuation"},"<"),s("span",{class:"token class-name"},"T"),s("span",{class:"token punctuation"},">")]),n(" items"),s("span",{class:"token punctuation"},";"),n("                        "),s("span",{class:"token comment"},"// 一维数组存储结构"),n(`
  `),s("span",{class:"token keyword"},"private"),n(),s("span",{class:"token keyword"},"final"),n(),s("span",{class:"token class-name"},"Comparator"),s("span",{class:"token generics"},[s("span",{class:"token punctuation"},"<"),s("span",{class:"token operator"},"?"),n(),s("span",{class:"token keyword"},"super"),n(),s("span",{class:"token class-name"},"T"),s("span",{class:"token punctuation"},">")]),n(" comparator"),s("span",{class:"token punctuation"},";"),n(),s("span",{class:"token comment"},"// 比较器"),n(`

  `),s("span",{class:"token keyword"},"public"),n(),s("span",{class:"token class-name"},"Heap"),s("span",{class:"token punctuation"},"("),s("span",{class:"token class-name"},"Comparator"),s("span",{class:"token generics"},[s("span",{class:"token punctuation"},"<"),s("span",{class:"token operator"},"?"),n(),s("span",{class:"token keyword"},"super"),n(),s("span",{class:"token class-name"},"T"),s("span",{class:"token punctuation"},">")]),n(" comparator"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
    `),s("span",{class:"token keyword"},"this"),s("span",{class:"token punctuation"},"."),n("count "),s("span",{class:"token operator"},"="),n(),s("span",{class:"token number"},"0"),s("span",{class:"token punctuation"},";"),n(`
    `),s("span",{class:"token keyword"},"this"),s("span",{class:"token punctuation"},"."),n("items "),s("span",{class:"token operator"},"="),n(),s("span",{class:"token keyword"},"new"),n(),s("span",{class:"token class-name"},"Vector"),s("span",{class:"token generics"},[s("span",{class:"token punctuation"},"<"),s("span",{class:"token punctuation"},">")]),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
    `),s("span",{class:"token keyword"},"this"),s("span",{class:"token punctuation"},"."),n("comparator "),s("span",{class:"token operator"},"="),n(" comparator"),s("span",{class:"token punctuation"},";"),n(`
  `),s("span",{class:"token punctuation"},"}"),n(`
  
  `),s("span",{class:"token doc-comment comment"},[n(`/**
   * 优化建堆方式
   * `),s("span",{class:"token keyword"},"@param"),n(),s("span",{class:"token parameter"},"v"),n(` 要放入堆中的元素集合
   * `),s("span",{class:"token keyword"},"@param"),n(),s("span",{class:"token parameter"},"comparator"),n(` 比较器
   */`)]),n(`
  `),s("span",{class:"token keyword"},"public"),n(),s("span",{class:"token class-name"},"Heap"),s("span",{class:"token punctuation"},"("),s("span",{class:"token class-name"},"Vector"),s("span",{class:"token generics"},[s("span",{class:"token punctuation"},"<"),s("span",{class:"token class-name"},"T"),s("span",{class:"token punctuation"},">")]),n(" v"),s("span",{class:"token punctuation"},","),n(),s("span",{class:"token class-name"},"Comparator"),s("span",{class:"token generics"},[s("span",{class:"token punctuation"},"<"),s("span",{class:"token operator"},"?"),n(),s("span",{class:"token keyword"},"super"),n(),s("span",{class:"token class-name"},"T"),s("span",{class:"token punctuation"},">")]),n(" comparator"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
    `),s("span",{class:"token keyword"},"this"),s("span",{class:"token punctuation"},"."),n("items "),s("span",{class:"token operator"},"="),n(),s("span",{class:"token keyword"},"new"),n(),s("span",{class:"token class-name"},"Vector"),s("span",{class:"token generics"},[s("span",{class:"token punctuation"},"<"),s("span",{class:"token punctuation"},">")]),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
    items`),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"addAll"),s("span",{class:"token punctuation"},"("),n("v"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
    `),s("span",{class:"token keyword"},"this"),s("span",{class:"token punctuation"},"."),n("comparator "),s("span",{class:"token operator"},"="),n(" comparator"),s("span",{class:"token punctuation"},";"),n(`
    `),s("span",{class:"token keyword"},"this"),s("span",{class:"token punctuation"},"."),n("count "),s("span",{class:"token operator"},"="),n(" items"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"size"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token operator"},"-"),n(),s("span",{class:"token number"},"1"),s("span",{class:"token punctuation"},";"),n(`
    `),s("span",{class:"token keyword"},"for"),n(),s("span",{class:"token punctuation"},"("),s("span",{class:"token keyword"},"int"),n(" i "),s("span",{class:"token operator"},"="),n(),s("span",{class:"token function"},"parentIdx"),s("span",{class:"token punctuation"},"("),s("span",{class:"token keyword"},"this"),s("span",{class:"token punctuation"},"."),n("count"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(" i "),s("span",{class:"token operator"},">="),n(),s("span",{class:"token number"},"0"),n(),s("span",{class:"token punctuation"},";"),n(" i"),s("span",{class:"token operator"},"--"),n(),s("span",{class:"token punctuation"},")"),n(`
      `),s("span",{class:"token function"},"down"),s("span",{class:"token punctuation"},"("),n("i"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
  `),s("span",{class:"token punctuation"},"}"),n(`

  `),s("span",{class:"token doc-comment comment"},[n(`/**
   * `),s("span",{class:"token keyword"},"@param"),n(),s("span",{class:"token parameter"},"idx"),n(` 结点索引
   * `),s("span",{class:"token keyword"},"@return"),n(` 左子结点的索引
   */`)]),n(`
  `),s("span",{class:"token keyword"},"private"),n(),s("span",{class:"token keyword"},"int"),n(),s("span",{class:"token function"},"leftChildIdx"),s("span",{class:"token punctuation"},"("),s("span",{class:"token keyword"},"int"),n(" idx"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
    `),s("span",{class:"token keyword"},"return"),n(" idx "),s("span",{class:"token operator"},"*"),n(),s("span",{class:"token number"},"2"),n(),s("span",{class:"token operator"},"+"),n(),s("span",{class:"token number"},"1"),s("span",{class:"token punctuation"},";"),n(`
  `),s("span",{class:"token punctuation"},"}"),n(`

  `),s("span",{class:"token doc-comment comment"},[n(`/**
   * `),s("span",{class:"token keyword"},"@param"),n(),s("span",{class:"token parameter"},"idx"),n(` 结点索引
   * `),s("span",{class:"token keyword"},"@return"),n(` 右子结点的索引
   */`)]),n(`
  `),s("span",{class:"token keyword"},"private"),n(),s("span",{class:"token keyword"},"int"),n(),s("span",{class:"token function"},"rightChildIdx"),s("span",{class:"token punctuation"},"("),s("span",{class:"token keyword"},"int"),n(" idx"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
    `),s("span",{class:"token keyword"},"return"),n(" idx "),s("span",{class:"token operator"},"*"),n(),s("span",{class:"token number"},"2"),n(),s("span",{class:"token operator"},"+"),n(),s("span",{class:"token number"},"2"),s("span",{class:"token punctuation"},";"),n(`
  `),s("span",{class:"token punctuation"},"}"),n(`

  `),s("span",{class:"token doc-comment comment"},[n(`/**
   * `),s("span",{class:"token keyword"},"@param"),n(),s("span",{class:"token parameter"},"idx"),n(` 结点索引
   * `),s("span",{class:"token keyword"},"@return"),n(` 父结点索引
   */`)]),n(`
  `),s("span",{class:"token keyword"},"private"),n(),s("span",{class:"token keyword"},"int"),n(),s("span",{class:"token function"},"parentIdx"),s("span",{class:"token punctuation"},"("),s("span",{class:"token keyword"},"int"),n(" idx"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
    `),s("span",{class:"token keyword"},"return"),n(),s("span",{class:"token punctuation"},"("),n("idx "),s("span",{class:"token operator"},"-"),n(),s("span",{class:"token number"},"1"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token operator"},"/"),n(),s("span",{class:"token number"},"2"),s("span",{class:"token punctuation"},";"),n(`
  `),s("span",{class:"token punctuation"},"}"),n(`

  `),s("span",{class:"token doc-comment comment"},[n(`/**
   * `),s("span",{class:"token keyword"},"@return"),n(` 堆顶元素
   */`)]),n(`
  `),s("span",{class:"token keyword"},"public"),n(),s("span",{class:"token class-name"},"Optional"),s("span",{class:"token generics"},[s("span",{class:"token punctuation"},"<"),s("span",{class:"token class-name"},"T"),s("span",{class:"token punctuation"},">")]),n(),s("span",{class:"token function"},"peek"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
    `),s("span",{class:"token keyword"},"if"),n(),s("span",{class:"token punctuation"},"("),n("items"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"size"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token operator"},"=="),n(),s("span",{class:"token number"},"0"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
      `),s("span",{class:"token keyword"},"return"),n(),s("span",{class:"token class-name"},"Optional"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"empty"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
    `),s("span",{class:"token punctuation"},"}"),s("span",{class:"token keyword"},"else"),n(),s("span",{class:"token punctuation"},"{"),n(`
      `),s("span",{class:"token keyword"},"return"),n(),s("span",{class:"token class-name"},"Optional"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"ofNullable"),s("span",{class:"token punctuation"},"("),s("span",{class:"token keyword"},"this"),s("span",{class:"token punctuation"},"."),n("items"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"get"),s("span",{class:"token punctuation"},"("),s("span",{class:"token number"},"0"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
    `),s("span",{class:"token punctuation"},"}"),n(`
  `),s("span",{class:"token punctuation"},"}"),n(`

  `),s("span",{class:"token doc-comment comment"},[n(`/**
   * 交换两索引对象的元素
   * `),s("span",{class:"token keyword"},"@param"),n(),s("span",{class:"token parameter"},"idx1"),n(` 索引1
   * `),s("span",{class:"token keyword"},"@param"),n(),s("span",{class:"token parameter"},"idx2"),n(` 索引2
   */`)]),n(`
  `),s("span",{class:"token keyword"},"private"),n(),s("span",{class:"token keyword"},"void"),n(),s("span",{class:"token function"},"swap"),s("span",{class:"token punctuation"},"("),s("span",{class:"token keyword"},"int"),n(" idx1"),s("span",{class:"token punctuation"},","),n(),s("span",{class:"token keyword"},"int"),n(" idx2"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
    `),s("span",{class:"token keyword"},"var"),n(" tmp "),s("span",{class:"token operator"},"="),n(" items"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"get"),s("span",{class:"token punctuation"},"("),n("idx1"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
    items`),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"set"),s("span",{class:"token punctuation"},"("),n("idx1"),s("span",{class:"token punctuation"},","),n("items"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"get"),s("span",{class:"token punctuation"},"("),n("idx2"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
    items`),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"set"),s("span",{class:"token punctuation"},"("),n("idx2"),s("span",{class:"token punctuation"},","),n(" tmp"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
  `),s("span",{class:"token punctuation"},"}"),n(`

  `),s("span",{class:"token doc-comment comment"},[n(`/**
   * 堆化 (对优先级较高的元素进行上调)
   * `),s("span",{class:"token keyword"},"@param"),n(),s("span",{class:"token parameter"},"idx"),n(` 结点索引
   */`)]),n(`
  `),s("span",{class:"token keyword"},"private"),n(),s("span",{class:"token keyword"},"void"),n(),s("span",{class:"token function"},"up"),s("span",{class:"token punctuation"},"("),s("span",{class:"token keyword"},"int"),n(" idx"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
    `),s("span",{class:"token comment"},"// 判断是否存在父结点"),n(`
    `),s("span",{class:"token keyword"},"while"),n(),s("span",{class:"token punctuation"},"("),s("span",{class:"token function"},"parentIdx"),s("span",{class:"token punctuation"},"("),n("idx"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token operator"},">="),n(),s("span",{class:"token number"},"0"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
      `),s("span",{class:"token keyword"},"int"),n(" pdx "),s("span",{class:"token operator"},"="),n(),s("span",{class:"token function"},"parentIdx"),s("span",{class:"token punctuation"},"("),n("idx"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
      `),s("span",{class:"token keyword"},"if"),n(),s("span",{class:"token punctuation"},"("),n("idx "),s("span",{class:"token operator"},"=="),n(" pdx"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token keyword"},"return"),s("span",{class:"token punctuation"},";"),n("   "),s("span",{class:"token comment"},"// 特判索引 0"),n(`
      `),s("span",{class:"token comment"},"// 比较子结点和父结点的优先级"),n(`
      `),s("span",{class:"token keyword"},"boolean"),n(" isUp "),s("span",{class:"token operator"},"="),n(" comparator"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"compare"),s("span",{class:"token punctuation"},"("),n("items"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"get"),s("span",{class:"token punctuation"},"("),n("idx"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},","),n(" items"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"get"),s("span",{class:"token punctuation"},"("),n("pdx"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token operator"},"<"),n(),s("span",{class:"token number"},"0"),s("span",{class:"token punctuation"},";"),n(`
      `),s("span",{class:"token comment"},"// 子结点优先级更高"),n(`
      `),s("span",{class:"token keyword"},"if"),n(),s("span",{class:"token punctuation"},"("),n("isUp"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
        `),s("span",{class:"token function"},"swap"),s("span",{class:"token punctuation"},"("),n("idx"),s("span",{class:"token punctuation"},","),n(" pdx"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
      `),s("span",{class:"token punctuation"},"}"),n(`
      idx `),s("span",{class:"token operator"},"="),n(" pdx"),s("span",{class:"token punctuation"},";"),n(`
    `),s("span",{class:"token punctuation"},"}"),n(`
  `),s("span",{class:"token punctuation"},"}"),n(`

  `),s("span",{class:"token doc-comment comment"},[n(`/**
   * 元素入堆
   * `),s("span",{class:"token keyword"},"@param"),n(),s("span",{class:"token parameter"},"value"),n(` 元素值
   */`)]),n(`
  `),s("span",{class:"token keyword"},"public"),n(),s("span",{class:"token keyword"},"void"),n(),s("span",{class:"token function"},"push"),s("span",{class:"token punctuation"},"("),s("span",{class:"token class-name"},"T"),n(" value"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
    items`),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"add"),s("span",{class:"token punctuation"},"("),n("value"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
    count `),s("span",{class:"token operator"},"+="),n(),s("span",{class:"token number"},"1"),s("span",{class:"token punctuation"},";"),n(`
    `),s("span",{class:"token keyword"},"int"),n(" idx "),s("span",{class:"token operator"},"="),n(" items"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"size"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token operator"},"-"),n(),s("span",{class:"token number"},"1"),s("span",{class:"token punctuation"},";"),n(`
    `),s("span",{class:"token function"},"up"),s("span",{class:"token punctuation"},"("),n("idx"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
  `),s("span",{class:"token punctuation"},"}"),n(`

  `),s("span",{class:"token doc-comment comment"},[n(`/**
   * `),s("span",{class:"token keyword"},"@param"),n(),s("span",{class:"token parameter"},"idx"),n(` 索引
   * `),s("span",{class:"token keyword"},"@return"),n(` 返回左右子结点中优先级较高的结点的索引
   */`)]),n(`
  `),s("span",{class:"token keyword"},"private"),n(),s("span",{class:"token keyword"},"int"),n(),s("span",{class:"token function"},"smallestChild"),s("span",{class:"token punctuation"},"("),s("span",{class:"token keyword"},"int"),n(" idx"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
    `),s("span",{class:"token comment"},"// 当右子结点索引越界时直接返回左子索引结点"),n(`
    `),s("span",{class:"token keyword"},"if"),n(),s("span",{class:"token punctuation"},"("),s("span",{class:"token function"},"rightChildIdx"),s("span",{class:"token punctuation"},"("),n("idx"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token operator"},">="),n(" count"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
      `),s("span",{class:"token keyword"},"return"),n(),s("span",{class:"token function"},"leftChildIdx"),s("span",{class:"token punctuation"},"("),n("idx"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
    `),s("span",{class:"token punctuation"},"}"),s("span",{class:"token keyword"},"else"),n(),s("span",{class:"token punctuation"},"{"),n(`
      `),s("span",{class:"token keyword"},"int"),n(" ldx "),s("span",{class:"token operator"},"="),n(),s("span",{class:"token function"},"leftChildIdx"),s("span",{class:"token punctuation"},"("),n("idx"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
      `),s("span",{class:"token keyword"},"int"),n(" rdx "),s("span",{class:"token operator"},"="),n(),s("span",{class:"token function"},"rightChildIdx"),s("span",{class:"token punctuation"},"("),n("idx"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
      `),s("span",{class:"token keyword"},"boolean"),n(" flag "),s("span",{class:"token operator"},"="),n(" comparator"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"compare"),s("span",{class:"token punctuation"},"("),n("items"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"get"),s("span",{class:"token punctuation"},"("),n("ldx"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},","),n(" items"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"get"),s("span",{class:"token punctuation"},"("),n("rdx"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token operator"},"<"),n(),s("span",{class:"token number"},"0"),s("span",{class:"token punctuation"},";"),n(`
      `),s("span",{class:"token keyword"},"return"),n(" flag "),s("span",{class:"token operator"},"?"),n(" ldx "),s("span",{class:"token operator"},":"),n(" rdx"),s("span",{class:"token punctuation"},";"),n(`
    `),s("span",{class:"token punctuation"},"}"),n(`
  `),s("span",{class:"token punctuation"},"}"),n(`


  `),s("span",{class:"token doc-comment comment"},[n(`/**
   * 反向堆化 (对优先级较低的元素进行下调)
   * `),s("span",{class:"token keyword"},"@param"),n(),s("span",{class:"token parameter"},"idx"),n(` 索引
   */`)]),n(`
  `),s("span",{class:"token keyword"},"private"),n(),s("span",{class:"token keyword"},"void"),n(),s("span",{class:"token function"},"down"),s("span",{class:"token punctuation"},"("),s("span",{class:"token keyword"},"int"),n(" idx"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
    `),s("span",{class:"token keyword"},"while"),n(),s("span",{class:"token punctuation"},"("),s("span",{class:"token function"},"leftChildIdx"),s("span",{class:"token punctuation"},"("),n("idx"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token operator"},"<="),n(" count"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
        `),s("span",{class:"token keyword"},"int"),n(" childIdx "),s("span",{class:"token operator"},"="),n(),s("span",{class:"token function"},"smallestChild"),s("span",{class:"token punctuation"},"("),n("idx"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
        `),s("span",{class:"token keyword"},"boolean"),n(" isDown "),s("span",{class:"token operator"},"="),n(" comparator"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"compare"),s("span",{class:"token punctuation"},"("),n("items"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"get"),s("span",{class:"token punctuation"},"("),n("idx"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},","),n("items"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"get"),s("span",{class:"token punctuation"},"("),n("childIdx"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token operator"},"<"),n(),s("span",{class:"token number"},"0"),s("span",{class:"token punctuation"},";"),n(`
        `),s("span",{class:"token keyword"},"if"),n(),s("span",{class:"token punctuation"},"("),s("span",{class:"token operator"},"!"),n("isDown"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
          `),s("span",{class:"token function"},"swap"),s("span",{class:"token punctuation"},"("),n("idx"),s("span",{class:"token punctuation"},","),n(" childIdx"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
        `),s("span",{class:"token punctuation"},"}"),n(`
        idx `),s("span",{class:"token operator"},"="),n(" childIdx"),s("span",{class:"token punctuation"},";"),n(`
    `),s("span",{class:"token punctuation"},"}"),n(`
  `),s("span",{class:"token punctuation"},"}"),n(`

  `),s("span",{class:"token doc-comment comment"},[n(`/**
   * 弹出堆顶元素
   * `),s("span",{class:"token keyword"},"@return"),n(` 返回弹出的堆顶元素
   */`)]),n(`
  `),s("span",{class:"token keyword"},"public"),n(),s("span",{class:"token class-name"},"Optional"),s("span",{class:"token generics"},[s("span",{class:"token punctuation"},"<"),s("span",{class:"token class-name"},"T"),s("span",{class:"token punctuation"},">")]),n(),s("span",{class:"token function"},"pop"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
    `),s("span",{class:"token class-name"},"Optional"),s("span",{class:"token generics"},[s("span",{class:"token punctuation"},"<"),s("span",{class:"token class-name"},"T"),s("span",{class:"token punctuation"},">")]),n(" ans "),s("span",{class:"token operator"},"="),n(),s("span",{class:"token function"},"peek"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
    `),s("span",{class:"token comment"},"// 1. 使用最后一个元素覆盖堆顶元素"),n(`
    items`),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"set"),s("span",{class:"token punctuation"},"("),s("span",{class:"token number"},"0"),s("span",{class:"token punctuation"},","),n(" items"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"get"),s("span",{class:"token punctuation"},"("),n("items"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"size"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token operator"},"-"),n(),s("span",{class:"token number"},"1"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
    items`),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"remove"),s("span",{class:"token punctuation"},"("),n("items"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"size"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token operator"},"-"),n(),s("span",{class:"token number"},"1"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
    count `),s("span",{class:"token operator"},"-="),n(),s("span",{class:"token number"},"1"),s("span",{class:"token punctuation"},";"),n(`
    `),s("span",{class:"token comment"},"// 2. 反向堆化"),n(`
    `),s("span",{class:"token function"},"down"),s("span",{class:"token punctuation"},"("),s("span",{class:"token number"},"0"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
    `),s("span",{class:"token keyword"},"return"),n(" ans"),s("span",{class:"token punctuation"},";"),n(`
  `),s("span",{class:"token punctuation"},"}"),n(`
  `),s("span",{class:"token doc-comment comment"},[n(`/**
   * `),s("span",{class:"token keyword"},"@return"),n(` 堆是否为空
   */`)]),n(`
  `),s("span",{class:"token keyword"},"public"),n(),s("span",{class:"token keyword"},"boolean"),n(),s("span",{class:"token function"},"isEmpty"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
    `),s("span",{class:"token keyword"},"return"),n(" items"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"isEmpty"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
  `),s("span",{class:"token punctuation"},"}"),n(`
`),s("span",{class:"token punctuation"},"}"),n(`
`)])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),on=s("div",{class:"language-cpp line-numbers-mode","data-ext":"cpp"},[s("pre",{class:"language-cpp"},[s("code",null,[s("span",{class:"token macro property"},[s("span",{class:"token directive-hash"},"#"),s("span",{class:"token directive keyword"},"include"),n(),s("span",{class:"token string"},"<iostream>")]),n(`
`),s("span",{class:"token macro property"},[s("span",{class:"token directive-hash"},"#"),s("span",{class:"token directive keyword"},"include"),n(),s("span",{class:"token string"},"<vector>")]),n(`
`),s("span",{class:"token macro property"},[s("span",{class:"token directive-hash"},"#"),s("span",{class:"token directive keyword"},"include"),n(),s("span",{class:"token string"},"<functional>")]),n(`
`),s("span",{class:"token keyword"},"using"),n(),s("span",{class:"token keyword"},"namespace"),n(" std"),s("span",{class:"token punctuation"},";"),n(`

`),s("span",{class:"token keyword"},"template"),n(),s("span",{class:"token operator"},"<"),s("span",{class:"token keyword"},"typename"),n(),s("span",{class:"token class-name"},"T"),s("span",{class:"token operator"},">"),n(`
`),s("span",{class:"token keyword"},"class"),n(),s("span",{class:"token class-name"},"Heap"),s("span",{class:"token punctuation"},"{"),n(`
`),s("span",{class:"token keyword"},"private"),s("span",{class:"token operator"},":"),n(`
  `),s("span",{class:"token keyword"},"int"),n(" count"),s("span",{class:"token punctuation"},";"),n("                  "),s("span",{class:"token comment"},"// 堆中元素个数"),n(`
  vector`),s("span",{class:"token operator"},"<"),n("T"),s("span",{class:"token operator"},">"),n(" items"),s("span",{class:"token punctuation"},";"),n("            "),s("span",{class:"token comment"},"// 存储堆的一维数组"),n(`
  function`),s("span",{class:"token operator"},"<"),s("span",{class:"token keyword"},"bool"),s("span",{class:"token punctuation"},"("),n("T"),s("span",{class:"token punctuation"},","),n(" T"),s("span",{class:"token punctuation"},")"),s("span",{class:"token operator"},">"),n(" cmp"),s("span",{class:"token punctuation"},";"),n("   "),s("span",{class:"token comment"},"// 比较器"),n(`

  `),s("span",{class:"token comment"},"/* 左子结点索引 */"),n(`
  `),s("span",{class:"token keyword"},"inline"),n(),s("span",{class:"token keyword"},"int"),n(),s("span",{class:"token function"},"left_child_idx"),s("span",{class:"token punctuation"},"("),s("span",{class:"token keyword"},"int"),n(" idx"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
    `),s("span",{class:"token keyword"},"return"),n(" idx "),s("span",{class:"token operator"},"*"),n(),s("span",{class:"token number"},"2"),n(),s("span",{class:"token operator"},"+"),n(),s("span",{class:"token number"},"1"),s("span",{class:"token punctuation"},";"),n(`
  `),s("span",{class:"token punctuation"},"}"),n(`

  `),s("span",{class:"token comment"},"/* 右子结点索引 */"),n(`
  `),s("span",{class:"token keyword"},"inline"),n(),s("span",{class:"token keyword"},"int"),n(),s("span",{class:"token function"},"right_child_idx"),s("span",{class:"token punctuation"},"("),s("span",{class:"token keyword"},"int"),n(" idx"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
    `),s("span",{class:"token keyword"},"return"),n(" idx "),s("span",{class:"token operator"},"*"),n(),s("span",{class:"token number"},"2"),n(),s("span",{class:"token operator"},"+"),n(),s("span",{class:"token number"},"2"),s("span",{class:"token punctuation"},";"),n(`
  `),s("span",{class:"token punctuation"},"}"),n(`

  `),s("span",{class:"token comment"},"/* 父结点索引 */"),n(`
  `),s("span",{class:"token keyword"},"inline"),n(),s("span",{class:"token keyword"},"int"),n(),s("span",{class:"token function"},"parent_idx"),s("span",{class:"token punctuation"},"("),s("span",{class:"token keyword"},"int"),n(" idx"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
    `),s("span",{class:"token keyword"},"return"),n(),s("span",{class:"token punctuation"},"("),n("idx "),s("span",{class:"token operator"},"-"),n(),s("span",{class:"token number"},"1"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token operator"},"/"),n(),s("span",{class:"token number"},"2"),s("span",{class:"token punctuation"},";"),n(`
  `),s("span",{class:"token punctuation"},"}"),n(`

  `),s("span",{class:"token comment"},"/* 堆化 (将优先级更高的结点上移) */"),n(`
  `),s("span",{class:"token keyword"},"void"),n(),s("span",{class:"token function"},"up"),s("span",{class:"token punctuation"},"("),s("span",{class:"token keyword"},"int"),n(" idx"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
    `),s("span",{class:"token keyword"},"while"),n(),s("span",{class:"token punctuation"},"("),s("span",{class:"token function"},"parent_idx"),s("span",{class:"token punctuation"},"("),n("idx"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token operator"},">="),n(),s("span",{class:"token number"},"0"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
      `),s("span",{class:"token keyword"},"int"),n(" pdx "),s("span",{class:"token operator"},"="),n(),s("span",{class:"token function"},"parent_idx"),s("span",{class:"token punctuation"},"("),n("idx"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
      `),s("span",{class:"token keyword"},"if"),n(),s("span",{class:"token punctuation"},"("),n("idx "),s("span",{class:"token operator"},"=="),n(" pdx"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token keyword"},"return"),s("span",{class:"token punctuation"},";"),n(`
      `),s("span",{class:"token keyword"},"if"),n(),s("span",{class:"token punctuation"},"("),s("span",{class:"token function"},"cmp"),s("span",{class:"token punctuation"},"("),n("items"),s("span",{class:"token punctuation"},"["),n("idx"),s("span",{class:"token punctuation"},"]"),s("span",{class:"token punctuation"},","),n(" items"),s("span",{class:"token punctuation"},"["),n("pdx"),s("span",{class:"token punctuation"},"]"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
        `),s("span",{class:"token function"},"swap"),s("span",{class:"token punctuation"},"("),n("items"),s("span",{class:"token punctuation"},"["),n("idx"),s("span",{class:"token punctuation"},"]"),s("span",{class:"token punctuation"},","),n(" items"),s("span",{class:"token punctuation"},"["),n("pdx"),s("span",{class:"token punctuation"},"]"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
      `),s("span",{class:"token punctuation"},"}"),n(`
      idx `),s("span",{class:"token operator"},"="),n(" pdx"),s("span",{class:"token punctuation"},";"),n(`
    `),s("span",{class:"token punctuation"},"}"),n(`
  `),s("span",{class:"token punctuation"},"}"),n(`
  `),s("span",{class:"token comment"},"/* 反向堆化 (将优先级更低的结点下移) */"),n(`
  `),s("span",{class:"token keyword"},"void"),n(),s("span",{class:"token function"},"down"),s("span",{class:"token punctuation"},"("),s("span",{class:"token keyword"},"int"),n(" idx"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
    `),s("span",{class:"token comment"},"// 判断结点是否有子结点点"),n(`
    `),s("span",{class:"token keyword"},"auto"),n(" present_child "),s("span",{class:"token operator"},"="),n(),s("span",{class:"token punctuation"},"["),s("span",{class:"token operator"},"="),s("span",{class:"token punctuation"},"]"),s("span",{class:"token punctuation"},"("),s("span",{class:"token keyword"},"int"),n(" idx"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
      `),s("span",{class:"token keyword"},"return"),n(),s("span",{class:"token function"},"left_child_idx"),s("span",{class:"token punctuation"},"("),n("idx"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token operator"},"<="),n(" count"),s("span",{class:"token punctuation"},";"),n(`
    `),s("span",{class:"token punctuation"},"}"),s("span",{class:"token punctuation"},";"),n(`
    `),s("span",{class:"token comment"},"// 获取左右子结点中优先级较高的子结点"),n(`
    `),s("span",{class:"token keyword"},"auto"),n(" smallest_child_idx "),s("span",{class:"token operator"},"="),n(),s("span",{class:"token punctuation"},"["),s("span",{class:"token operator"},"="),s("span",{class:"token punctuation"},"]"),s("span",{class:"token punctuation"},"("),s("span",{class:"token keyword"},"int"),n(" idx"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
     `),s("span",{class:"token keyword"},"if"),n(),s("span",{class:"token punctuation"},"("),s("span",{class:"token function"},"right_child_idx"),s("span",{class:"token punctuation"},"("),n("idx"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token operator"},">="),n(" count"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
       `),s("span",{class:"token keyword"},"return"),n(),s("span",{class:"token function"},"left_child_idx"),s("span",{class:"token punctuation"},"("),n("idx"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
     `),s("span",{class:"token punctuation"},"}"),n(),s("span",{class:"token keyword"},"else"),n(),s("span",{class:"token punctuation"},"{"),n(`
       `),s("span",{class:"token keyword"},"int"),n(" ldx "),s("span",{class:"token operator"},"="),n(),s("span",{class:"token function"},"left_child_idx"),s("span",{class:"token punctuation"},"("),n("idx"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
       `),s("span",{class:"token keyword"},"int"),n(" rdx "),s("span",{class:"token operator"},"="),n(),s("span",{class:"token function"},"right_child_idx"),s("span",{class:"token punctuation"},"("),n("idx"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
       `),s("span",{class:"token keyword"},"if"),n(),s("span",{class:"token punctuation"},"("),s("span",{class:"token function"},"cmp"),s("span",{class:"token punctuation"},"("),n("items"),s("span",{class:"token punctuation"},"["),n("ldx"),s("span",{class:"token punctuation"},"]"),s("span",{class:"token punctuation"},","),n(" items"),s("span",{class:"token punctuation"},"["),n("rdx"),s("span",{class:"token punctuation"},"]"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
         `),s("span",{class:"token keyword"},"return"),n(" ldx"),s("span",{class:"token punctuation"},";"),n(`
       `),s("span",{class:"token punctuation"},"}"),s("span",{class:"token keyword"},"else"),n(),s("span",{class:"token punctuation"},"{"),n(`
         `),s("span",{class:"token keyword"},"return"),n(" rdx"),s("span",{class:"token punctuation"},";"),n(`
       `),s("span",{class:"token punctuation"},"}"),n(`
     `),s("span",{class:"token punctuation"},"}"),n(`
    `),s("span",{class:"token punctuation"},"}"),s("span",{class:"token punctuation"},";"),n(`
    `),s("span",{class:"token keyword"},"while"),n(),s("span",{class:"token punctuation"},"("),s("span",{class:"token function"},"present_child"),s("span",{class:"token punctuation"},"("),n("idx"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
      `),s("span",{class:"token keyword"},"int"),n(" cdx "),s("span",{class:"token operator"},"="),n(),s("span",{class:"token function"},"smallest_child_idx"),s("span",{class:"token punctuation"},"("),n("idx"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
      `),s("span",{class:"token keyword"},"if"),n(),s("span",{class:"token punctuation"},"("),s("span",{class:"token operator"},"!"),s("span",{class:"token function"},"cmp"),s("span",{class:"token punctuation"},"("),n("items"),s("span",{class:"token punctuation"},"["),n("idx"),s("span",{class:"token punctuation"},"]"),s("span",{class:"token punctuation"},","),n(" items"),s("span",{class:"token punctuation"},"["),n("cdx"),s("span",{class:"token punctuation"},"]"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
        `),s("span",{class:"token function"},"swap"),s("span",{class:"token punctuation"},"("),n("items"),s("span",{class:"token punctuation"},"["),n("idx"),s("span",{class:"token punctuation"},"]"),s("span",{class:"token punctuation"},","),n(" items"),s("span",{class:"token punctuation"},"["),n("cdx"),s("span",{class:"token punctuation"},"]"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
      `),s("span",{class:"token punctuation"},"}"),n(`
      idx `),s("span",{class:"token operator"},"="),n(" cdx"),s("span",{class:"token punctuation"},";"),n(`
    `),s("span",{class:"token punctuation"},"}"),n(`
  `),s("span",{class:"token punctuation"},"}"),n(`

`),s("span",{class:"token keyword"},"public"),s("span",{class:"token operator"},":"),n(`

  `),s("span",{class:"token keyword"},"explicit"),n(),s("span",{class:"token function"},"Heap"),s("span",{class:"token punctuation"},"("),n("function"),s("span",{class:"token operator"},"<"),s("span",{class:"token keyword"},"bool"),s("span",{class:"token punctuation"},"("),n("T"),s("span",{class:"token punctuation"},","),n(" T"),s("span",{class:"token punctuation"},")"),s("span",{class:"token operator"},">"),n(" c"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token operator"},":"),n(),s("span",{class:"token function"},"count"),s("span",{class:"token punctuation"},"("),s("span",{class:"token number"},"0"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},","),n(),s("span",{class:"token function"},"cmp"),s("span",{class:"token punctuation"},"("),n("std"),s("span",{class:"token double-colon punctuation"},"::"),s("span",{class:"token function"},"move"),s("span",{class:"token punctuation"},"("),n("c"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),s("span",{class:"token punctuation"},"}"),n(`
  `),s("span",{class:"token comment"},"/* 优化建堆方式 */"),n(`
  `),s("span",{class:"token function"},"Heap"),s("span",{class:"token punctuation"},"("),n("vector"),s("span",{class:"token operator"},"<"),n("T"),s("span",{class:"token operator"},">"),n(" v"),s("span",{class:"token punctuation"},","),n(" function"),s("span",{class:"token operator"},"<"),s("span",{class:"token keyword"},"bool"),s("span",{class:"token punctuation"},"("),n("T"),s("span",{class:"token punctuation"},","),n(" T"),s("span",{class:"token punctuation"},")"),s("span",{class:"token operator"},">"),n(" c"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
    `),s("span",{class:"token keyword"},"this"),s("span",{class:"token operator"},"->"),n("items "),s("span",{class:"token operator"},"="),n(" v"),s("span",{class:"token punctuation"},";"),n(`
    `),s("span",{class:"token keyword"},"this"),s("span",{class:"token operator"},"->"),n("cmp "),s("span",{class:"token operator"},"="),n(" c"),s("span",{class:"token punctuation"},";"),n(`
    `),s("span",{class:"token keyword"},"this"),s("span",{class:"token operator"},"->"),n("count "),s("span",{class:"token operator"},"="),n(" v"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"size"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token operator"},"-"),n(),s("span",{class:"token number"},"1"),s("span",{class:"token punctuation"},";"),n(`
    `),s("span",{class:"token keyword"},"for"),n(),s("span",{class:"token punctuation"},"("),s("span",{class:"token keyword"},"int"),n(" i "),s("span",{class:"token operator"},"="),n(),s("span",{class:"token function"},"parent_idx"),s("span",{class:"token punctuation"},"("),n("count"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},";"),n(" i "),s("span",{class:"token operator"},">="),n(),s("span",{class:"token number"},"0"),n(),s("span",{class:"token punctuation"},";"),n(" i"),s("span",{class:"token operator"},"--"),s("span",{class:"token punctuation"},")"),n(`
      `),s("span",{class:"token function"},"down"),s("span",{class:"token punctuation"},"("),n("i"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
  `),s("span",{class:"token punctuation"},"}"),n(`

  `),s("span",{class:"token comment"},"/* 查看堆顶元素 */"),n(`
  T `),s("span",{class:"token function"},"peek"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
    `),s("span",{class:"token keyword"},"if"),n(),s("span",{class:"token punctuation"},"("),s("span",{class:"token keyword"},"this"),s("span",{class:"token operator"},"->"),n("items"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"empty"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token keyword"},"return"),n(),s("span",{class:"token number"},"0"),s("span",{class:"token punctuation"},";"),n(`
    `),s("span",{class:"token keyword"},"else"),n(),s("span",{class:"token keyword"},"return"),n(" items"),s("span",{class:"token punctuation"},"["),s("span",{class:"token number"},"0"),s("span",{class:"token punctuation"},"]"),s("span",{class:"token punctuation"},";"),n(`
  `),s("span",{class:"token punctuation"},"}"),n(`

  `),s("span",{class:"token comment"},"/* 元素入堆 */"),n(`
  `),s("span",{class:"token keyword"},"void"),n(),s("span",{class:"token function"},"push"),s("span",{class:"token punctuation"},"("),n("T value"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
    `),s("span",{class:"token keyword"},"this"),s("span",{class:"token operator"},"->"),n("items"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"emplace_back"),s("span",{class:"token punctuation"},"("),n("value"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
    `),s("span",{class:"token keyword"},"this"),s("span",{class:"token operator"},"->"),n("count "),s("span",{class:"token operator"},"++"),s("span",{class:"token punctuation"},";"),n(`
    `),s("span",{class:"token keyword"},"int"),n(" idx "),s("span",{class:"token operator"},"="),n(" items"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"size"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token operator"},"-"),n(),s("span",{class:"token number"},"1"),s("span",{class:"token punctuation"},";"),n(`
    `),s("span",{class:"token function"},"up"),s("span",{class:"token punctuation"},"("),n("idx"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
  `),s("span",{class:"token punctuation"},"}"),n(`

  `),s("span",{class:"token comment"},"/* 弹出堆顶元素并返回 */"),n(`
  T `),s("span",{class:"token function"},"pop"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
    T ans `),s("span",{class:"token operator"},"="),n(),s("span",{class:"token function"},"peek"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
    items`),s("span",{class:"token punctuation"},"["),s("span",{class:"token number"},"0"),s("span",{class:"token punctuation"},"]"),n(),s("span",{class:"token operator"},"="),n(" items"),s("span",{class:"token punctuation"},"["),n("items"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"size"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token operator"},"-"),n(),s("span",{class:"token number"},"1"),s("span",{class:"token punctuation"},"]"),s("span",{class:"token punctuation"},";"),n(`
    items`),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"pop_back"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
    `),s("span",{class:"token keyword"},"this"),s("span",{class:"token operator"},"->"),n("count "),s("span",{class:"token operator"},"--"),s("span",{class:"token punctuation"},";"),n(`
    `),s("span",{class:"token function"},"down"),s("span",{class:"token punctuation"},"("),s("span",{class:"token number"},"0"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
    `),s("span",{class:"token keyword"},"return"),n(" ans"),s("span",{class:"token punctuation"},";"),n(`
  `),s("span",{class:"token punctuation"},"}"),n(`

  `),s("span",{class:"token comment"},"/* 返回堆是否为空 */"),n(`
  `),s("span",{class:"token keyword"},"inline"),n(),s("span",{class:"token keyword"},"bool"),n(),s("span",{class:"token function"},"empty"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
    `),s("span",{class:"token keyword"},"return"),n(" items"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"empty"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
  `),s("span",{class:"token punctuation"},"}"),n(`

  `),s("span",{class:"token comment"},"/* 堆中元素个数 */"),n(`
  `),s("span",{class:"token keyword"},"inline"),n(),s("span",{class:"token keyword"},"int"),n(),s("span",{class:"token function"},"size"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
    `),s("span",{class:"token keyword"},"return"),n(" items"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"size"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),n(`
  `),s("span",{class:"token punctuation"},"}"),n(`
`),s("span",{class:"token punctuation"},"}"),s("span",{class:"token punctuation"},";"),n(`
`)])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1);function cn(pn,un){const k=p("RouterLink"),u=p("ExternalLinkIcon"),c=p("CodeTabs"),r=p("Tabs");return d(),h("div",null,[P,b(" more "),s("p",null,[n("「堆」是一个限定条件下的"),o(k,{to:"/Algorithm/data_struct/2.html"},{default:a(()=>[n("「完全二叉树」")]),_:1}),n(",根据成立条件，堆主要分为两种类型：")]),S,N,B,E,s("table",null,[Q,s("tbody",null,[s("tr",null,[s("td",R,[s("a",U,[n("rust"),o(u)])]),X,Y]),s("tr",null,[s("td",Z,[s("a",$,[n("java"),o(u)])]),F,G]),s("tr",null,[s("td",J,[s("a",K,[n("c++"),o(u)])]),W,ss])])]),o(c,{id:"180",data:[{title:"rust",id:"rust"},{title:"java",id:"java"},{title:"c++",id:"c++"}],"tab-id":"language"},{tab0:a(({title:t,value:e,isActive:l})=>[ns]),tab1:a(({title:t,value:e,isActive:l})=>[as]),tab2:a(({title:t,value:e,isActive:l})=>[ts]),_:1}),es,ls,os,cs,ps,o(c,{id:"232",data:[{title:"rust",id:"rust"},{title:"java",id:"java"},{title:"c++",id:"c++"}],"tab-id":"language"},{tab0:a(({title:t,value:e,isActive:l})=>[is]),tab1:a(({title:t,value:e,isActive:l})=>[us]),tab2:a(({title:t,value:e,isActive:l})=>[rs]),_:1}),ks,o(c,{id:"246",data:[{title:"rust",id:"rust"},{title:"java",id:"java"},{title:"c++",id:"c++"}],"tab-id":"language"},{tab0:a(({title:t,value:e,isActive:l})=>[ms]),tab1:a(({title:t,value:e,isActive:l})=>[ds]),tab2:a(({title:t,value:e,isActive:l})=>[hs]),_:1}),bs,o(r,{id:"284",data:[{title:"step1"},{title:"step2"},{title:"step3"},{title:"step4"},{title:"step5"},{title:"step6"}]},{tab0:a(({title:t,value:e,isActive:l})=>[vs]),tab1:a(({title:t,value:e,isActive:l})=>[ys]),tab2:a(({title:t,value:e,isActive:l})=>[gs]),tab3:a(({title:t,value:e,isActive:l})=>[ws]),tab4:a(({title:t,value:e,isActive:l})=>[fs]),tab5:a(({title:t,value:e,isActive:l})=>[xs]),_:1}),o(c,{id:"316",data:[{title:"rust",id:"rust"},{title:"java",id:"java"},{title:"c++",id:"c++"}],"tab-id":"language"},{tab0:a(({title:t,value:e,isActive:l})=>[_s]),tab1:a(({title:t,value:e,isActive:l})=>[zs]),tab2:a(({title:t,value:e,isActive:l})=>[Ts]),_:1}),Ms,o(r,{id:"356",data:[{title:"step1"},{title:"step2"},{title:"step3"},{title:"step4"},{title:"step5"},{title:"step6"},{title:"step7"},{title:"step8"},{title:"step9"},{title:"step10"}]},{tab0:a(({title:t,value:e,isActive:l})=>[Os]),tab1:a(({title:t,value:e,isActive:l})=>[Hs]),tab2:a(({title:t,value:e,isActive:l})=>[Ls]),tab3:a(({title:t,value:e,isActive:l})=>[js]),tab4:a(({title:t,value:e,isActive:l})=>[As]),tab5:a(({title:t,value:e,isActive:l})=>[Is]),tab6:a(({title:t,value:e,isActive:l})=>[Cs]),tab7:a(({title:t,value:e,isActive:l})=>[Vs]),tab8:a(({title:t,value:e,isActive:l})=>[qs]),tab9:a(({title:t,value:e,isActive:l})=>[Ds]),_:1}),o(c,{id:"408",data:[{title:"rust",id:"rust"},{title:"java",id:"java"},{title:"c++",id:"c++"}],"tab-id":"language"},{tab0:a(({title:t,value:e,isActive:l})=>[Ps]),tab1:a(({title:t,value:e,isActive:l})=>[Ss]),tab2:a(({title:t,value:e,isActive:l})=>[Ns]),_:1}),Bs,Es,Qs,o(c,{id:"428",data:[{title:"rust",id:"rust"},{title:"java",id:"java"},{title:"c++",id:"c++"}],"tab-id":"language"},{tab0:a(({title:t,value:e,isActive:l})=>[Rs]),tab1:a(({title:t,value:e,isActive:l})=>[Us]),tab2:a(({title:t,value:e,isActive:l})=>[Xs]),_:1}),Ys,Zs,$s,Fs,Gs,Js,Ks,Ws,sn,nn,an,tn,o(c,{id:"476",data:[{title:"rust",id:"rust"},{title:"java",id:"java"},{title:"c++",id:"c++"}],"tab-id":"language"},{tab0:a(({title:t,value:e,isActive:l})=>[en]),tab1:a(({title:t,value:e,isActive:l})=>[ln]),tab2:a(({title:t,value:e,isActive:l})=>[on]),_:1})])}const kn=m(D,[["render",cn],["__file","16.html.vue"]]);export{kn as default};
