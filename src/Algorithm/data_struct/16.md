---
title: 测试wg
category: 
  - 数据结构
tag: 
  - wg
prev: ./15
---

## b树的删除操作

在 b Tree 中进行删除操作需要在删除结点后仍然符合 b Tree 的性质，b Tree 特性的关键为：

1. 对于 $m$ 阶 b Tree ——除根结点外，结点中关键字个数为 $⌈\frac{m}{2}⌉-1≤n≤m-1$ ；
2. b Tree 也是一个 “排序树” ，子树 0 < 关键字 1 < 子树 1 < 关键字 2 …

### 1.删除终端关键字

#### 1.1. 含有的关键字的个数在 $(⌈\frac{m}{2}⌉-1,m-1]$ 区间内

此时直接删除该终端关键字即可，例如下面 b Tree 中删除 $77$ 号关键字.

:::tabs

@tab step1

![image-20230110143246091](./image/image-20230110143246091-1673752540637-6.png)

@tab step2

![image-20230110143310700](./image/image-20230110143310700-1673752540637-7.png)

:::

#### 1.2.含有的关键字的个数 $=⌈\frac{m}{2}⌉-1$ 

此时如果删除其中某个关键字，将会导致该结点不符合 b Tree 的性质，此时需要该关键字所在结点的**父结点**和**兄弟结点**来修复，此时的**兄弟结点中的关键字要够借**才行，左兄弟或者右兄弟中关键字个数需要 $>⌈\frac{m}{2}⌉-1$ 才行

例如：删除下面 b Tree 中的 $70$ 号关键字:

:::tabs

@tab step1

![image-20230110144848073](./image/image-20230110144848073-1673752540637-8.png)

@tab step2

![image-20230110145037949](./image/image-20230110145037949-1673752540637-9.png)

@tab step3

![image-20230110145116709](./image/image-20230110145116709-1673752540637-10.png)

:::

#### 1.3.兄弟结点中关键字不够借

左右兄弟结点含有的关键字的个数 $=⌈\frac{m}{2}⌉-1$ ，此时他们不够借，因为他们借出自己的结点的话会导致自己不满足 b Tree 的性质，此时需要另一种解决方案；

删除待删除关键字后，将其所在结点与 左 (或右) 兄弟结点及双亲结点中的关键字进行合并，合并后需要对下放关键字的双亲结点进行判断，若不满足 b Tree 性质，递归地进行合并操作即可。

例如：删除下面 b Tree 中的 $73$ 号关键字:

:::tabs

@tab step1

![image-20230110150232176](./image/image-20230110150232176-1673752540637-11.png)

@tab step2

![image-20230110151315292](./image/image-20230110151315292-1673752540637-12.png)

@tab step3

![image-20230110152117558](./image/image-20230110152117558-1673752540637-13.png)

@tab step4

![image-20230110151856632](./image/image-20230110151856632-1673752540637-14.png)

:::

### 2.删除非终端关键字

首先通过寻找其中序遍历的直接前驱关键字或者直接后继关键字来进行替代，因为直接前驱或者直接后继关键字都在 “终端结点层” ，所以也就转换为 “终端结点” 中关键字的删除，再按照对应操作进行即可。

【**转换过程**】

在下列 b Tree 中删除 $80$ 号关键字：

- 使用直接前驱结点代替被删除的结点

:::tabs

@tab step1

![image-20230110142129488](./image/image-20230110142129488-1673752540637-15.png)

@tab step2

![image-20230110141237446](./image/image-20230110141237446-1673752540637-16.png)

@tab step3

![image-20230110141603275](./image/image-20230110141603275-1673752540637-17.png)

:::



在下列 b Tree 中删除 $80$ 号关键字：

- 使用直接后继结点代替被删除的结点

:::tabs

@tab step1

![image-20230110142129488](./image/image-20230110142129488-1673752540637-15.png)

@tab step2

![image-20230110141804938](./image/image-20230110141804938-1673752540637-18.png)

@tab step3

![image-20230110141909614](./image/image-20230110141909614-1673752540637-19.png)

:::

