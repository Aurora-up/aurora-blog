import{_ as r,X as u,Y as h,a1 as d,a0 as m,a2 as n,Z as a,$ as s,a3 as o,E as i}from"./framework-4e490e68.js";const x="/aurora-blog/assets/kmp2-442facb9.gif",g="/aurora-blog/assets/image-20230327205053656-2876b721.png",k="/aurora-blog/assets/image-20230327215655206-db85b233.png",w="/aurora-blog/assets/kmp3-80e846d2.gif",b="/aurora-blog/assets/kmp-bfae20ad.gif",y={},v=a("p",null,"「字符串处理」",-1),M=a("h2",{id:"kmp-算法",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#kmp-算法","aria-hidden":"true"},"#"),s(" Kmp 算法")],-1),_=a("p",null,[s("KMP 算法是一种改进的「字符串模式匹配算法」，其可以在 "),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mi",null,"O"),a("mo",{stretchy:"false"},"("),a("mi",null,"N"),a("mo",null,"+"),a("mi",null,"M"),a("mo",{stretchy:"false"},")")]),a("annotation",{encoding:"application/x-tex"},"O(N+M)")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),a("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"O"),a("span",{class:"mopen"},"("),a("span",{class:"mord mathnormal",style:{"margin-right":"0.10903em"}},"N"),a("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),a("span",{class:"mbin"},"+"),a("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),a("span",{class:"base"},[a("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),a("span",{class:"mord mathnormal",style:{"margin-right":"0.10903em"}},"M"),a("span",{class:"mclose"},")")])])]),s(" 的实现定位「子串」在「主串」中的位置。")],-1),f=a("details",{class:"hint-container details"},[a("summary",null,"朴素模式匹配算法"),a("p",null,[s("主串为 "),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mi",null,"S")]),a("annotation",{encoding:"application/x-tex"},"S")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.6833em"}}),a("span",{class:"mord mathnormal",style:{"margin-right":"0.05764em"}},"S")])])]),s(" ，子串为 "),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mi",null,"P")]),a("annotation",{encoding:"application/x-tex"},"P")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.6833em"}}),a("span",{class:"mord mathnormal",style:{"margin-right":"0.13889em"}},"P")])])]),s(" ，定义两个指针 "),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mi",null,"i")]),a("annotation",{encoding:"application/x-tex"},"i")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.6595em"}}),a("span",{class:"mord mathnormal"},"i")])])]),s(" 和 "),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mi",null,"j")]),a("annotation",{encoding:"application/x-tex"},"j")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.854em","vertical-align":"-0.1944em"}}),a("span",{class:"mord mathnormal",style:{"margin-right":"0.05724em"}},"j")])])]),s(" ，分别指向 "),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mi",null,"S")]),a("annotation",{encoding:"application/x-tex"},"S")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.6833em"}}),a("span",{class:"mord mathnormal",style:{"margin-right":"0.05764em"}},"S")])])]),s(" 和 "),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mi",null,"P")]),a("annotation",{encoding:"application/x-tex"},"P")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.6833em"}}),a("span",{class:"mord mathnormal",style:{"margin-right":"0.13889em"}},"P")])])]),s(" 的开头，然后开始一一比较 "),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mi",null,"S"),a("mo",{stretchy:"false"},"["),a("mi",null,"i"),a("mo",{stretchy:"false"},"]")]),a("annotation",{encoding:"application/x-tex"},"S[i]")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),a("span",{class:"mord mathnormal",style:{"margin-right":"0.05764em"}},"S"),a("span",{class:"mopen"},"["),a("span",{class:"mord mathnormal"},"i"),a("span",{class:"mclose"},"]")])])]),s(" 和 "),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mi",null,"P"),a("mo",{stretchy:"false"},"["),a("mi",null,"j"),a("mo",{stretchy:"false"},"]")]),a("annotation",{encoding:"application/x-tex"},"P[j]")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),a("span",{class:"mord mathnormal",style:{"margin-right":"0.13889em"}},"P"),a("span",{class:"mopen"},"["),a("span",{class:"mord mathnormal",style:{"margin-right":"0.05724em"}},"j"),a("span",{class:"mclose"},"]")])])]),s(" ，当匹配到 "),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mi",null,"S"),a("mo",{stretchy:"false"},"["),a("mi",null,"i"),a("mo",{stretchy:"false"},"]"),a("mo",{mathvariant:"normal"},"≠"),a("mi",null,"P"),a("mo",{stretchy:"false"},"["),a("mi",null,"j"),a("mo",{stretchy:"false"},"]")]),a("annotation",{encoding:"application/x-tex"},"S[i] \\neq P[j]")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),a("span",{class:"mord mathnormal",style:{"margin-right":"0.05764em"}},"S"),a("span",{class:"mopen"},"["),a("span",{class:"mord mathnormal"},"i"),a("span",{class:"mclose"},"]"),a("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),a("span",{class:"mrel"},[a("span",{class:"mrel"},[a("span",{class:"mord vbox"},[a("span",{class:"thinbox"},[a("span",{class:"rlap"},[a("span",{class:"strut",style:{height:"0.8889em","vertical-align":"-0.1944em"}}),a("span",{class:"inner"},[a("span",{class:"mord"},[a("span",{class:"mrel"},"")])]),a("span",{class:"fix"})])])])]),a("span",{class:"mrel"},"=")]),a("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),a("span",{class:"base"},[a("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),a("span",{class:"mord mathnormal",style:{"margin-right":"0.13889em"}},"P"),a("span",{class:"mopen"},"["),a("span",{class:"mord mathnormal",style:{"margin-right":"0.05724em"}},"j"),a("span",{class:"mclose"},"]")])])]),s(" 时，")]),a("ul",null,[a("li",null,[s("将 "),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mi",null,"j")]),a("annotation",{encoding:"application/x-tex"},"j")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.854em","vertical-align":"-0.1944em"}}),a("span",{class:"mord mathnormal",style:{"margin-right":"0.05724em"}},"j")])])]),s(" 置为 0;")]),a("li",null,[a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mi",null,"i")]),a("annotation",{encoding:"application/x-tex"},"i")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.6595em"}}),a("span",{class:"mord mathnormal"},"i")])])]),s(" 置为 "),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mi",null,"i"),a("mo",null,"−"),a("mi",null,"j"),a("mo",null,"+"),a("mn",null,"1")]),a("annotation",{encoding:"application/x-tex"},"i-j+1")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.7429em","vertical-align":"-0.0833em"}}),a("span",{class:"mord mathnormal"},"i"),a("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),a("span",{class:"mbin"},"−"),a("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.854em","vertical-align":"-0.1944em"}}),a("span",{class:"mord mathnormal",style:{"margin-right":"0.05724em"}},"j"),a("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),a("span",{class:"mbin"},"+"),a("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.6444em"}}),a("span",{class:"mord"},"1")])])]),s(" ("),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mi",null,"i")]),a("annotation",{encoding:"application/x-tex"},"i")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.6595em"}}),a("span",{class:"mord mathnormal"},"i")])])]),s(" 返回到上一轮匹配时 "),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mi",null,"i")]),a("annotation",{encoding:"application/x-tex"},"i")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.6595em"}}),a("span",{class:"mord mathnormal"},"i")])])]),s(" 再加 "),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mn",null,"1")]),a("annotation",{encoding:"application/x-tex"},"1")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.6444em"}}),a("span",{class:"mord"},"1")])])]),s(") 。")])]),a("p",null,[s("然后继续下一轮匹配，直到主串和子串都匹配完，若最后循环结束之后指针 "),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mi",null,"j"),a("mo",null,"<"),a("mi",null,"P"),a("mi",{mathvariant:"normal"},"."),a("mi",null,"s"),a("mi",null,"i"),a("mi",null,"z"),a("mi",null,"e"),a("mo",{stretchy:"false"},"("),a("mo",{stretchy:"false"},")")]),a("annotation",{encoding:"application/x-tex"},"j < P.size()")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.854em","vertical-align":"-0.1944em"}}),a("span",{class:"mord mathnormal",style:{"margin-right":"0.05724em"}},"j"),a("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),a("span",{class:"mrel"},"<"),a("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),a("span",{class:"base"},[a("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),a("span",{class:"mord mathnormal",style:{"margin-right":"0.13889em"}},"P"),a("span",{class:"mord"},"."),a("span",{class:"mord mathnormal"},"s"),a("span",{class:"mord mathnormal"},"i"),a("span",{class:"mord mathnormal"},"ze"),a("span",{class:"mopen"},"("),a("span",{class:"mclose"},")")])])]),s(" 的话，说明子串还未被匹配完，也即主串中没有子串相匹配的子串。这样的匹配时间复杂度为 "),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mi",null,"O"),a("mo",{stretchy:"false"},"("),a("mi",null,"N"),a("mi",null,"M"),a("mo",{stretchy:"false"},")")]),a("annotation",{encoding:"application/x-tex"},"O(NM)")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),a("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"O"),a("span",{class:"mopen"},"("),a("span",{class:"mord mathnormal",style:{"margin-right":"0.10903em"}},"NM"),a("span",{class:"mclose"},")")])])]),s("。")]),a("div",{class:"language-cpp line-numbers-mode","data-ext":"cpp"},[a("pre",{class:"language-cpp"},[a("code",null,[a("span",{class:"token keyword"},"int"),s(),a("span",{class:"token function"},"bf"),a("span",{class:"token punctuation"},"("),s("string s"),a("span",{class:"token punctuation"},","),s(" string p"),a("span",{class:"token punctuation"},")"),s(),a("span",{class:"token punctuation"},"{"),s(`
  `),a("span",{class:"token keyword"},"int"),s(" n "),a("span",{class:"token operator"},"="),s(" s"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"size"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),s(`
  `),a("span",{class:"token keyword"},"int"),s(" m "),a("span",{class:"token operator"},"="),s(" p"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"size"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),s(`
  `),a("span",{class:"token keyword"},"int"),s(" i "),a("span",{class:"token operator"},"="),s(),a("span",{class:"token number"},"0"),a("span",{class:"token punctuation"},","),s(" j "),a("span",{class:"token operator"},"="),s(),a("span",{class:"token number"},"0"),a("span",{class:"token punctuation"},";"),s(`
  `),a("span",{class:"token keyword"},"while"),s(),a("span",{class:"token punctuation"},"("),s("i "),a("span",{class:"token operator"},"<"),s(" n "),a("span",{class:"token operator"},"&&"),s(" j "),a("span",{class:"token operator"},"<"),s(" m"),a("span",{class:"token punctuation"},")"),s(),a("span",{class:"token punctuation"},"{"),s(`
    `),a("span",{class:"token keyword"},"if"),s(),a("span",{class:"token punctuation"},"("),s("s"),a("span",{class:"token punctuation"},"["),s("i"),a("span",{class:"token punctuation"},"]"),s(),a("span",{class:"token operator"},"=="),s(" p"),a("span",{class:"token punctuation"},"["),s("j"),a("span",{class:"token punctuation"},"]"),a("span",{class:"token punctuation"},")"),s(" i"),a("span",{class:"token operator"},"++"),a("span",{class:"token punctuation"},","),s(" j"),a("span",{class:"token operator"},"++"),a("span",{class:"token punctuation"},";"),s(`
    `),a("span",{class:"token keyword"},"else"),s(" i "),a("span",{class:"token operator"},"="),s(" i "),a("span",{class:"token operator"},"-"),s(" j "),a("span",{class:"token operator"},"+"),s(),a("span",{class:"token number"},"1"),a("span",{class:"token punctuation"},","),s(" j "),a("span",{class:"token operator"},"="),s(),a("span",{class:"token number"},"0"),a("span",{class:"token punctuation"},";"),s(`
  `),a("span",{class:"token punctuation"},"}"),s(`
  `),a("span",{class:"token keyword"},"if"),s(),a("span",{class:"token punctuation"},"("),s("j "),a("span",{class:"token operator"},"=="),s(" m"),a("span",{class:"token punctuation"},")"),s(),a("span",{class:"token keyword"},"return"),s(" i "),a("span",{class:"token operator"},"-"),s(" j"),a("span",{class:"token punctuation"},";"),s(`
  `),a("span",{class:"token keyword"},"else"),s(),a("span",{class:"token keyword"},"return"),s(),a("span",{class:"token number"},"0"),a("span",{class:"token punctuation"},";"),s(`
`),a("span",{class:"token punctuation"},"}"),s(`
`)])]),a("div",{class:"line-numbers","aria-hidden":"true"},[a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"})])]),a("p",null,"下f面为极端情况下的效率最差的朴素匹配。"),a("p",null,[s("朴素模式匹配算法效率低下的原因"),a("strong",null,"主要在于其每轮匹配都是独立的，当前匹配没有从上轮匹配中得到任何有用的信息"),s("。")]),a("div",{style:{"text-align":"center"}},[a("p",null,[a("img",{src:x,alt:"kmp2"})])])],-1),j=o('<p>「<strong>前缀和后缀</strong>」</p><p>例如：字符串 <code>S = &quot;ababaacaba&quot;</code> 的：</p><ul><li>字符前缀集合：<code>{a, ab, aba, abab, ababa, ababaa, ababaac, ababaaca, ababaacab}</code></li><li>字符后缀集合：<code>{a, ba, aba, caba, acaba, aacaba, baacaba, abaacaba, babaacaba}</code></li></ul><div class="hint-container warning"><p class="hint-container-title">注意</p><p>字符串前缀和后缀集合都不包含<strong>字符串本身</strong>。</p></div>',4),L=a("p",null,[s("「"),a("strong",null,[a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mi",null,"n"),a("mi",null,"e"),a("mi",null,"x"),a("mi",null,"t")]),a("annotation",{encoding:"application/x-tex"},"next")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.6151em"}}),a("span",{class:"mord mathnormal"},"n"),a("span",{class:"mord mathnormal"},"e"),a("span",{class:"mord mathnormal"},"x"),a("span",{class:"mord mathnormal"},"t")])])]),s(" 数组")]),s("」")],-1),A=a("blockquote",null,[a("p",null,[s("一. 有效索引从 "),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mn",null,"0")]),a("annotation",{encoding:"application/x-tex"},"0")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.6444em"}}),a("span",{class:"mord"},"0")])])]),s(" 开始的 "),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mi",null,"n"),a("mi",null,"e"),a("mi",null,"x"),a("mi",null,"t")]),a("annotation",{encoding:"application/x-tex"},"next")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.6151em"}}),a("span",{class:"mord mathnormal"},"n"),a("span",{class:"mord mathnormal"},"e"),a("span",{class:"mord mathnormal"},"x"),a("span",{class:"mord mathnormal"},"t")])])]),s(" 数组, "),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mi",null,"n"),a("mi",null,"e"),a("mi",null,"x"),a("mi",null,"t"),a("mo",{stretchy:"false"},"["),a("mn",null,"0"),a("mo",{stretchy:"false"},"]"),a("mo",{mathvariant:"normal"},"≠"),a("mo",null,"−"),a("mn",null,"1")]),a("annotation",{encoding:"application/x-tex"},"next[0] ≠ -1")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),a("span",{class:"mord mathnormal"},"n"),a("span",{class:"mord mathnormal"},"e"),a("span",{class:"mord mathnormal"},"x"),a("span",{class:"mord mathnormal"},"t"),a("span",{class:"mopen"},"["),a("span",{class:"mord"},"0"),a("span",{class:"mclose"},"]"),a("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),a("span",{class:"mrel"},[a("span",{class:"mrel"},[a("span",{class:"mord vbox"},[a("span",{class:"thinbox"},[a("span",{class:"rlap"},[a("span",{class:"strut",style:{height:"0.8889em","vertical-align":"-0.1944em"}}),a("span",{class:"inner"},[a("span",{class:"mord"},[a("span",{class:"mrel"},"")])]),a("span",{class:"fix"})])])])]),a("span",{class:"mrel"},"=")]),a("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.7278em","vertical-align":"-0.0833em"}}),a("span",{class:"mord"},"−"),a("span",{class:"mord"},"1")])])])])],-1),B=a("p",null,[s("设主串为 "),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mi",null,"B")]),a("annotation",{encoding:"application/x-tex"},"B")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.6833em"}}),a("span",{class:"mord mathnormal",style:{"margin-right":"0.05017em"}},"B")])])]),s("，子串为 "),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mi",null,"A")]),a("annotation",{encoding:"application/x-tex"},"A")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.6833em"}}),a("span",{class:"mord mathnormal"},"A")])])]),s("，"),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mi",null,"n"),a("mi",null,"e"),a("mi",null,"x"),a("mi",null,"t"),a("mo",{stretchy:"false"},"["),a("mi",null,"j"),a("mo",{stretchy:"false"},"]")]),a("annotation",{encoding:"application/x-tex"},"next[j]")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),a("span",{class:"mord mathnormal"},"n"),a("span",{class:"mord mathnormal"},"e"),a("span",{class:"mord mathnormal"},"x"),a("span",{class:"mord mathnormal"},"t"),a("span",{class:"mopen"},"["),a("span",{class:"mord mathnormal",style:{"margin-right":"0.05724em"}},"j"),a("span",{class:"mclose"},"]")])])]),s(" 表示当前 "),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mi",null,"A"),a("mo",{stretchy:"false"},"["),a("mi",null,"j"),a("mo",{stretchy:"false"},"]")]),a("annotation",{encoding:"application/x-tex"},"A[j]")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),a("span",{class:"mord mathnormal"},"A"),a("span",{class:"mopen"},"["),a("span",{class:"mord mathnormal",style:{"margin-right":"0.05724em"}},"j"),a("span",{class:"mclose"},"]")])])]),s(" ~ "),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mi",null,"A"),a("mo",{stretchy:"false"},"["),a("mn",null,"0"),a("mo",{stretchy:"false"},"]")]),a("annotation",{encoding:"application/x-tex"},"A[0]")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),a("span",{class:"mord mathnormal"},"A"),a("span",{class:"mopen"},"["),a("span",{class:"mord"},"0"),a("span",{class:"mclose"},"]")])])]),s(" 中前缀子串和后缀子串相同的最大长度；也代表着某次匹配失败之后，指针 "),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mi",null,"j")]),a("annotation",{encoding:"application/x-tex"},"j")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.854em","vertical-align":"-0.1944em"}}),a("span",{class:"mord mathnormal",style:{"margin-right":"0.05724em"}},"j")])])]),s(" 需要跳过 "),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mi",null,"n"),a("mi",null,"e"),a("mi",null,"x"),a("mi",null,"t"),a("mo",{stretchy:"false"},"["),a("mi",null,"j"),a("mo",null,"−"),a("mn",null,"1"),a("mo",{stretchy:"false"},"]")]),a("annotation",{encoding:"application/x-tex"},"next[j-1]")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),a("span",{class:"mord mathnormal"},"n"),a("span",{class:"mord mathnormal"},"e"),a("span",{class:"mord mathnormal"},"x"),a("span",{class:"mord mathnormal"},"t"),a("span",{class:"mopen"},"["),a("span",{class:"mord mathnormal",style:{"margin-right":"0.05724em"}},"j"),a("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),a("span",{class:"mbin"},"−"),a("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),a("span",{class:"base"},[a("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),a("span",{class:"mord"},"1"),a("span",{class:"mclose"},"]")])])]),s(" 个字符后再继续开始匹配，如下图：")],-1),P=a("p",null,[a("img",{src:g,alt:"image-20230327205053656"})],-1),S=a("p",null,[s("「"),a("strong",null,[a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mi",null,"n"),a("mi",null,"e"),a("mi",null,"x"),a("mi",null,"t")]),a("annotation",{encoding:"application/x-tex"},"next")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.6151em"}}),a("span",{class:"mord mathnormal"},"n"),a("span",{class:"mord mathnormal"},"e"),a("span",{class:"mord mathnormal"},"x"),a("span",{class:"mord mathnormal"},"t")])])]),s(" 数组的初始化")]),s("」")],-1),N=a("p",null,[s("使用递推的思维初始化 "),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mi",null,"n"),a("mi",null,"e"),a("mi",null,"x"),a("mi",null,"t")]),a("annotation",{encoding:"application/x-tex"},"next")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.6151em"}}),a("span",{class:"mord mathnormal"},"n"),a("span",{class:"mord mathnormal"},"e"),a("span",{class:"mord mathnormal"},"x"),a("span",{class:"mord mathnormal"},"t")])])]),s(" 数组:")],-1),z=a("p",{class:"katex-block"},[a("span",{class:"katex-display"},[a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[a("semantics",null,[a("mrow",null,[a("mi",null,"n"),a("mi",null,"e"),a("mi",null,"x"),a("mi",null,"t"),a("mo",{stretchy:"false"},"["),a("mi",null,"i"),a("mo",{stretchy:"false"},"]"),a("mo",null,"="),a("mrow",null,[a("mo",{fence:"true"},"{"),a("mtable",{rowspacing:"0.36em",columnalign:"left left",columnspacing:"1em"},[a("mtr",null,[a("mtd",null,[a("mstyle",{scriptlevel:"0",displaystyle:"false"},[a("mn",null,"0")])])]),a("mtr",null,[a("mtd",null,[a("mstyle",{scriptlevel:"0",displaystyle:"false"},[a("mrow",null,[a("mi",null,"m"),a("mi",null,"a"),a("mi",null,"x"),a("mrow")])])])])])])]),a("annotation",{encoding:"application/x-tex"}," next[i] = \\begin{cases} 0 \\\\ max{} \\end{cases} ")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),a("span",{class:"mord mathnormal"},"n"),a("span",{class:"mord mathnormal"},"e"),a("span",{class:"mord mathnormal"},"x"),a("span",{class:"mord mathnormal"},"t"),a("span",{class:"mopen"},"["),a("span",{class:"mord mathnormal"},"i"),a("span",{class:"mclose"},"]"),a("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),a("span",{class:"mrel"},"="),a("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),a("span",{class:"base"},[a("span",{class:"strut",style:{height:"3em","vertical-align":"-1.25em"}}),a("span",{class:"minner"},[a("span",{class:"mopen delimcenter",style:{top:"0em"}},[a("span",{class:"delimsizing size4"},"{")]),a("span",{class:"mord"},[a("span",{class:"mtable"},[a("span",{class:"col-align-l"},[a("span",{class:"vlist-t vlist-t2"},[a("span",{class:"vlist-r"},[a("span",{class:"vlist",style:{height:"1.69em"}},[a("span",{style:{top:"-3.69em"}},[a("span",{class:"pstrut",style:{height:"3.008em"}}),a("span",{class:"mord"},[a("span",{class:"mord"},"0")])]),a("span",{style:{top:"-2.25em"}},[a("span",{class:"pstrut",style:{height:"3.008em"}}),a("span",{class:"mord"},[a("span",{class:"mord mathnormal"},"ma"),a("span",{class:"mord mathnormal"},"x"),a("span",{class:"mord"})])])]),a("span",{class:"vlist-s"},"​")]),a("span",{class:"vlist-r"},[a("span",{class:"vlist",style:{height:"1.19em"}},[a("span")])])])])])]),a("span",{class:"mclose nulldelimiter"})])])])])])],-1),q=a("p",null,[a("img",{src:k,alt:"image-20230327215655206"})],-1),O=a("p",null,[s("下面为 "),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mi",null,"n"),a("mi",null,"e"),a("mi",null,"x"),a("mi",null,"t")]),a("annotation",{encoding:"application/x-tex"},"next")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.6151em"}}),a("span",{class:"mord mathnormal"},"n"),a("span",{class:"mord mathnormal"},"e"),a("span",{class:"mord mathnormal"},"x"),a("span",{class:"mord mathnormal"},"t")])])]),s(" 数组初始化的过程:")],-1),V=a("div",{style:{"text-align":"center"}},[a("p",null,[a("img",{src:w,alt:""})])],-1),C=a("div",{class:"language-rust line-numbers-mode","data-ext":"rs"},[a("pre",{class:"language-rust"},[a("code",null,`
`)]),a("div",{class:"line-numbers","aria-hidden":"true"},[a("div",{class:"line-number"})])],-1),K=a("div",{class:"language-java line-numbers-mode","data-ext":"java"},[a("pre",{class:"language-java"},[a("code",null,`
`)]),a("div",{class:"line-numbers","aria-hidden":"true"},[a("div",{class:"line-number"})])],-1),T=a("div",{class:"language-cpp line-numbers-mode","data-ext":"cpp"},[a("pre",{class:"language-cpp"},[a("code",null,[a("span",{class:"token keyword"},"void"),s(),a("span",{class:"token function"},"get_next"),a("span",{class:"token punctuation"},"("),a("span",{class:"token keyword"},"int"),a("span",{class:"token operator"},"*"),s(" next"),a("span",{class:"token punctuation"},")"),s(),a("span",{class:"token punctuation"},"{"),s(`
  `),a("span",{class:"token keyword"},"int"),s(" prefix_len "),a("span",{class:"token operator"},"="),s(),a("span",{class:"token number"},"0"),a("span",{class:"token punctuation"},";"),s(`
  next`),a("span",{class:"token punctuation"},"["),a("span",{class:"token number"},"0"),a("span",{class:"token punctuation"},"]"),s(),a("span",{class:"token operator"},"="),s(),a("span",{class:"token number"},"0"),a("span",{class:"token punctuation"},";"),s(`
  `),a("span",{class:"token keyword"},"for"),a("span",{class:"token punctuation"},"("),a("span",{class:"token keyword"},"int"),s(" i "),a("span",{class:"token operator"},"="),s(),a("span",{class:"token number"},"1"),a("span",{class:"token punctuation"},";"),s(" i "),a("span",{class:"token operator"},"<"),s(" p"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"size"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),s(" i"),a("span",{class:"token operator"},"++"),a("span",{class:"token punctuation"},")"),s(),a("span",{class:"token punctuation"},"{"),s(`
    `),a("span",{class:"token comment"},"// 向前寻找不匹配时，寻找已匹配的前后缀中的 相等的前后缀，然后从其重新开始寻找新的前后缀"),s(`
    `),a("span",{class:"token keyword"},"while"),s(),a("span",{class:"token punctuation"},"("),s("p"),a("span",{class:"token punctuation"},"["),s("i"),a("span",{class:"token punctuation"},"]"),s(),a("span",{class:"token operator"},"!="),s(" p"),a("span",{class:"token punctuation"},"["),s("prefix_len"),a("span",{class:"token punctuation"},"]"),s(),a("span",{class:"token operator"},"&&"),s(" prefix_len "),a("span",{class:"token operator"},">"),s(),a("span",{class:"token number"},"0"),a("span",{class:"token punctuation"},")"),s(),a("span",{class:"token punctuation"},"{"),s(`
      prefix_len `),a("span",{class:"token operator"},"="),s(" next"),a("span",{class:"token punctuation"},"["),s("prefix_len "),a("span",{class:"token operator"},"-"),s(),a("span",{class:"token number"},"1"),a("span",{class:"token punctuation"},"]"),a("span",{class:"token punctuation"},";"),s(`
    `),a("span",{class:"token punctuation"},"}"),s(`
    `),a("span",{class:"token keyword"},"if"),s(),a("span",{class:"token punctuation"},"("),s("p"),a("span",{class:"token punctuation"},"["),s("i"),a("span",{class:"token punctuation"},"]"),s(),a("span",{class:"token operator"},"=="),s(" p"),a("span",{class:"token punctuation"},"["),s("prefix_len"),a("span",{class:"token punctuation"},"]"),a("span",{class:"token punctuation"},")"),s(" prefix_len "),a("span",{class:"token operator"},"+="),s(),a("span",{class:"token number"},"1"),a("span",{class:"token punctuation"},";"),s(`
    next`),a("span",{class:"token punctuation"},"["),s("i"),a("span",{class:"token punctuation"},"]"),s(),a("span",{class:"token operator"},"="),s(" prefix_len"),a("span",{class:"token punctuation"},";"),s(`
  `),a("span",{class:"token punctuation"},"}"),s(`
`),a("span",{class:"token punctuation"},"}"),s(`
`),a("span",{class:"token keyword"},"int"),s(),a("span",{class:"token function"},"kmp"),a("span",{class:"token punctuation"},"("),s("string s"),a("span",{class:"token punctuation"},","),s(" string p"),a("span",{class:"token punctuation"},")"),s(),a("span",{class:"token punctuation"},"{"),s(`
  `),a("span",{class:"token keyword"},"int"),s(" next"),a("span",{class:"token punctuation"},"["),s("m"),a("span",{class:"token punctuation"},"]"),a("span",{class:"token punctuation"},";"),s(`
  `),a("span",{class:"token function"},"get_next"),a("span",{class:"token punctuation"},"("),s("p"),a("span",{class:"token punctuation"},","),s(" next"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),s(`
  `),a("span",{class:"token keyword"},"int"),s(" i "),a("span",{class:"token punctuation"},","),s(" j "),a("span",{class:"token operator"},"="),s(),a("span",{class:"token number"},"0"),a("span",{class:"token punctuation"},";"),s(`
  `),a("span",{class:"token keyword"},"while"),s(),a("span",{class:"token punctuation"},"("),s("i "),a("span",{class:"token operator"},"<"),s(" s"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"size"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),s(),a("span",{class:"token operator"},"&&"),s(" j "),a("span",{class:"token operator"},"<"),s(" p"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"size"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},")"),s(),a("span",{class:"token punctuation"},"{"),s(`
    `),a("span",{class:"token keyword"},"if"),s(),a("span",{class:"token punctuation"},"("),s("s"),a("span",{class:"token punctuation"},"["),s("i"),a("span",{class:"token punctuation"},"]"),s(),a("span",{class:"token operator"},"="),s(" p"),a("span",{class:"token punctuation"},"["),s("j"),a("span",{class:"token punctuation"},"]"),a("span",{class:"token punctuation"},")"),s(" i"),a("span",{class:"token operator"},"++"),a("span",{class:"token punctuation"},","),s(" j"),a("span",{class:"token operator"},"++"),a("span",{class:"token punctuation"},";"),s("        "),a("span",{class:"token comment"},"// 匹配时,两个指针都向前走 "),s(`
    `),a("span",{class:"token keyword"},"else"),s(),a("span",{class:"token keyword"},"if"),s(),a("span",{class:"token punctuation"},"("),s("j "),a("span",{class:"token operator"},">"),s(),a("span",{class:"token number"},"0"),a("span",{class:"token punctuation"},")"),s(" j "),a("span",{class:"token operator"},"="),s(" next"),a("span",{class:"token punctuation"},"["),s("j"),a("span",{class:"token operator"},"-"),a("span",{class:"token number"},"1"),a("span",{class:"token punctuation"},"]"),a("span",{class:"token punctuation"},";"),s("    "),a("span",{class:"token comment"},"// 不匹配时, i 指针不同, j 指针撤回到 next[j-1] 处"),s(`
    `),a("span",{class:"token keyword"},"else"),s(" i "),a("span",{class:"token operator"},"+="),s(),a("span",{class:"token number"},"1"),a("span",{class:"token punctuation"},";"),s("                      "),a("span",{class:"token comment"},"// j == 0, 不存在 j-1 索引, 此时 i 指针向前走"),s(`
  `),a("span",{class:"token punctuation"},"}"),s(`
  `),a("span",{class:"token keyword"},"if"),s(),a("span",{class:"token punctuation"},"("),s("j "),a("span",{class:"token operator"},"=="),s(" m"),a("span",{class:"token punctuation"},")"),s(),a("span",{class:"token keyword"},"return"),s(" i "),a("span",{class:"token operator"},"-"),s(" j"),a("span",{class:"token punctuation"},";"),s(`
  `),a("span",{class:"token keyword"},"else"),s(),a("span",{class:"token keyword"},"return"),s(),a("span",{class:"token operator"},"-"),a("span",{class:"token number"},"1"),a("span",{class:"token punctuation"},";"),s(`
`),a("span",{class:"token punctuation"},"}"),s(`
`)])]),a("div",{class:"line-numbers","aria-hidden":"true"},[a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"})])],-1),E=o(`<details class="hint-container details"><summary>三种情况分析</summary><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>            i
主串：       a  b  a  c  a  b  a

            j
子串：       a  c  a  b
next数组：   0  0  1  0

第一种情况: s[i] == s[j];  操作： i ++ , j ++; 也即继续向后逐一匹配
--------------------------------------------------------------------

               i
主串：       a  b  a  c  a  b  a

               j
子串：       a  c  a  b
next数组：   0  0  1  0

第二种情况: s[i] != s[j] &amp;&amp; j &gt; 0; 操作： i 指针不动，j = next[j - 1];
不匹配时，利用已被匹配的部分子串留下的信息，即 next 数组，将 j 指针置为最佳位置 next[j-1]; 
此时便可以不再去匹配 “已匹配的部分子串” 中 “相等的前后缀”。
--------------------------------------------------------------------


               i
主串：       a  b  a  c  a  b  a

            	 j
子串：          a  c  a  b
next数组：      0  0  1  0

第三种情况: s[i] != s[j] &amp;&amp; j == 0; 操作： i ++;
j == 0 ，此时还只有一个字符，没有 next 数组，所以向前需要移动主串的指针。
--------------------------------------------------------------------


                  i
主串：       a  b  a  c  a  b  a

                  j
子串：             a  c  a  b
next数组：         0  0  1  0

第一种情况: s[i] == s[j], 操作： i ++, j++;
--------------------------------------------------------------------
...
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><div style="text-align:center;"><p><img src="`+b+'" alt="kmp"></p></div>',2),W=a("blockquote",null,[a("p",null,[s("二. 有效索引从 "),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mn",null,"1")]),a("annotation",{encoding:"application/x-tex"},"1")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.6444em"}}),a("span",{class:"mord"},"1")])])]),s(" 开始的 "),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mi",null,"n"),a("mi",null,"e"),a("mi",null,"x"),a("mi",null,"t")]),a("annotation",{encoding:"application/x-tex"},"next")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.6151em"}}),a("span",{class:"mord mathnormal"},"n"),a("span",{class:"mord mathnormal"},"e"),a("span",{class:"mord mathnormal"},"x"),a("span",{class:"mord mathnormal"},"t")])])]),s(" 数组，"),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mi",null,"n"),a("mi",null,"e"),a("mi",null,"x"),a("mi",null,"t"),a("mo",{stretchy:"false"},"["),a("mn",null,"0"),a("mo",{stretchy:"false"},"]"),a("mo",null,"="),a("mo",null,"−"),a("mn",null,"1"),a("mo",{separator:"true"},","),a("mi",null,"n"),a("mi",null,"e"),a("mi",null,"x"),a("mi",null,"t"),a("mo",{stretchy:"false"},"["),a("mn",null,"1"),a("mo",{stretchy:"false"},"]"),a("mo",null,"="),a("mn",null,"0")]),a("annotation",{encoding:"application/x-tex"},"next[0] = -1,next[1]=0")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),a("span",{class:"mord mathnormal"},"n"),a("span",{class:"mord mathnormal"},"e"),a("span",{class:"mord mathnormal"},"x"),a("span",{class:"mord mathnormal"},"t"),a("span",{class:"mopen"},"["),a("span",{class:"mord"},"0"),a("span",{class:"mclose"},"]"),a("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),a("span",{class:"mrel"},"="),a("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),a("span",{class:"base"},[a("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),a("span",{class:"mord"},"−"),a("span",{class:"mord"},"1"),a("span",{class:"mpunct"},","),a("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),a("span",{class:"mord mathnormal"},"n"),a("span",{class:"mord mathnormal"},"e"),a("span",{class:"mord mathnormal"},"x"),a("span",{class:"mord mathnormal"},"t"),a("span",{class:"mopen"},"["),a("span",{class:"mord"},"1"),a("span",{class:"mclose"},"]"),a("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),a("span",{class:"mrel"},"="),a("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.6444em"}}),a("span",{class:"mord"},"0")])])])])],-1),X=a("p",null,[s("设主串为 "),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mi",null,"B"),a("mo",{stretchy:"false"},"["),a("mn",null,"1")]),a("annotation",{encoding:"application/x-tex"},"B[1")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),a("span",{class:"mord mathnormal",style:{"margin-right":"0.05017em"}},"B"),a("span",{class:"mopen"},"["),a("span",{class:"mord"},"1")])])]),s("~"),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mi",null,"i"),a("mo",{stretchy:"false"},"]")]),a("annotation",{encoding:"application/x-tex"},"i]")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),a("span",{class:"mord mathnormal"},"i"),a("span",{class:"mclose"},"]")])])]),s("， 子串为 "),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mi",null,"A"),a("mo",{stretchy:"false"},"["),a("mn",null,"1")]),a("annotation",{encoding:"application/x-tex"},"A[1")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),a("span",{class:"mord mathnormal"},"A"),a("span",{class:"mopen"},"["),a("span",{class:"mord"},"1")])])]),s("~"),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mi",null,"j"),a("mo",{stretchy:"false"},"]")]),a("annotation",{encoding:"application/x-tex"},"j]")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),a("span",{class:"mord mathnormal",style:{"margin-right":"0.05724em"}},"j"),a("span",{class:"mclose"},"]")])])]),s(" ，KMP 算法分为两步：")],-1),Y=a("ol",null,[a("li",null,[s("对子串 "),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mi",null,"A")]),a("annotation",{encoding:"application/x-tex"},"A")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.6833em"}}),a("span",{class:"mord mathnormal"},"A")])])]),s(" 进行自我匹配：求出 "),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mi",null,"n"),a("mi",null,"e"),a("mi",null,"x"),a("mi",null,"t")]),a("annotation",{encoding:"application/x-tex"},"next")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.6151em"}}),a("span",{class:"mord mathnormal"},"n"),a("span",{class:"mord mathnormal"},"e"),a("span",{class:"mord mathnormal"},"x"),a("span",{class:"mord mathnormal"},"t")])])]),s(" 数组，其中 "),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mi",null,"n"),a("mi",null,"e"),a("mi",null,"x"),a("mi",null,"t"),a("mo",{stretchy:"false"},"["),a("mi",null,"i"),a("mo",{stretchy:"false"},"]")]),a("annotation",{encoding:"application/x-tex"},"next[i]")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),a("span",{class:"mord mathnormal"},"n"),a("span",{class:"mord mathnormal"},"e"),a("span",{class:"mord mathnormal"},"x"),a("span",{class:"mord mathnormal"},"t"),a("span",{class:"mopen"},"["),a("span",{class:"mord mathnormal"},"i"),a("span",{class:"mclose"},"]")])])]),s(" 表示 “ "),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mi",null,"A")]),a("annotation",{encoding:"application/x-tex"},"A")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.6833em"}}),a("span",{class:"mord mathnormal"},"A")])])]),s(" 中以 "),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mi",null,"A"),a("mo",{stretchy:"false"},"["),a("mi",null,"i"),a("mo",{stretchy:"false"},"]")]),a("annotation",{encoding:"application/x-tex"},"A[i]")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),a("span",{class:"mord mathnormal"},"A"),a("span",{class:"mopen"},"["),a("span",{class:"mord mathnormal"},"i"),a("span",{class:"mclose"},"]")])])]),s(" 结尾的非前缀字符串” 与 “"),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mi",null,"A")]),a("annotation",{encoding:"application/x-tex"},"A")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.6833em"}}),a("span",{class:"mord mathnormal"},"A")])])]),s(" 的前缀” "),a("strong",null,"能够相匹配的最大长度"),s("。")])],-1),Z=a("div",{style:{"text-align":"center"}},[a("p",null,[a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mi",null,"n"),a("mi",null,"e"),a("mi",null,"x"),a("mi",null,"t"),a("mo",{stretchy:"false"},"["),a("mi",null,"i"),a("mo",{stretchy:"false"},"]"),a("mo",null,"="),a("mi",null,"m"),a("mi",null,"a"),a("mi",null,"x"),a("mo",{stretchy:"false"},"{"),a("mi",null,"j"),a("mo",{stretchy:"false"},"}")]),a("annotation",{encoding:"application/x-tex"},"next[i] = max\\{j\\}")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),a("span",{class:"mord mathnormal"},"n"),a("span",{class:"mord mathnormal"},"e"),a("span",{class:"mord mathnormal"},"x"),a("span",{class:"mord mathnormal"},"t"),a("span",{class:"mopen"},"["),a("span",{class:"mord mathnormal"},"i"),a("span",{class:"mclose"},"]"),a("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),a("span",{class:"mrel"},"="),a("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),a("span",{class:"base"},[a("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),a("span",{class:"mord mathnormal"},"ma"),a("span",{class:"mord mathnormal"},"x"),a("span",{class:"mopen"},"{"),a("span",{class:"mord mathnormal",style:{"margin-right":"0.05724em"}},"j"),a("span",{class:"mclose"},"}")])])]),s(" ，其中 "),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mi",null,"j"),a("mo",null,"<"),a("mi",null,"i")]),a("annotation",{encoding:"application/x-tex"},"j < i")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.854em","vertical-align":"-0.1944em"}}),a("span",{class:"mord mathnormal",style:{"margin-right":"0.05724em"}},"j"),a("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),a("span",{class:"mrel"},"<"),a("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.6595em"}}),a("span",{class:"mord mathnormal"},"i")])])]),s(" ，并且 「"),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mi",null,"A"),a("mo",{stretchy:"false"},"["),a("mi",null,"i"),a("mo",null,"−"),a("mi",null,"j"),a("mo",null,"+"),a("mn",null,"1"),a("mo",{stretchy:"false"},"]")]),a("annotation",{encoding:"application/x-tex"},"A[i-j+1]")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),a("span",{class:"mord mathnormal"},"A"),a("span",{class:"mopen"},"["),a("span",{class:"mord mathnormal"},"i"),a("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),a("span",{class:"mbin"},"−"),a("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.854em","vertical-align":"-0.1944em"}}),a("span",{class:"mord mathnormal",style:{"margin-right":"0.05724em"}},"j"),a("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),a("span",{class:"mbin"},"+"),a("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),a("span",{class:"base"},[a("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),a("span",{class:"mord"},"1"),a("span",{class:"mclose"},"]")])])]),s(" ~ "),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mi",null,"A"),a("mo",{stretchy:"false"},"["),a("mi",null,"i"),a("mo",{stretchy:"false"},"]")]),a("annotation",{encoding:"application/x-tex"},"A[i]")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),a("span",{class:"mord mathnormal"},"A"),a("span",{class:"mopen"},"["),a("span",{class:"mord mathnormal"},"i"),a("span",{class:"mclose"},"]")])])]),s(" == "),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mi",null,"A"),a("mo",{stretchy:"false"},"["),a("mn",null,"1"),a("mo",{stretchy:"false"},"]")]),a("annotation",{encoding:"application/x-tex"},"A[1]")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),a("span",{class:"mord mathnormal"},"A"),a("span",{class:"mopen"},"["),a("span",{class:"mord"},"1"),a("span",{class:"mclose"},"]")])])]),s(" ～ "),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mi",null,"A"),a("mo",{stretchy:"false"},"["),a("mi",null,"j"),a("mo",{stretchy:"false"},"]")]),a("annotation",{encoding:"application/x-tex"},"A[j]")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),a("span",{class:"mord mathnormal"},"A"),a("span",{class:"mopen"},"["),a("span",{class:"mord mathnormal",style:{"margin-right":"0.05724em"}},"j"),a("span",{class:"mclose"},"]")])])]),s("」")])],-1),$=a("p",null,[s("特别地，规定 "),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mi",null,"n"),a("mi",null,"e"),a("mi",null,"x"),a("mi",null,"t"),a("mo",{stretchy:"false"},"["),a("mn",null,"1"),a("mo",{stretchy:"false"},"]"),a("mo",null,"="),a("mn",null,"0")]),a("annotation",{encoding:"application/x-tex"},"next[1]=0")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),a("span",{class:"mord mathnormal"},"n"),a("span",{class:"mord mathnormal"},"e"),a("span",{class:"mord mathnormal"},"x"),a("span",{class:"mord mathnormal"},"t"),a("span",{class:"mopen"},"["),a("span",{class:"mord"},"1"),a("span",{class:"mclose"},"]"),a("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),a("span",{class:"mrel"},"="),a("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.6444em"}}),a("span",{class:"mord"},"0")])])]),s(" 。")],-1),D=a("ol",{start:"2"},[a("li",null,[s("对子串 "),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mi",null,"A")]),a("annotation",{encoding:"application/x-tex"},"A")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.6833em"}}),a("span",{class:"mord mathnormal"},"A")])])]),s(" 和 主串 "),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mi",null,"B")]),a("annotation",{encoding:"application/x-tex"},"B")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.6833em"}}),a("span",{class:"mord mathnormal",style:{"margin-right":"0.05017em"}},"B")])])]),s(" 进行匹配，求出一个数组")])],-1),F=a("p",null,[s("二. 索引从 "),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mn",null,"0")]),a("annotation",{encoding:"application/x-tex"},"0")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.6444em"}}),a("span",{class:"mord"},"0")])])]),s(" 开始的 "),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mi",null,"n"),a("mi",null,"e"),a("mi",null,"x"),a("mi",null,"t")]),a("annotation",{encoding:"application/x-tex"},"next")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.6151em"}}),a("span",{class:"mord mathnormal"},"n"),a("span",{class:"mord mathnormal"},"e"),a("span",{class:"mord mathnormal"},"x"),a("span",{class:"mord mathnormal"},"t")])])]),s(" 数组")],-1),G=a("h2",{id:"字符串哈希",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#字符串哈希","aria-hidden":"true"},"#"),s(" 字符串哈希")],-1),H=a("h2",{id:"manacher-算法",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#manacher-算法","aria-hidden":"true"},"#"),s(" Manacher 算法")],-1),I=a("div",{class:"language-rust line-numbers-mode","data-ext":"rs"},[a("pre",{class:"language-rust"},[a("code",null,`
`)]),a("div",{class:"line-numbers","aria-hidden":"true"},[a("div",{class:"line-number"})])],-1),J=a("div",{class:"language-java line-numbers-mode","data-ext":"java"},[a("pre",{class:"language-java"},[a("code",null,`
`)]),a("div",{class:"line-numbers","aria-hidden":"true"},[a("div",{class:"line-number"})])],-1),Q=a("div",{class:"language-cpp line-numbers-mode","data-ext":"cpp"},[a("pre",{class:"language-cpp"},[a("code",null,`
`)]),a("div",{class:"line-numbers","aria-hidden":"true"},[a("div",{class:"line-number"})])],-1);function R(U,aa){const c=i("CodeTabs"),p=i("BiliBili");return u(),h("div",null,[v,d(" more "),M,_,f,j,L,A,B,P,S,N,z,q,O,V,m(c,{id:"97",data:[{title:"rust",id:"rust"},{title:"java",id:"java"},{title:"c++",id:"c++"}],"tab-id":"language"},{tab0:n(({title:l,value:t,isActive:e})=>[C]),tab1:n(({title:l,value:t,isActive:e})=>[K]),tab2:n(({title:l,value:t,isActive:e})=>[T]),_:1}),E,W,X,Y,Z,$,D,F,m(p,{bvid:"BV1tW41157tv",ratio:"16:9","low-quality":"","no-danmaku":""}),G,H,m(c,{id:"157",data:[{title:"rust",id:"rust"},{title:"java",id:"java"},{title:"c++",id:"c++"}],"tab-id":"language"},{tab0:n(({title:l,value:t,isActive:e})=>[I]),tab1:n(({title:l,value:t,isActive:e})=>[J]),tab2:n(({title:l,value:t,isActive:e})=>[Q]),_:1})])}const na=r(y,[["render",R],["__file","1.html.vue"]]);export{na as default};
